<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>VibeTerm - Mobile Terminal</title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var c=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,c.get?c:{enumerable:!0,get:function(){return e[i]}})}),r}var bh={exports:{}},Dn={},Eh={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),ff=Symbol.for("react.portal"),_f=Symbol.for("react.fragment"),pf=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),gf=Symbol.for("react.provider"),mf=Symbol.for("react.context"),yf=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),Cf=Symbol.for("react.memo"),wf=Symbol.for("react.lazy"),Hl=Symbol.iterator;function xf(e){return e===null||typeof e!="object"?null:(e=Hl&&e[Hl]||e["@@iterator"],typeof e=="function"?e:null)}var Lh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kh=Object.assign,Rh={};function ai(e,t,r){this.props=e,this.context=t,this.refs=Rh,this.updater=r||Lh}ai.prototype.isReactComponent={};ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dh(){}Dh.prototype=ai.prototype;function Ma(e,t,r){this.props=e,this.context=t,this.refs=Rh,this.updater=r||Lh}var Ta=Ma.prototype=new Dh;Ta.constructor=Ma;kh(Ta,ai.prototype);Ta.isPureReactComponent=!0;var jl=Array.isArray,Ah=Object.prototype.hasOwnProperty,Pa={current:null},Mh={key:!0,ref:!0,__self:!0,__source:!0};function Th(e,t,r){var i,c={},d=null,m=null;if(t!=null)for(i in t.ref!==void 0&&(m=t.ref),t.key!==void 0&&(d=""+t.key),t)Ah.call(t,i)&&!Mh.hasOwnProperty(i)&&(c[i]=t[i]);var s=arguments.length-2;if(s===1)c.children=r;else if(1<s){for(var n=Array(s),_=0;_<s;_++)n[_]=arguments[_+2];c.children=n}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)c[i]===void 0&&(c[i]=s[i]);return{$$typeof:is,type:e,key:d,ref:m,props:c,_owner:Pa.current}}function bf(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function Ef(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $l=/\/+/g;function to(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ef(""+e.key):t.toString(36)}function Fs(e,t,r,i,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var m=!1;if(e===null)m=!0;else switch(d){case"string":case"number":m=!0;break;case"object":switch(e.$$typeof){case is:case ff:m=!0}}if(m)return m=e,c=c(m),e=i===""?"."+to(m,0):i,jl(c)?(r="",e!=null&&(r=e.replace($l,"$&/")+"/"),Fs(c,t,r,"",function(_){return _})):c!=null&&(Ba(c)&&(c=bf(c,r+(!c.key||m&&m.key===c.key?"":(""+c.key).replace($l,"$&/")+"/")+e)),t.push(c)),1;if(m=0,i=i===""?".":i+":",jl(e))for(var s=0;s<e.length;s++){d=e[s];var n=i+to(d,s);m+=Fs(d,t,r,n,c)}else if(n=xf(e),typeof n=="function")for(e=n.call(e),s=0;!(d=e.next()).done;)d=d.value,n=i+to(d,s++),m+=Fs(d,t,r,n,c);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return m}function ms(e,t,r){if(e==null)return e;var i=[],c=0;return Fs(e,i,"","",function(d){return t.call(r,d,c++)}),i}function Lf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Hs={transition:null},kf={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Hs,ReactCurrentOwner:Pa};function Ph(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:ms,forEach:function(e,t,r){ms(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=ai;se.Fragment=_f;se.Profiler=vf;se.PureComponent=Ma;se.StrictMode=pf;se.Suspense=Sf;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kf;se.act=Ph;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=kh({},e.props),c=e.key,d=e.ref,m=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,m=Pa.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(n in t)Ah.call(t,n)&&!Mh.hasOwnProperty(n)&&(i[n]=t[n]===void 0&&s!==void 0?s[n]:t[n])}var n=arguments.length-2;if(n===1)i.children=r;else if(1<n){s=Array(n);for(var _=0;_<n;_++)s[_]=arguments[_+2];i.children=s}return{$$typeof:is,type:e.type,key:c,ref:d,props:i,_owner:m}};se.createContext=function(e){return e={$$typeof:mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gf,_context:e},e.Consumer=e};se.createElement=Th;se.createFactory=function(e){var t=Th.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:yf,render:e}};se.isValidElement=Ba;se.lazy=function(e){return{$$typeof:wf,_payload:{_status:-1,_result:e},_init:Lf}};se.memo=function(e,t){return{$$typeof:Cf,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Hs.transition;Hs.transition={};try{e()}finally{Hs.transition=t}};se.unstable_act=Ph;se.useCallback=function(e,t){return Ge.current.useCallback(e,t)};se.useContext=function(e){return Ge.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};se.useEffect=function(e,t){return Ge.current.useEffect(e,t)};se.useId=function(){return Ge.current.useId()};se.useImperativeHandle=function(e,t,r){return Ge.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Ge.current.useMemo(e,t)};se.useReducer=function(e,t,r){return Ge.current.useReducer(e,t,r)};se.useRef=function(e){return Ge.current.useRef(e)};se.useState=function(e){return Ge.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return Ge.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return Ge.current.useTransition()};se.version="18.3.1";Eh.exports=se;var Y=Eh.exports;const Rf=wh(Y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=Y,Af=Symbol.for("react.element"),Mf=Symbol.for("react.fragment"),Tf=Object.prototype.hasOwnProperty,Pf=Df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function Bh(e,t,r){var i,c={},d=null,m=null;r!==void 0&&(d=""+r),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(m=t.ref);for(i in t)Tf.call(t,i)&&!Bf.hasOwnProperty(i)&&(c[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)c[i]===void 0&&(c[i]=t[i]);return{$$typeof:Af,type:e,key:d,ref:m,props:c,_owner:Pf.current}}Dn.Fragment=Mf;Dn.jsx=Bh;Dn.jsxs=Bh;bh.exports=Dn;var N=bh.exports,To={},Oh={exports:{}},ot={},Ih={exports:{}},Nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,k){var M=O.length;O.push(k);e:for(;0<M;){var B=M-1>>>1,I=O[B];if(0<c(I,k))O[B]=k,O[M]=I,M=B;else break e}}function r(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var k=O[0],M=O.pop();if(M!==k){O[0]=M;e:for(var B=0,I=O.length,z=I>>>1;B<z;){var U=2*(B+1)-1,J=O[U],q=U+1,F=O[q];if(0>c(J,M))q<I&&0>c(F,J)?(O[B]=F,O[q]=M,B=q):(O[B]=J,O[U]=M,B=U);else if(q<I&&0>c(F,M))O[B]=F,O[q]=M,B=q;else break e}}return k}function c(O,k){var M=O.sortIndex-k.sortIndex;return M!==0?M:O.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,s=m.now();e.unstable_now=function(){return m.now()-s}}var n=[],_=[],v=1,u=null,p=3,C=!1,w=!1,f=!1,l=typeof setTimeout=="function"?setTimeout:null,o=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(O){for(var k=r(_);k!==null;){if(k.callback===null)i(_);else if(k.startTime<=O)i(_),k.sortIndex=k.expirationTime,t(n,k);else break;k=r(_)}}function g(O){if(f=!1,h(O),!w)if(r(n)!==null)w=!0,$(x);else{var k=r(_);k!==null&&j(g,k.startTime-O)}}function x(O,k){w=!1,f&&(f=!1,o(S),S=-1),C=!0;var M=p;try{for(h(k),u=r(n);u!==null&&(!(u.expirationTime>k)||O&&!A());){var B=u.callback;if(typeof B=="function"){u.callback=null,p=u.priorityLevel;var I=B(u.expirationTime<=k);k=e.unstable_now(),typeof I=="function"?u.callback=I:u===r(n)&&i(n),h(k)}else i(n);u=r(n)}if(u!==null)var z=!0;else{var U=r(_);U!==null&&j(g,U.startTime-k),z=!1}return z}finally{u=null,p=M,C=!1}}var y=!1,b=null,S=-1,E=5,L=-1;function A(){return!(e.unstable_now()-L<E)}function R(){if(b!==null){var O=e.unstable_now();L=O;var k=!0;try{k=b(!0,O)}finally{k?D():(y=!1,b=null)}}else y=!1}var D;if(typeof a=="function")D=function(){a(R)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,H=P.port2;P.port1.onmessage=R,D=function(){H.postMessage(null)}}else D=function(){l(R,0)};function $(O){b=O,y||(y=!0,D())}function j(O,k){S=l(function(){O(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||C||(w=!0,$(x))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(n)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var M=p;p=k;try{return O()}finally{p=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var M=p;p=O;try{return k()}finally{p=M}},e.unstable_scheduleCallback=function(O,k,M){var B=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,O){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=M+I,O={id:v++,callback:k,priorityLevel:O,startTime:M,expirationTime:I,sortIndex:-1},M>B?(O.sortIndex=M,t(_,O),r(n)===null&&O===r(_)&&(f?(o(S),S=-1):f=!0,j(g,M-B))):(O.sortIndex=I,t(n,O),w||C||(w=!0,$(x))),O},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(O){var k=p;return function(){var M=p;p=k;try{return O.apply(this,arguments)}finally{p=M}}}})(Nh);Ih.exports=Nh;var Of=Ih.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=Y,nt=Of;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fh=new Set,Ni={};function kr(e,t){Zr(e,t),Zr(e+"Capture",t)}function Zr(e,t){for(Ni[e]=t,e=0;e<t.length;e++)Fh.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=Object.prototype.hasOwnProperty,Nf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wl={},zl={};function Ff(e){return Po.call(zl,e)?!0:Po.call(Wl,e)?!1:Nf.test(e)?zl[e]=!0:(Wl[e]=!0,!1)}function Hf(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jf(e,t,r,i){if(t===null||typeof t>"u"||Hf(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,r,i,c,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oa=/[\-:]([a-z])/g;function Ia(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oa,Ia);Fe[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oa,Ia);Fe[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oa,Ia);Fe[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Na(e,t,r,i){var c=Fe.hasOwnProperty(t)?Fe[t]:null;(c!==null?c.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jf(t,r,c,i)&&(r=null),i||c===null?Ff(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):c.mustUseProperty?e[c.propertyName]=r===null?c.type===3?!1:"":r:(t=c.attributeName,i=c.attributeNamespace,r===null?e.removeAttribute(t):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Wt=If.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),Fa=Symbol.for("react.strict_mode"),Bo=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),jh=Symbol.for("react.context"),Ha=Symbol.for("react.forward_ref"),Oo=Symbol.for("react.suspense"),Io=Symbol.for("react.suspense_list"),ja=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),$h=Symbol.for("react.offscreen"),Ul=Symbol.iterator;function _i(e){return e===null||typeof e!="object"?null:(e=Ul&&e[Ul]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,ro;function bi(e){if(ro===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ro=t&&t[1]||""}return`
`+ro+e}var io=!1;function so(e,t){if(!e||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var i=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){i=_}e.call(t.prototype)}else{try{throw Error()}catch(_){i=_}e()}}catch(_){if(_&&i&&typeof _.stack=="string"){for(var c=_.stack.split(`
`),d=i.stack.split(`
`),m=c.length-1,s=d.length-1;1<=m&&0<=s&&c[m]!==d[s];)s--;for(;1<=m&&0<=s;m--,s--)if(c[m]!==d[s]){if(m!==1||s!==1)do if(m--,s--,0>s||c[m]!==d[s]){var n=`
`+c[m].replace(" at new "," at ");return e.displayName&&n.includes("<anonymous>")&&(n=n.replace("<anonymous>",e.displayName)),n}while(1<=m&&0<=s);break}}}finally{io=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bi(e):""}function $f(e){switch(e.tag){case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 2:case 15:return e=so(e.type,!1),e;case 11:return e=so(e.type.render,!1),e;case 1:return e=so(e.type,!0),e;default:return""}}function No(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case Pr:return"Portal";case Bo:return"Profiler";case Fa:return"StrictMode";case Oo:return"Suspense";case Io:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jh:return(e.displayName||"Context")+".Consumer";case Hh:return(e._context.displayName||"Context")+".Provider";case Ha:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ja:return t=e.displayName||null,t!==null?t:No(e.type)||"Memo";case Vt:t=e._payload,e=e._init;try{return No(e(t))}catch{}}return null}function Wf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return No(t);case 8:return t===Fa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zf(e){var t=Wh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){i=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=zf(e))}function zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Wh(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function en(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fo(e,t){var r=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vl(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=ar(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Uh(e,t){t=t.checked,t!=null&&Na(e,"checked",t,!1)}function Ho(e,t){Uh(e,t);var r=ar(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jo(e,t.type,r):t.hasOwnProperty("defaultValue")&&jo(e,t.type,ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jo(e,t,r){(t!=="number"||en(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ei=Array.isArray;function Vr(e,t,r,i){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&i&&(e[r].defaultSelected=!0)}else{for(r=""+ar(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function $o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Ei(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ar(r)}}function Vh(e,t){var r=ar(t.value),i=ar(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function ql(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cs,Kh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,c){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uf=["Webkit","ms","Moz","O"];Object.keys(Ri).forEach(function(e){Uf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ri[t]=Ri[e]})});function qh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ri.hasOwnProperty(e)&&Ri[e]?(""+t).trim():t+"px"}function Xh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,c=qh(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,c):e[r]=c}}var Vf=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zo(e,t){if(t){if(Vf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=null;function $a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Go=null,Gr=null,Kr=null;function Xl(e){if(e=os(e)){if(typeof Go!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Bn(t),Go(e.stateNode,e.type,t))}}function Yh(e){Gr?Kr?Kr.push(e):Kr=[e]:Gr=e}function Jh(){if(Gr){var e=Gr,t=Kr;if(Kr=Gr=null,Xl(e),t)for(e=0;e<t.length;e++)Xl(t[e])}}function Qh(e,t){return e(t)}function Zh(){}var no=!1;function eu(e,t,r){if(no)return e(t,r);no=!0;try{return Qh(e,t,r)}finally{no=!1,(Gr!==null||Kr!==null)&&(Zh(),Jh())}}function Hi(e,t){var r=e.stateNode;if(r===null)return null;var i=Bn(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Ko=!1;if(Ft)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Ko=!1}function Gf(e,t,r,i,c,d,m,s,n){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(v){this.onError(v)}}var Di=!1,tn=null,rn=!1,qo=null,Kf={onError:function(e){Di=!0,tn=e}};function qf(e,t,r,i,c,d,m,s,n){Di=!1,tn=null,Gf.apply(Kf,arguments)}function Xf(e,t,r,i,c,d,m,s,n){if(qf.apply(this,arguments),Di){if(Di){var _=tn;Di=!1,tn=null}else throw Error(G(198));rn||(rn=!0,qo=_)}}function Rr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yl(e){if(Rr(e)!==e)throw Error(G(188))}function Yf(e){var t=e.alternate;if(!t){if(t=Rr(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,i=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(i=c.return,i!==null){r=i;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return Yl(c),e;if(d===i)return Yl(c),t;d=d.sibling}throw Error(G(188))}if(r.return!==i.return)r=c,i=d;else{for(var m=!1,s=c.child;s;){if(s===r){m=!0,r=c,i=d;break}if(s===i){m=!0,i=c,r=d;break}s=s.sibling}if(!m){for(s=d.child;s;){if(s===r){m=!0,r=d,i=c;break}if(s===i){m=!0,i=d,r=c;break}s=s.sibling}if(!m)throw Error(G(189))}}if(r.alternate!==i)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function ru(e){return e=Yf(e),e!==null?iu(e):null}function iu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iu(e);if(t!==null)return t;e=e.sibling}return null}var su=nt.unstable_scheduleCallback,Jl=nt.unstable_cancelCallback,Jf=nt.unstable_shouldYield,Qf=nt.unstable_requestPaint,Ee=nt.unstable_now,Zf=nt.unstable_getCurrentPriorityLevel,Wa=nt.unstable_ImmediatePriority,nu=nt.unstable_UserBlockingPriority,sn=nt.unstable_NormalPriority,e_=nt.unstable_LowPriority,ou=nt.unstable_IdlePriority,An=null,Rt=null;function t_(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(An,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:s_,r_=Math.log,i_=Math.LN2;function s_(e){return e>>>=0,e===0?32:31-(r_(e)/i_|0)|0}var ws=64,xs=4194304;function Li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nn(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,c=e.suspendedLanes,d=e.pingedLanes,m=r&268435455;if(m!==0){var s=m&~c;s!==0?i=Li(s):(d&=m,d!==0&&(i=Li(d)))}else m=r&~c,m!==0?i=Li(m):d!==0&&(i=Li(d));if(i===0)return 0;if(t!==0&&t!==i&&!(t&c)&&(c=i&-i,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-St(t),c=1<<r,i|=e[r],t&=~c;return i}function n_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o_(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-St(d),s=1<<m,n=c[m];n===-1?(!(s&r)||s&i)&&(c[m]=n_(s,t)):n<=t&&(e.expiredLanes|=s),d&=~s}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function au(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function oo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ss(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=r}function a_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var c=31-St(r),d=1<<c;t[c]=0,i[c]=-1,e[c]=-1,r&=~d}}function za(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-St(r),c=1<<i;c&t|e[i]&t&&(e[i]|=t),r&=~c}}var fe=0;function lu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cu,Ua,hu,uu,du,Yo=!1,bs=[],Qt=null,Zt=null,er=null,ji=new Map,$i=new Map,Kt=[],l_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ql(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function vi(e,t,r,i,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[c]},t!==null&&(t=os(t),t!==null&&Ua(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function c_(e,t,r,i,c){switch(t){case"focusin":return Qt=vi(Qt,e,t,r,i,c),!0;case"dragenter":return Zt=vi(Zt,e,t,r,i,c),!0;case"mouseover":return er=vi(er,e,t,r,i,c),!0;case"pointerover":var d=c.pointerId;return ji.set(d,vi(ji.get(d)||null,e,t,r,i,c)),!0;case"gotpointercapture":return d=c.pointerId,$i.set(d,vi($i.get(d)||null,e,t,r,i,c)),!0}return!1}function fu(e){var t=pr(e.target);if(t!==null){var r=Rr(t);if(r!==null){if(t=r.tag,t===13){if(t=tu(r),t!==null){e.blockedOn=t,du(e.priority,function(){hu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Vo=i,r.target.dispatchEvent(i),Vo=null}else return t=os(r),t!==null&&Ua(t),e.blockedOn=r,!1;t.shift()}return!0}function Zl(e,t,r){js(e)&&r.delete(t)}function h_(){Yo=!1,Qt!==null&&js(Qt)&&(Qt=null),Zt!==null&&js(Zt)&&(Zt=null),er!==null&&js(er)&&(er=null),ji.forEach(Zl),$i.forEach(Zl)}function gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Yo||(Yo=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,h_)))}function Wi(e){function t(c){return gi(c,e)}if(0<bs.length){gi(bs[0],e);for(var r=1;r<bs.length;r++){var i=bs[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Qt!==null&&gi(Qt,e),Zt!==null&&gi(Zt,e),er!==null&&gi(er,e),ji.forEach(t),$i.forEach(t),r=0;r<Kt.length;r++)i=Kt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Kt.length&&(r=Kt[0],r.blockedOn===null);)fu(r),r.blockedOn===null&&Kt.shift()}var qr=Wt.ReactCurrentBatchConfig,on=!0;function u_(e,t,r,i){var c=fe,d=qr.transition;qr.transition=null;try{fe=1,Va(e,t,r,i)}finally{fe=c,qr.transition=d}}function d_(e,t,r,i){var c=fe,d=qr.transition;qr.transition=null;try{fe=4,Va(e,t,r,i)}finally{fe=c,qr.transition=d}}function Va(e,t,r,i){if(on){var c=Jo(e,t,r,i);if(c===null)go(e,t,i,an,r),Ql(e,i);else if(c_(c,e,t,r,i))i.stopPropagation();else if(Ql(e,i),t&4&&-1<l_.indexOf(e)){for(;c!==null;){var d=os(c);if(d!==null&&cu(d),d=Jo(e,t,r,i),d===null&&go(e,t,i,an,r),d===c)break;c=d}c!==null&&i.stopPropagation()}else go(e,t,i,null,r)}}var an=null;function Jo(e,t,r,i){if(an=null,e=$a(i),e=pr(e),e!==null)if(t=Rr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return an=e,null}function _u(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zf()){case Wa:return 1;case nu:return 4;case sn:case e_:return 16;case ou:return 536870912;default:return 16}default:return 16}}var Xt=null,Ga=null,$s=null;function pu(){if($s)return $s;var e,t=Ga,r=t.length,i,c="value"in Xt?Xt.value:Xt.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var m=r-e;for(i=1;i<=m&&t[r-i]===c[d-i];i++);return $s=c.slice(e,1<i?1-i:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function ec(){return!1}function at(e){function t(r,i,c,d,m){this._reactName=r,this._targetInst=c,this.type=i,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(d):d[s]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Es:ec,this.isPropagationStopped=ec,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=at(li),ns=we({},li,{view:0,detail:0}),f_=at(ns),ao,lo,mi,Mn=we({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ao=e.screenX-mi.screenX,lo=e.screenY-mi.screenY):lo=ao=0,mi=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),tc=at(Mn),__=we({},Mn,{dataTransfer:0}),p_=at(__),v_=we({},ns,{relatedTarget:0}),co=at(v_),g_=we({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),m_=at(g_),y_=we({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S_=at(y_),C_=we({},li,{data:0}),rc=at(C_),w_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b_[e])?!!t[e]:!1}function qa(){return E_}var L_=we({},ns,{key:function(e){if(e.key){var t=w_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k_=at(L_),R_=we({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=at(R_),D_=we({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),A_=at(D_),M_=we({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),T_=at(M_),P_=we({},Mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B_=at(P_),O_=[9,13,27,32],Xa=Ft&&"CompositionEvent"in window,Ai=null;Ft&&"documentMode"in document&&(Ai=document.documentMode);var I_=Ft&&"TextEvent"in window&&!Ai,vu=Ft&&(!Xa||Ai&&8<Ai&&11>=Ai),sc=" ",nc=!1;function gu(e,t){switch(e){case"keyup":return O_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function N_(e,t){switch(e){case"compositionend":return mu(t);case"keypress":return t.which!==32?null:(nc=!0,sc);case"textInput":return e=t.data,e===sc&&nc?null:e;default:return null}}function F_(e,t){if(Or)return e==="compositionend"||!Xa&&gu(e,t)?(e=pu(),$s=Ga=Xt=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vu&&t.locale!=="ko"?null:t.data;default:return null}}var H_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H_[e.type]:t==="textarea"}function yu(e,t,r,i){Yh(i),t=ln(t,"onChange"),0<t.length&&(r=new Ka("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Mi=null,zi=null;function j_(e){Au(e,0)}function Tn(e){var t=Fr(e);if(zh(t))return e}function $_(e,t){if(e==="change")return t}var Su=!1;if(Ft){var ho;if(Ft){var uo="oninput"in document;if(!uo){var ac=document.createElement("div");ac.setAttribute("oninput","return;"),uo=typeof ac.oninput=="function"}ho=uo}else ho=!1;Su=ho&&(!document.documentMode||9<document.documentMode)}function lc(){Mi&&(Mi.detachEvent("onpropertychange",Cu),zi=Mi=null)}function Cu(e){if(e.propertyName==="value"&&Tn(zi)){var t=[];yu(t,zi,e,$a(e)),eu(j_,t)}}function W_(e,t,r){e==="focusin"?(lc(),Mi=t,zi=r,Mi.attachEvent("onpropertychange",Cu)):e==="focusout"&&lc()}function z_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tn(zi)}function U_(e,t){if(e==="click")return Tn(t)}function V_(e,t){if(e==="input"||e==="change")return Tn(t)}function G_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:G_;function Ui(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var c=r[i];if(!Po.call(t,c)||!wt(e[c],t[c]))return!1}return!0}function cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var r=cc(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cc(r)}}function wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xu(){for(var e=window,t=en();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=en(e.document)}return t}function Ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K_(e){var t=xu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wu(r.ownerDocument.documentElement,r)){if(i!==null&&Ya(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=r.textContent.length,d=Math.min(i.start,c);i=i.end===void 0?d:Math.min(i.end,c),!e.extend&&d>i&&(c=i,i=d,d=c),c=hc(r,d);var m=hc(r,i);c&&m&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var q_=Ft&&"documentMode"in document&&11>=document.documentMode,Ir=null,Qo=null,Ti=null,Zo=!1;function uc(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zo||Ir==null||Ir!==en(i)||(i=Ir,"selectionStart"in i&&Ya(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ti&&Ui(Ti,i)||(Ti=i,i=ln(Qo,"onSelect"),0<i.length&&(t=new Ka("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Ir)))}function Ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},fo={},bu={};Ft&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Pn(e){if(fo[e])return fo[e];if(!Nr[e])return e;var t=Nr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bu)return fo[e]=t[r];return e}var Eu=Pn("animationend"),Lu=Pn("animationiteration"),ku=Pn("animationstart"),Ru=Pn("transitionend"),Du=new Map,dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){Du.set(e,t),kr(t,[e])}for(var _o=0;_o<dc.length;_o++){var po=dc[_o],X_=po.toLowerCase(),Y_=po[0].toUpperCase()+po.slice(1);cr(X_,"on"+Y_)}cr(Eu,"onAnimationEnd");cr(Lu,"onAnimationIteration");cr(ku,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(Ru,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function fc(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Xf(i,t,void 0,e),e.currentTarget=null}function Au(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],c=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var m=i.length-1;0<=m;m--){var s=i[m],n=s.instance,_=s.currentTarget;if(s=s.listener,n!==d&&c.isPropagationStopped())break e;fc(c,s,_),d=n}else for(m=0;m<i.length;m++){if(s=i[m],n=s.instance,_=s.currentTarget,s=s.listener,n!==d&&c.isPropagationStopped())break e;fc(c,s,_),d=n}}}if(rn)throw e=qo,rn=!1,qo=null,e}function ge(e,t){var r=t[sa];r===void 0&&(r=t[sa]=new Set);var i=e+"__bubble";r.has(i)||(Mu(t,e,2,!1),r.add(i))}function vo(e,t,r){var i=0;t&&(i|=4),Mu(r,e,i,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[ks]){e[ks]=!0,Fh.forEach(function(r){r!=="selectionchange"&&(J_.has(r)||vo(r,!1,e),vo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,vo("selectionchange",!1,t))}}function Mu(e,t,r,i){switch(_u(t)){case 1:var c=u_;break;case 4:c=d_;break;default:c=Va}r=c.bind(null,t,r,e),c=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function go(e,t,r,i,c){var d=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var s=i.stateNode.containerInfo;if(s===c||s.nodeType===8&&s.parentNode===c)break;if(m===4)for(m=i.return;m!==null;){var n=m.tag;if((n===3||n===4)&&(n=m.stateNode.containerInfo,n===c||n.nodeType===8&&n.parentNode===c))return;m=m.return}for(;s!==null;){if(m=pr(s),m===null)return;if(n=m.tag,n===5||n===6){i=d=m;continue e}s=s.parentNode}}i=i.return}eu(function(){var _=d,v=$a(r),u=[];e:{var p=Du.get(e);if(p!==void 0){var C=Ka,w=e;switch(e){case"keypress":if(Ws(r)===0)break e;case"keydown":case"keyup":C=k_;break;case"focusin":w="focus",C=co;break;case"focusout":w="blur",C=co;break;case"beforeblur":case"afterblur":C=co;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=A_;break;case Eu:case Lu:case ku:C=m_;break;case Ru:C=T_;break;case"scroll":C=f_;break;case"wheel":C=B_;break;case"copy":case"cut":case"paste":C=S_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=ic}var f=(t&4)!==0,l=!f&&e==="scroll",o=f?p!==null?p+"Capture":null:p;f=[];for(var a=_,h;a!==null;){h=a;var g=h.stateNode;if(h.tag===5&&g!==null&&(h=g,o!==null&&(g=Hi(a,o),g!=null&&f.push(Gi(a,g,h)))),l)break;a=a.return}0<f.length&&(p=new C(p,w,null,r,v),u.push({event:p,listeners:f}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",p&&r!==Vo&&(w=r.relatedTarget||r.fromElement)&&(pr(w)||w[Ht]))break e;if((C||p)&&(p=v.window===v?v:(p=v.ownerDocument)?p.defaultView||p.parentWindow:window,C?(w=r.relatedTarget||r.toElement,C=_,w=w?pr(w):null,w!==null&&(l=Rr(w),w!==l||w.tag!==5&&w.tag!==6)&&(w=null)):(C=null,w=_),C!==w)){if(f=tc,g="onMouseLeave",o="onMouseEnter",a="mouse",(e==="pointerout"||e==="pointerover")&&(f=ic,g="onPointerLeave",o="onPointerEnter",a="pointer"),l=C==null?p:Fr(C),h=w==null?p:Fr(w),p=new f(g,a+"leave",C,r,v),p.target=l,p.relatedTarget=h,g=null,pr(v)===_&&(f=new f(o,a+"enter",w,r,v),f.target=h,f.relatedTarget=l,g=f),l=g,C&&w)t:{for(f=C,o=w,a=0,h=f;h;h=Tr(h))a++;for(h=0,g=o;g;g=Tr(g))h++;for(;0<a-h;)f=Tr(f),a--;for(;0<h-a;)o=Tr(o),h--;for(;a--;){if(f===o||o!==null&&f===o.alternate)break t;f=Tr(f),o=Tr(o)}f=null}else f=null;C!==null&&_c(u,p,C,f,!1),w!==null&&l!==null&&_c(u,l,w,f,!0)}}e:{if(p=_?Fr(_):window,C=p.nodeName&&p.nodeName.toLowerCase(),C==="select"||C==="input"&&p.type==="file")var x=$_;else if(oc(p))if(Su)x=V_;else{x=z_;var y=W_}else(C=p.nodeName)&&C.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=U_);if(x&&(x=x(e,_))){yu(u,x,r,v);break e}y&&y(e,p,_),e==="focusout"&&(y=p._wrapperState)&&y.controlled&&p.type==="number"&&jo(p,"number",p.value)}switch(y=_?Fr(_):window,e){case"focusin":(oc(y)||y.contentEditable==="true")&&(Ir=y,Qo=_,Ti=null);break;case"focusout":Ti=Qo=Ir=null;break;case"mousedown":Zo=!0;break;case"contextmenu":case"mouseup":case"dragend":Zo=!1,uc(u,r,v);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":uc(u,r,v)}var b;if(Xa)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Or?gu(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(vu&&r.locale!=="ko"&&(Or||S!=="onCompositionStart"?S==="onCompositionEnd"&&Or&&(b=pu()):(Xt=v,Ga="value"in Xt?Xt.value:Xt.textContent,Or=!0)),y=ln(_,S),0<y.length&&(S=new rc(S,e,null,r,v),u.push({event:S,listeners:y}),b?S.data=b:(b=mu(r),b!==null&&(S.data=b)))),(b=I_?N_(e,r):F_(e,r))&&(_=ln(_,"onBeforeInput"),0<_.length&&(v=new rc("onBeforeInput","beforeinput",null,r,v),u.push({event:v,listeners:_}),v.data=b))}Au(u,t)})}function Gi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ln(e,t){for(var r=t+"Capture",i=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Hi(e,r),d!=null&&i.unshift(Gi(e,d,c)),d=Hi(e,t),d!=null&&i.push(Gi(e,d,c))),e=e.return}return i}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _c(e,t,r,i,c){for(var d=t._reactName,m=[];r!==null&&r!==i;){var s=r,n=s.alternate,_=s.stateNode;if(n!==null&&n===i)break;s.tag===5&&_!==null&&(s=_,c?(n=Hi(r,d),n!=null&&m.unshift(Gi(r,n,s))):c||(n=Hi(r,d),n!=null&&m.push(Gi(r,n,s)))),r=r.return}m.length!==0&&e.push({event:t,listeners:m})}var Q_=/\r\n?/g,Z_=/\u0000|\uFFFD/g;function pc(e){return(typeof e=="string"?e:""+e).replace(Q_,`
`).replace(Z_,"")}function Rs(e,t,r){if(t=pc(t),pc(e)!==t&&r)throw Error(G(425))}function cn(){}var ea=null,ta=null;function ra(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,ep=typeof clearTimeout=="function"?clearTimeout:void 0,vc=typeof Promise=="function"?Promise:void 0,tp=typeof queueMicrotask=="function"?queueMicrotask:typeof vc<"u"?function(e){return vc.resolve(null).then(e).catch(rp)}:ia;function rp(e){setTimeout(function(){throw e})}function mo(e,t){var r=t,i=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(i===0){e.removeChild(c),Wi(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=c}while(r);Wi(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),kt="__reactFiber$"+ci,Ki="__reactProps$"+ci,Ht="__reactContainer$"+ci,sa="__reactEvents$"+ci,ip="__reactListeners$"+ci,sp="__reactHandles$"+ci;function pr(e){var t=e[kt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ht]||r[kt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gc(e);e!==null;){if(r=e[kt])return r;e=gc(e)}return t}e=r,r=e.parentNode}return null}function os(e){return e=e[kt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Bn(e){return e[Ki]||null}var na=[],Hr=-1;function hr(e){return{current:e}}function me(e){0>Hr||(e.current=na[Hr],na[Hr]=null,Hr--)}function pe(e,t){Hr++,na[Hr]=e.current,e.current=t}var lr={},ze=hr(lr),Je=hr(!1),Cr=lr;function ei(e,t){var r=e.type.contextTypes;if(!r)return lr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in r)c[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Qe(e){return e=e.childContextTypes,e!=null}function hn(){me(Je),me(ze)}function mc(e,t,r){if(ze.current!==lr)throw Error(G(168));pe(ze,t),pe(Je,r)}function Tu(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var c in i)if(!(c in t))throw Error(G(108,Wf(e)||"Unknown",c));return we({},r,i)}function un(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Cr=ze.current,pe(ze,e),pe(Je,Je.current),!0}function yc(e,t,r){var i=e.stateNode;if(!i)throw Error(G(169));r?(e=Tu(e,t,Cr),i.__reactInternalMemoizedMergedChildContext=e,me(Je),me(ze),pe(ze,e)):me(Je),pe(Je,r)}var Pt=null,On=!1,yo=!1;function Pu(e){Pt===null?Pt=[e]:Pt.push(e)}function np(e){On=!0,Pu(e)}function ur(){if(!yo&&Pt!==null){yo=!0;var e=0,t=fe;try{var r=Pt;for(fe=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Pt=null,On=!1}catch(c){throw Pt!==null&&(Pt=Pt.slice(e+1)),su(Wa,ur),c}finally{fe=t,yo=!1}}return null}var jr=[],$r=0,dn=null,fn=0,ct=[],ht=0,wr=null,Bt=1,Ot="";function fr(e,t){jr[$r++]=fn,jr[$r++]=dn,dn=e,fn=t}function Bu(e,t,r){ct[ht++]=Bt,ct[ht++]=Ot,ct[ht++]=wr,wr=e;var i=Bt;e=Ot;var c=32-St(i)-1;i&=~(1<<c),r+=1;var d=32-St(t)+c;if(30<d){var m=c-c%5;d=(i&(1<<m)-1).toString(32),i>>=m,c-=m,Bt=1<<32-St(t)+c|r<<c|i,Ot=d+e}else Bt=1<<d|r<<c|i,Ot=e}function Ja(e){e.return!==null&&(fr(e,1),Bu(e,1,0))}function Qa(e){for(;e===dn;)dn=jr[--$r],jr[$r]=null,fn=jr[--$r],jr[$r]=null;for(;e===wr;)wr=ct[--ht],ct[ht]=null,Ot=ct[--ht],ct[ht]=null,Bt=ct[--ht],ct[ht]=null}var it=null,rt=null,ye=!1,yt=null;function Ou(e,t){var r=ut(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,rt=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wr!==null?{id:Bt,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ut(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,it=e,rt=null,!0):!1;default:return!1}}function oa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function aa(e){if(ye){var t=rt;if(t){var r=t;if(!Sc(e,t)){if(oa(e))throw Error(G(418));t=tr(r.nextSibling);var i=it;t&&Sc(e,t)?Ou(i,r):(e.flags=e.flags&-4097|2,ye=!1,it=e)}}else{if(oa(e))throw Error(G(418));e.flags=e.flags&-4097|2,ye=!1,it=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Ds(e){if(e!==it)return!1;if(!ye)return Cc(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ra(e.type,e.memoizedProps)),t&&(t=rt)){if(oa(e))throw Iu(),Error(G(418));for(;t;)Ou(e,t),t=tr(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rt=tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=it?tr(e.stateNode.nextSibling):null;return!0}function Iu(){for(var e=rt;e;)e=tr(e.nextSibling)}function ti(){rt=it=null,ye=!1}function Za(e){yt===null?yt=[e]:yt.push(e)}var op=Wt.ReactCurrentBatchConfig;function yi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var i=r.stateNode}if(!i)throw Error(G(147,e));var c=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var s=c.refs;m===null?delete s[d]:s[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wc(e){var t=e._init;return t(e._payload)}function Nu(e){function t(o,a){if(e){var h=o.deletions;h===null?(o.deletions=[a],o.flags|=16):h.push(a)}}function r(o,a){if(!e)return null;for(;a!==null;)t(o,a),a=a.sibling;return null}function i(o,a){for(o=new Map;a!==null;)a.key!==null?o.set(a.key,a):o.set(a.index,a),a=a.sibling;return o}function c(o,a){return o=nr(o,a),o.index=0,o.sibling=null,o}function d(o,a,h){return o.index=h,e?(h=o.alternate,h!==null?(h=h.index,h<a?(o.flags|=2,a):h):(o.flags|=2,a)):(o.flags|=1048576,a)}function m(o){return e&&o.alternate===null&&(o.flags|=2),o}function s(o,a,h,g){return a===null||a.tag!==6?(a=Lo(h,o.mode,g),a.return=o,a):(a=c(a,h),a.return=o,a)}function n(o,a,h,g){var x=h.type;return x===Br?v(o,a,h.props.children,g,h.key):a!==null&&(a.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vt&&wc(x)===a.type)?(g=c(a,h.props),g.ref=yi(o,a,h),g.return=o,g):(g=Xs(h.type,h.key,h.props,null,o.mode,g),g.ref=yi(o,a,h),g.return=o,g)}function _(o,a,h,g){return a===null||a.tag!==4||a.stateNode.containerInfo!==h.containerInfo||a.stateNode.implementation!==h.implementation?(a=ko(h,o.mode,g),a.return=o,a):(a=c(a,h.children||[]),a.return=o,a)}function v(o,a,h,g,x){return a===null||a.tag!==7?(a=Sr(h,o.mode,g,x),a.return=o,a):(a=c(a,h),a.return=o,a)}function u(o,a,h){if(typeof a=="string"&&a!==""||typeof a=="number")return a=Lo(""+a,o.mode,h),a.return=o,a;if(typeof a=="object"&&a!==null){switch(a.$$typeof){case ys:return h=Xs(a.type,a.key,a.props,null,o.mode,h),h.ref=yi(o,null,a),h.return=o,h;case Pr:return a=ko(a,o.mode,h),a.return=o,a;case Vt:var g=a._init;return u(o,g(a._payload),h)}if(Ei(a)||_i(a))return a=Sr(a,o.mode,h,null),a.return=o,a;As(o,a)}return null}function p(o,a,h,g){var x=a!==null?a.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return x!==null?null:s(o,a,""+h,g);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ys:return h.key===x?n(o,a,h,g):null;case Pr:return h.key===x?_(o,a,h,g):null;case Vt:return x=h._init,p(o,a,x(h._payload),g)}if(Ei(h)||_i(h))return x!==null?null:v(o,a,h,g,null);As(o,h)}return null}function C(o,a,h,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return o=o.get(h)||null,s(a,o,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ys:return o=o.get(g.key===null?h:g.key)||null,n(a,o,g,x);case Pr:return o=o.get(g.key===null?h:g.key)||null,_(a,o,g,x);case Vt:var y=g._init;return C(o,a,h,y(g._payload),x)}if(Ei(g)||_i(g))return o=o.get(h)||null,v(a,o,g,x,null);As(a,g)}return null}function w(o,a,h,g){for(var x=null,y=null,b=a,S=a=0,E=null;b!==null&&S<h.length;S++){b.index>S?(E=b,b=null):E=b.sibling;var L=p(o,b,h[S],g);if(L===null){b===null&&(b=E);break}e&&b&&L.alternate===null&&t(o,b),a=d(L,a,S),y===null?x=L:y.sibling=L,y=L,b=E}if(S===h.length)return r(o,b),ye&&fr(o,S),x;if(b===null){for(;S<h.length;S++)b=u(o,h[S],g),b!==null&&(a=d(b,a,S),y===null?x=b:y.sibling=b,y=b);return ye&&fr(o,S),x}for(b=i(o,b);S<h.length;S++)E=C(b,o,S,h[S],g),E!==null&&(e&&E.alternate!==null&&b.delete(E.key===null?S:E.key),a=d(E,a,S),y===null?x=E:y.sibling=E,y=E);return e&&b.forEach(function(A){return t(o,A)}),ye&&fr(o,S),x}function f(o,a,h,g){var x=_i(h);if(typeof x!="function")throw Error(G(150));if(h=x.call(h),h==null)throw Error(G(151));for(var y=x=null,b=a,S=a=0,E=null,L=h.next();b!==null&&!L.done;S++,L=h.next()){b.index>S?(E=b,b=null):E=b.sibling;var A=p(o,b,L.value,g);if(A===null){b===null&&(b=E);break}e&&b&&A.alternate===null&&t(o,b),a=d(A,a,S),y===null?x=A:y.sibling=A,y=A,b=E}if(L.done)return r(o,b),ye&&fr(o,S),x;if(b===null){for(;!L.done;S++,L=h.next())L=u(o,L.value,g),L!==null&&(a=d(L,a,S),y===null?x=L:y.sibling=L,y=L);return ye&&fr(o,S),x}for(b=i(o,b);!L.done;S++,L=h.next())L=C(b,o,S,L.value,g),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?S:L.key),a=d(L,a,S),y===null?x=L:y.sibling=L,y=L);return e&&b.forEach(function(R){return t(o,R)}),ye&&fr(o,S),x}function l(o,a,h,g){if(typeof h=="object"&&h!==null&&h.type===Br&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ys:e:{for(var x=h.key,y=a;y!==null;){if(y.key===x){if(x=h.type,x===Br){if(y.tag===7){r(o,y.sibling),a=c(y,h.props.children),a.return=o,o=a;break e}}else if(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vt&&wc(x)===y.type){r(o,y.sibling),a=c(y,h.props),a.ref=yi(o,y,h),a.return=o,o=a;break e}r(o,y);break}else t(o,y);y=y.sibling}h.type===Br?(a=Sr(h.props.children,o.mode,g,h.key),a.return=o,o=a):(g=Xs(h.type,h.key,h.props,null,o.mode,g),g.ref=yi(o,a,h),g.return=o,o=g)}return m(o);case Pr:e:{for(y=h.key;a!==null;){if(a.key===y)if(a.tag===4&&a.stateNode.containerInfo===h.containerInfo&&a.stateNode.implementation===h.implementation){r(o,a.sibling),a=c(a,h.children||[]),a.return=o,o=a;break e}else{r(o,a);break}else t(o,a);a=a.sibling}a=ko(h,o.mode,g),a.return=o,o=a}return m(o);case Vt:return y=h._init,l(o,a,y(h._payload),g)}if(Ei(h))return w(o,a,h,g);if(_i(h))return f(o,a,h,g);As(o,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,a!==null&&a.tag===6?(r(o,a.sibling),a=c(a,h),a.return=o,o=a):(r(o,a),a=Lo(h,o.mode,g),a.return=o,o=a),m(o)):r(o,a)}return l}var ri=Nu(!0),Fu=Nu(!1),_n=hr(null),pn=null,Wr=null,el=null;function tl(){el=Wr=pn=null}function rl(e){var t=_n.current;me(_n),e._currentValue=t}function la(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Xr(e,t){pn=e,el=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(el!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(pn===null)throw Error(G(308));Wr=e,pn.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var vr=null;function il(e){vr===null?vr=[e]:vr.push(e)}function Hu(e,t,r,i){var c=t.interleaved;return c===null?(r.next=r,il(t)):(r.next=c.next,c.next=r),t.interleaved=r,jt(e,i)}function jt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gt=!1;function sl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ju(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,le&2){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,jt(e,r)}return c=i.interleaved,c===null?(t.next=t,il(i)):(t.next=c.next,c.next=t),i.interleaved=t,jt(e,r)}function zs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,za(e,r)}}function xc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var m={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?c=d=m:d=d.next=m,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vn(e,t,r,i){var c=e.updateQueue;Gt=!1;var d=c.firstBaseUpdate,m=c.lastBaseUpdate,s=c.shared.pending;if(s!==null){c.shared.pending=null;var n=s,_=n.next;n.next=null,m===null?d=_:m.next=_,m=n;var v=e.alternate;v!==null&&(v=v.updateQueue,s=v.lastBaseUpdate,s!==m&&(s===null?v.firstBaseUpdate=_:s.next=_,v.lastBaseUpdate=n))}if(d!==null){var u=c.baseState;m=0,v=_=n=null,s=d;do{var p=s.lane,C=s.eventTime;if((i&p)===p){v!==null&&(v=v.next={eventTime:C,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var w=e,f=s;switch(p=t,C=r,f.tag){case 1:if(w=f.payload,typeof w=="function"){u=w.call(C,u,p);break e}u=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=f.payload,p=typeof w=="function"?w.call(C,u,p):w,p==null)break e;u=we({},u,p);break e;case 2:Gt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=c.effects,p===null?c.effects=[s]:p.push(s))}else C={eventTime:C,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},v===null?(_=v=C,n=u):v=v.next=C,m|=p;if(s=s.next,s===null){if(s=c.shared.pending,s===null)break;p=s,s=p.next,p.next=null,c.lastBaseUpdate=p,c.shared.pending=null}}while(!0);if(v===null&&(n=u),c.baseState=n,c.firstBaseUpdate=_,c.lastBaseUpdate=v,t=c.shared.interleaved,t!==null){c=t;do m|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);br|=m,e.lanes=m,e.memoizedState=u}}function bc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],c=i.callback;if(c!==null){if(i.callback=null,i=r,typeof c!="function")throw Error(G(191,c));c.call(i)}}}var as={},Dt=hr(as),qi=hr(as),Xi=hr(as);function gr(e){if(e===as)throw Error(G(174));return e}function nl(e,t){switch(pe(Xi,t),pe(qi,e),pe(Dt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wo(t,e)}me(Dt),pe(Dt,t)}function ii(){me(Dt),me(qi),me(Xi)}function $u(e){gr(Xi.current);var t=gr(Dt.current),r=Wo(t,e.type);t!==r&&(pe(qi,e),pe(Dt,r))}function ol(e){qi.current===e&&(me(Dt),me(qi))}var Se=hr(0);function gn(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var So=[];function al(){for(var e=0;e<So.length;e++)So[e]._workInProgressVersionPrimary=null;So.length=0}var Us=Wt.ReactCurrentDispatcher,Co=Wt.ReactCurrentBatchConfig,xr=0,Ce=null,Ae=null,Pe=null,mn=!1,Pi=!1,Yi=0,ap=0;function He(){throw Error(G(321))}function ll(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wt(e[r],t[r]))return!1;return!0}function cl(e,t,r,i,c,d){if(xr=d,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Us.current=e===null||e.memoizedState===null?up:dp,e=r(i,c),Pi){d=0;do{if(Pi=!1,Yi=0,25<=d)throw Error(G(301));d+=1,Pe=Ae=null,t.updateQueue=null,Us.current=fp,e=r(i,c)}while(Pi)}if(Us.current=yn,t=Ae!==null&&Ae.next!==null,xr=0,Pe=Ae=Ce=null,mn=!1,t)throw Error(G(300));return e}function hl(){var e=Yi!==0;return Yi=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Ce.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function _t(){if(Ae===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Pe===null?Ce.memoizedState:Pe.next;if(t!==null)Pe=t,Ae=e;else{if(e===null)throw Error(G(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Pe===null?Ce.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Ji(e,t){return typeof t=="function"?t(e):t}function wo(e){var t=_t(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var i=Ae,c=i.baseQueue,d=r.pending;if(d!==null){if(c!==null){var m=c.next;c.next=d.next,d.next=m}i.baseQueue=c=d,r.pending=null}if(c!==null){d=c.next,i=i.baseState;var s=m=null,n=null,_=d;do{var v=_.lane;if((xr&v)===v)n!==null&&(n=n.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),i=_.hasEagerState?_.eagerState:e(i,_.action);else{var u={lane:v,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};n===null?(s=n=u,m=i):n=n.next=u,Ce.lanes|=v,br|=v}_=_.next}while(_!==null&&_!==d);n===null?m=i:n.next=s,wt(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseState=m,t.baseQueue=n,r.lastRenderedState=i}if(e=r.interleaved,e!==null){c=e;do d=c.lane,Ce.lanes|=d,br|=d,c=c.next;while(c!==e)}else c===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xo(e){var t=_t(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var i=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var m=c=c.next;do d=e(d,m.action),m=m.next;while(m!==c);wt(d,t.memoizedState)||(Ye=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function Wu(){}function zu(e,t){var r=Ce,i=_t(),c=t(),d=!wt(i.memoizedState,c);if(d&&(i.memoizedState=c,Ye=!0),i=i.queue,ul(Gu.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,Qi(9,Vu.bind(null,r,i,c,t),void 0,null),Be===null)throw Error(G(349));xr&30||Uu(r,t,c)}return c}function Uu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vu(e,t,r,i){t.value=r,t.getSnapshot=i,Ku(t)&&qu(e)}function Gu(e,t,r){return r(function(){Ku(t)&&qu(e)})}function Ku(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wt(e,r)}catch{return!0}}function qu(e){var t=jt(e,1);t!==null&&Ct(t,e,1,-1)}function Ec(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},t.queue=e,e=e.dispatch=hp.bind(null,Ce,e),[t.memoizedState,e]}function Qi(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Xu(){return _t().memoizedState}function Vs(e,t,r,i){var c=Et();Ce.flags|=e,c.memoizedState=Qi(1|t,r,void 0,i===void 0?null:i)}function In(e,t,r,i){var c=_t();i=i===void 0?null:i;var d=void 0;if(Ae!==null){var m=Ae.memoizedState;if(d=m.destroy,i!==null&&ll(i,m.deps)){c.memoizedState=Qi(t,r,d,i);return}}Ce.flags|=e,c.memoizedState=Qi(1|t,r,d,i)}function Lc(e,t){return Vs(8390656,8,e,t)}function ul(e,t){return In(2048,8,e,t)}function Yu(e,t){return In(4,2,e,t)}function Ju(e,t){return In(4,4,e,t)}function Qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zu(e,t,r){return r=r!=null?r.concat([e]):null,In(4,4,Qu.bind(null,t,e),r)}function dl(){}function ed(e,t){var r=_t();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&ll(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function td(e,t){var r=_t();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&ll(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function rd(e,t,r){return xr&21?(wt(r,t)||(r=au(),Ce.lanes|=r,br|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=r)}function lp(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var i=Co.transition;Co.transition={};try{e(!1),t()}finally{fe=r,Co.transition=i}}function id(){return _t().memoizedState}function cp(e,t,r){var i=sr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},sd(e))nd(t,r);else if(r=Hu(e,t,r,i),r!==null){var c=Ve();Ct(r,e,i,c),od(r,t,i)}}function hp(e,t,r){var i=sr(e),c={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(sd(e))nd(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,s=d(m,r);if(c.hasEagerState=!0,c.eagerState=s,wt(s,m)){var n=t.interleaved;n===null?(c.next=c,il(t)):(c.next=n.next,n.next=c),t.interleaved=c;return}}catch{}finally{}r=Hu(e,t,c,i),r!==null&&(c=Ve(),Ct(r,e,i,c),od(r,t,i))}}function sd(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function nd(e,t){Pi=mn=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function od(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,za(e,r)}}var yn={readContext:ft,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},up={readContext:ft,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Lc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vs(4194308,4,Qu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var r=Et();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Et();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=cp.bind(null,Ce,e),[i.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:dl,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=lp.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Ce,c=Et();if(ye){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Be===null)throw Error(G(349));xr&30||Uu(i,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,Lc(Gu.bind(null,i,d,e),[e]),i.flags|=2048,Qi(9,Vu.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Et(),t=Be.identifierPrefix;if(ye){var r=Ot,i=Bt;r=(i&~(1<<32-St(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ap++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dp={readContext:ft,useCallback:ed,useContext:ft,useEffect:ul,useImperativeHandle:Zu,useInsertionEffect:Yu,useLayoutEffect:Ju,useMemo:td,useReducer:wo,useRef:Xu,useState:function(){return wo(Ji)},useDebugValue:dl,useDeferredValue:function(e){var t=_t();return rd(t,Ae.memoizedState,e)},useTransition:function(){var e=wo(Ji)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Wu,useSyncExternalStore:zu,useId:id,unstable_isNewReconciler:!1},fp={readContext:ft,useCallback:ed,useContext:ft,useEffect:ul,useImperativeHandle:Zu,useInsertionEffect:Yu,useLayoutEffect:Ju,useMemo:td,useReducer:xo,useRef:Xu,useState:function(){return xo(Ji)},useDebugValue:dl,useDeferredValue:function(e){var t=_t();return Ae===null?t.memoizedState=e:rd(t,Ae.memoizedState,e)},useTransition:function(){var e=xo(Ji)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Wu,useSyncExternalStore:zu,useId:id,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ca(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:we({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nn={isMounted:function(e){return(e=e._reactInternals)?Rr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Ve(),c=sr(e),d=Nt(i,c);d.payload=t,r!=null&&(d.callback=r),t=rr(e,d,c),t!==null&&(Ct(t,e,c,i),zs(t,e,c))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Ve(),c=sr(e),d=Nt(i,c);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=rr(e,d,c),t!==null&&(Ct(t,e,c,i),zs(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ve(),i=sr(e),c=Nt(r,i);c.tag=2,t!=null&&(c.callback=t),t=rr(e,c,i),t!==null&&(Ct(t,e,i,r),zs(t,e,i))}};function kc(e,t,r,i,c,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,m):t.prototype&&t.prototype.isPureReactComponent?!Ui(r,i)||!Ui(c,d):!0}function ad(e,t,r){var i=!1,c=lr,d=t.contextType;return typeof d=="object"&&d!==null?d=ft(d):(c=Qe(t)?Cr:ze.current,i=t.contextTypes,d=(i=i!=null)?ei(e,c):lr),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nn,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function Rc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Nn.enqueueReplaceState(t,t.state,null)}function ha(e,t,r,i){var c=e.stateNode;c.props=r,c.state=e.memoizedState,c.refs={},sl(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=ft(d):(d=Qe(t)?Cr:ze.current,c.context=ei(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(ca(e,t,d,r),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Nn.enqueueReplaceState(c,c.state,null),vn(e,r,c,i),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t){try{var r="",i=t;do r+=$f(i),i=i.return;while(i);var c=r}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function bo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ua(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _p=typeof WeakMap=="function"?WeakMap:Map;function ld(e,t,r){r=Nt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Cn||(Cn=!0,Ca=i),ua(e,t)},r}function cd(e,t,r){r=Nt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var c=t.value;r.payload=function(){return i(c)},r.callback=function(){ua(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){ua(e,t),typeof i!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),r}function Dc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new _p;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(r)||(c.add(r),e=Rp.bind(null,e,t,r),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mc(e,t,r,i,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nt(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e)}var pp=Wt.ReactCurrentOwner,Ye=!1;function Ue(e,t,r,i){t.child=e===null?Fu(t,null,r,i):ri(t,e.child,r,i)}function Tc(e,t,r,i,c){r=r.render;var d=t.ref;return Xr(t,c),i=cl(e,t,r,i,d,c),r=hl(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,$t(e,t,c)):(ye&&r&&Ja(t),t.flags|=1,Ue(e,t,i,c),t.child)}function Pc(e,t,r,i,c){if(e===null){var d=r.type;return typeof d=="function"&&!Sl(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,hd(e,t,d,i,c)):(e=Xs(r.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&c)){var m=d.memoizedProps;if(r=r.compare,r=r!==null?r:Ui,r(m,i)&&e.ref===t.ref)return $t(e,t,c)}return t.flags|=1,e=nr(d,i),e.ref=t.ref,e.return=t,t.child=e}function hd(e,t,r,i,c){if(e!==null){var d=e.memoizedProps;if(Ui(d,i)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=i=d,(e.lanes&c)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,$t(e,t,c)}return da(e,t,r,i,c)}function ud(e,t,r){var i=t.pendingProps,c=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Ur,tt),tt|=r;else{if(!(r&1073741824))return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Ur,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,pe(Ur,tt),tt|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,pe(Ur,tt),tt|=i;return Ue(e,t,c,r),t.child}function dd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function da(e,t,r,i,c){var d=Qe(r)?Cr:ze.current;return d=ei(t,d),Xr(t,c),r=cl(e,t,r,i,d,c),i=hl(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,$t(e,t,c)):(ye&&i&&Ja(t),t.flags|=1,Ue(e,t,r,c),t.child)}function Bc(e,t,r,i,c){if(Qe(r)){var d=!0;un(t)}else d=!1;if(Xr(t,c),t.stateNode===null)Gs(e,t),ad(t,r,i),ha(t,r,i,c),i=!0;else if(e===null){var m=t.stateNode,s=t.memoizedProps;m.props=s;var n=m.context,_=r.contextType;typeof _=="object"&&_!==null?_=ft(_):(_=Qe(r)?Cr:ze.current,_=ei(t,_));var v=r.getDerivedStateFromProps,u=typeof v=="function"||typeof m.getSnapshotBeforeUpdate=="function";u||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(s!==i||n!==_)&&Rc(t,m,i,_),Gt=!1;var p=t.memoizedState;m.state=p,vn(t,i,m,c),n=t.memoizedState,s!==i||p!==n||Je.current||Gt?(typeof v=="function"&&(ca(t,r,v,i),n=t.memoizedState),(s=Gt||kc(t,r,s,i,p,n,_))?(u||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=n),m.props=i,m.state=n,m.context=_,i=s):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{m=t.stateNode,ju(e,t),s=t.memoizedProps,_=t.type===t.elementType?s:gt(t.type,s),m.props=_,u=t.pendingProps,p=m.context,n=r.contextType,typeof n=="object"&&n!==null?n=ft(n):(n=Qe(r)?Cr:ze.current,n=ei(t,n));var C=r.getDerivedStateFromProps;(v=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(s!==u||p!==n)&&Rc(t,m,i,n),Gt=!1,p=t.memoizedState,m.state=p,vn(t,i,m,c);var w=t.memoizedState;s!==u||p!==w||Je.current||Gt?(typeof C=="function"&&(ca(t,r,C,i),w=t.memoizedState),(_=Gt||kc(t,r,_,i,p,w,n)||!1)?(v||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,w,n),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,w,n)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=w),m.props=i,m.state=w,m.context=n,i=_):(typeof m.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return fa(e,t,r,i,d,c)}function fa(e,t,r,i,c,d){dd(e,t);var m=(t.flags&128)!==0;if(!i&&!m)return c&&yc(t,r,!1),$t(e,t,d);i=t.stateNode,pp.current=t;var s=m&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&m?(t.child=ri(t,e.child,null,d),t.child=ri(t,null,s,d)):Ue(e,t,s,d),t.memoizedState=i.state,c&&yc(t,r,!0),t.child}function fd(e){var t=e.stateNode;t.pendingContext?mc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mc(e,t.context,!1),nl(e,t.containerInfo)}function Oc(e,t,r,i,c){return ti(),Za(c),t.flags|=256,Ue(e,t,r,i),t.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function _d(e,t,r){var i=t.pendingProps,c=Se.current,d=!1,m=(t.flags&128)!==0,s;if((s=m)||(s=e!==null&&e.memoizedState===null?!1:(c&2)!==0),s?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),pe(Se,c&1),e===null)return aa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(m=i.children,e=i.fallback,d?(i=t.mode,d=t.child,m={mode:"hidden",children:m},!(i&1)&&d!==null?(d.childLanes=0,d.pendingProps=m):d=jn(m,i,0,null),e=Sr(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=pa(r),t.memoizedState=_a,e):fl(t,m));if(c=e.memoizedState,c!==null&&(s=c.dehydrated,s!==null))return vp(e,t,m,i,s,c,r);if(d){d=i.fallback,m=t.mode,c=e.child,s=c.sibling;var n={mode:"hidden",children:i.children};return!(m&1)&&t.child!==c?(i=t.child,i.childLanes=0,i.pendingProps=n,t.deletions=null):(i=nr(c,n),i.subtreeFlags=c.subtreeFlags&14680064),s!==null?d=nr(s,d):(d=Sr(d,m,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,m=e.child.memoizedState,m=m===null?pa(r):{baseLanes:m.baseLanes|r,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~r,t.memoizedState=_a,i}return d=e.child,e=d.sibling,i=nr(d,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function fl(e,t){return t=jn({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,r,i){return i!==null&&Za(i),ri(t,e.child,null,r),e=fl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vp(e,t,r,i,c,d,m){if(r)return t.flags&256?(t.flags&=-257,i=bo(Error(G(422))),Ms(e,t,m,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,c=t.mode,i=jn({mode:"visible",children:i.children},c,0,null),d=Sr(d,c,m,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,t.mode&1&&ri(t,e.child,null,m),t.child.memoizedState=pa(m),t.memoizedState=_a,d);if(!(t.mode&1))return Ms(e,t,m,null);if(c.data==="$!"){if(i=c.nextSibling&&c.nextSibling.dataset,i)var s=i.dgst;return i=s,d=Error(G(419)),i=bo(d,i,void 0),Ms(e,t,m,i)}if(s=(m&e.childLanes)!==0,Ye||s){if(i=Be,i!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(i.suspendedLanes|m)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,jt(e,c),Ct(i,e,c,-1))}return yl(),i=bo(Error(G(421))),Ms(e,t,m,i)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Dp.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,rt=tr(c.nextSibling),it=t,ye=!0,yt=null,e!==null&&(ct[ht++]=Bt,ct[ht++]=Ot,ct[ht++]=wr,Bt=e.id,Ot=e.overflow,wr=t),t=fl(t,i.children),t.flags|=4096,t)}function Ic(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),la(e.return,t,r)}function Eo(e,t,r,i,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=c)}function pd(e,t,r){var i=t.pendingProps,c=i.revealOrder,d=i.tail;if(Ue(e,t,i.children,r),i=Se.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ic(e,r,t);else if(e.tag===19)Ic(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(pe(Se,i),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&gn(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Eo(t,!1,c,r,d);break;case"backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&gn(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Eo(t,!0,r,null,d);break;case"together":Eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=nr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gp(e,t,r){switch(t.tag){case 3:fd(t),ti();break;case 5:$u(t);break;case 1:Qe(t.type)&&un(t);break;case 4:nl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,c=t.memoizedProps.value;pe(_n,i._currentValue),i._currentValue=c;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(pe(Se,Se.current&1),t.flags|=128,null):r&t.child.childLanes?_d(e,t,r):(pe(Se,Se.current&1),e=$t(e,t,r),e!==null?e.sibling:null);pe(Se,Se.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return pd(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),pe(Se,Se.current),i)break;return null;case 22:case 23:return t.lanes=0,ud(e,t,r)}return $t(e,t,r)}var vd,va,gd,md;vd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};va=function(){};gd=function(e,t,r,i){var c=e.memoizedProps;if(c!==i){e=t.stateNode,gr(Dt.current);var d=null;switch(r){case"input":c=Fo(e,c),i=Fo(e,i),d=[];break;case"select":c=we({},c,{value:void 0}),i=we({},i,{value:void 0}),d=[];break;case"textarea":c=$o(e,c),i=$o(e,i),d=[];break;default:typeof c.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=cn)}zo(r,i);var m;r=null;for(_ in c)if(!i.hasOwnProperty(_)&&c.hasOwnProperty(_)&&c[_]!=null)if(_==="style"){var s=c[_];for(m in s)s.hasOwnProperty(m)&&(r||(r={}),r[m]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Ni.hasOwnProperty(_)?d||(d=[]):(d=d||[]).push(_,null));for(_ in i){var n=i[_];if(s=c?.[_],i.hasOwnProperty(_)&&n!==s&&(n!=null||s!=null))if(_==="style")if(s){for(m in s)!s.hasOwnProperty(m)||n&&n.hasOwnProperty(m)||(r||(r={}),r[m]="");for(m in n)n.hasOwnProperty(m)&&s[m]!==n[m]&&(r||(r={}),r[m]=n[m])}else r||(d||(d=[]),d.push(_,r)),r=n;else _==="dangerouslySetInnerHTML"?(n=n?n.__html:void 0,s=s?s.__html:void 0,n!=null&&s!==n&&(d=d||[]).push(_,n)):_==="children"?typeof n!="string"&&typeof n!="number"||(d=d||[]).push(_,""+n):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Ni.hasOwnProperty(_)?(n!=null&&_==="onScroll"&&ge("scroll",e),d||s===n||(d=[])):(d=d||[]).push(_,n))}r&&(d=d||[]).push("style",r);var _=d;(t.updateQueue=_)&&(t.flags|=4)}};md=function(e,t,r,i){r!==i&&(t.flags|=4)};function Si(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags&14680064,i|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function mp(e,t,r){var i=t.pendingProps;switch(Qa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Qe(t.type)&&hn(),je(t),null;case 3:return i=t.stateNode,ii(),me(Je),me(ze),al(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(ba(yt),yt=null))),va(e,t),je(t),null;case 5:ol(t);var c=gr(Xi.current);if(r=t.type,e!==null&&t.stateNode!=null)gd(e,t,r,i,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(G(166));return je(t),null}if(e=gr(Dt.current),Ds(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[kt]=t,i[Ki]=d,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(c=0;c<ki.length;c++)ge(ki[c],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":Vl(i,d),ge("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},ge("invalid",i);break;case"textarea":Kl(i,d),ge("invalid",i)}zo(r,d),c=null;for(var m in d)if(d.hasOwnProperty(m)){var s=d[m];m==="children"?typeof s=="string"?i.textContent!==s&&(d.suppressHydrationWarning!==!0&&Rs(i.textContent,s,e),c=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(d.suppressHydrationWarning!==!0&&Rs(i.textContent,s,e),c=["children",""+s]):Ni.hasOwnProperty(m)&&s!=null&&m==="onScroll"&&ge("scroll",i)}switch(r){case"input":Ss(i),Gl(i,d,!0);break;case"textarea":Ss(i),ql(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=cn)}i=c,t.updateQueue=i,i!==null&&(t.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=m.createElement(r,{is:i.is}):(e=m.createElement(r),r==="select"&&(m=e,i.multiple?m.multiple=!0:i.size&&(m.size=i.size))):e=m.createElementNS(e,r),e[kt]=t,e[Ki]=i,vd(e,t,!1,!1),t.stateNode=e;e:{switch(m=Uo(r,i),r){case"dialog":ge("cancel",e),ge("close",e),c=i;break;case"iframe":case"object":case"embed":ge("load",e),c=i;break;case"video":case"audio":for(c=0;c<ki.length;c++)ge(ki[c],e);c=i;break;case"source":ge("error",e),c=i;break;case"img":case"image":case"link":ge("error",e),ge("load",e),c=i;break;case"details":ge("toggle",e),c=i;break;case"input":Vl(e,i),c=Fo(e,i),ge("invalid",e);break;case"option":c=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=we({},i,{value:void 0}),ge("invalid",e);break;case"textarea":Kl(e,i),c=$o(e,i),ge("invalid",e);break;default:c=i}zo(r,c),s=c;for(d in s)if(s.hasOwnProperty(d)){var n=s[d];d==="style"?Xh(e,n):d==="dangerouslySetInnerHTML"?(n=n?n.__html:void 0,n!=null&&Kh(e,n)):d==="children"?typeof n=="string"?(r!=="textarea"||n!=="")&&Fi(e,n):typeof n=="number"&&Fi(e,""+n):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ni.hasOwnProperty(d)?n!=null&&d==="onScroll"&&ge("scroll",e):n!=null&&Na(e,d,n,m))}switch(r){case"input":Ss(e),Gl(e,i,!1);break;case"textarea":Ss(e),ql(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ar(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Vr(e,!!i.multiple,d,!1):i.defaultValue!=null&&Vr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=cn)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)md(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(G(166));if(r=gr(Xi.current),gr(Dt.current),Ds(t)){if(i=t.stateNode,r=t.memoizedProps,i[kt]=t,(d=i.nodeValue!==r)&&(e=it,e!==null))switch(e.tag){case 3:Rs(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rs(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[kt]=t,t.stateNode=i}return je(t),null;case 13:if(me(Se),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&rt!==null&&t.mode&1&&!(t.flags&128))Iu(),ti(),t.flags|=98560,d=!1;else if(d=Ds(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(G(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(G(317));d[kt]=t}else ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),d=!1}else yt!==null&&(ba(yt),yt=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Me===0&&(Me=3):yl())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return ii(),va(e,t),e===null&&Vi(t.stateNode.containerInfo),je(t),null;case 10:return rl(t.type._context),je(t),null;case 17:return Qe(t.type)&&hn(),je(t),null;case 19:if(me(Se),d=t.memoizedState,d===null)return je(t),null;if(i=(t.flags&128)!==0,m=d.rendering,m===null)if(i)Si(d,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(m=gn(e),m!==null){for(t.flags|=128,Si(d,!1),i=m.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pe(Se,Se.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ee()>ni&&(t.flags|=128,i=!0,Si(d,!1),t.lanes=4194304)}else{if(!i)if(e=gn(m),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Si(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!ye)return je(t),null}else 2*Ee()-d.renderingStartTime>ni&&r!==1073741824&&(t.flags|=128,i=!0,Si(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(r=d.last,r!==null?r.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ee(),t.sibling=null,r=Se.current,pe(Se,i?r&1|2:r&1),t):(je(t),null);case 22:case 23:return ml(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?tt&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function yp(e,t){switch(Qa(t),t.tag){case 1:return Qe(t.type)&&hn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),me(Je),me(ze),al(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ol(t),null;case 13:if(me(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(Se),null;case 4:return ii(),null;case 10:return rl(t.type._context),null;case 22:case 23:return ml(),null;case 24:return null;default:return null}}var Ts=!1,We=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,Q=null;function zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){be(e,t,i)}else r.current=null}function ga(e,t,r){try{r()}catch(i){be(e,t,i)}}var Nc=!1;function Cp(e,t){if(ea=on,e=xu(),Ya(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var c=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var m=0,s=-1,n=-1,_=0,v=0,u=e,p=null;t:for(;;){for(var C;u!==r||c!==0&&u.nodeType!==3||(s=m+c),u!==d||i!==0&&u.nodeType!==3||(n=m+i),u.nodeType===3&&(m+=u.nodeValue.length),(C=u.firstChild)!==null;)p=u,u=C;for(;;){if(u===e)break t;if(p===r&&++_===c&&(s=m),p===d&&++v===i&&(n=m),(C=u.nextSibling)!==null)break;u=p,p=u.parentNode}u=C}r=s===-1||n===-1?null:{start:s,end:n}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},on=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var f=w.memoizedProps,l=w.memoizedState,o=t.stateNode,a=o.getSnapshotBeforeUpdate(t.elementType===t.type?f:gt(t.type,f),l);o.__reactInternalSnapshotBeforeUpdate=a}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(g){be(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return w=Nc,Nc=!1,w}function Bi(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&ga(t,r,d)}c=c.next}while(c!==i)}}function Fn(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function ma(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yd(e){var t=e.alternate;t!==null&&(e.alternate=null,yd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Ki],delete t[sa],delete t[ip],delete t[sp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sd(e){return e.tag===5||e.tag===3||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cn));else if(i!==4&&(e=e.child,e!==null))for(ya(e,t,r),e=e.sibling;e!==null;)ya(e,t,r),e=e.sibling}function Sa(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Sa(e,t,r),e=e.sibling;e!==null;)Sa(e,t,r),e=e.sibling}var Oe=null,mt=!1;function Ut(e,t,r){for(r=r.child;r!==null;)Cd(e,t,r),r=r.sibling}function Cd(e,t,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(An,r)}catch{}switch(r.tag){case 5:We||zr(r,t);case 6:var i=Oe,c=mt;Oe=null,Ut(e,t,r),Oe=i,mt=c,Oe!==null&&(mt?(e=Oe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Oe.removeChild(r.stateNode));break;case 18:Oe!==null&&(mt?(e=Oe,r=r.stateNode,e.nodeType===8?mo(e.parentNode,r):e.nodeType===1&&mo(e,r),Wi(e)):mo(Oe,r.stateNode));break;case 4:i=Oe,c=mt,Oe=r.stateNode.containerInfo,mt=!0,Ut(e,t,r),Oe=i,mt=c;break;case 0:case 11:case 14:case 15:if(!We&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){c=i=i.next;do{var d=c,m=d.destroy;d=d.tag,m!==void 0&&(d&2||d&4)&&ga(r,t,m),c=c.next}while(c!==i)}Ut(e,t,r);break;case 1:if(!We&&(zr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(s){be(r,t,s)}Ut(e,t,r);break;case 21:Ut(e,t,r);break;case 22:r.mode&1?(We=(i=We)||r.memoizedState!==null,Ut(e,t,r),We=i):Ut(e,t,r);break;default:Ut(e,t,r)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sp),t.forEach(function(i){var c=Ap.bind(null,e,i);r.has(i)||(r.add(i),i.then(c,c))})}}function pt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var c=r[i];try{var d=e,m=t,s=m;e:for(;s!==null;){switch(s.tag){case 5:Oe=s.stateNode,mt=!1;break e;case 3:Oe=s.stateNode.containerInfo,mt=!0;break e;case 4:Oe=s.stateNode.containerInfo,mt=!0;break e}s=s.return}if(Oe===null)throw Error(G(160));Cd(d,m,c),Oe=null,mt=!1;var n=c.alternate;n!==null&&(n.return=null),c.return=null}catch(_){be(c,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wd(t,e),t=t.sibling}function wd(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(t,e),bt(e),i&4){try{Bi(3,e,e.return),Fn(3,e)}catch(f){be(e,e.return,f)}try{Bi(5,e,e.return)}catch(f){be(e,e.return,f)}}break;case 1:pt(t,e),bt(e),i&512&&r!==null&&zr(r,r.return);break;case 5:if(pt(t,e),bt(e),i&512&&r!==null&&zr(r,r.return),e.flags&32){var c=e.stateNode;try{Fi(c,"")}catch(f){be(e,e.return,f)}}if(i&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,m=r!==null?r.memoizedProps:d,s=e.type,n=e.updateQueue;if(e.updateQueue=null,n!==null)try{s==="input"&&d.type==="radio"&&d.name!=null&&Uh(c,d),Uo(s,m);var _=Uo(s,d);for(m=0;m<n.length;m+=2){var v=n[m],u=n[m+1];v==="style"?Xh(c,u):v==="dangerouslySetInnerHTML"?Kh(c,u):v==="children"?Fi(c,u):Na(c,v,u,_)}switch(s){case"input":Ho(c,d);break;case"textarea":Vh(c,d);break;case"select":var p=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var C=d.value;C!=null?Vr(c,!!d.multiple,C,!1):p!==!!d.multiple&&(d.defaultValue!=null?Vr(c,!!d.multiple,d.defaultValue,!0):Vr(c,!!d.multiple,d.multiple?[]:"",!1))}c[Ki]=d}catch(f){be(e,e.return,f)}}break;case 6:if(pt(t,e),bt(e),i&4){if(e.stateNode===null)throw Error(G(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(f){be(e,e.return,f)}}break;case 3:if(pt(t,e),bt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Wi(t.containerInfo)}catch(f){be(e,e.return,f)}break;case 4:pt(t,e),bt(e);break;case 13:pt(t,e),bt(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(vl=Ee())),i&4&&Hc(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(We=(_=We)||v,pt(t,e),We=_):pt(t,e),bt(e),i&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!v&&e.mode&1)for(Q=e,v=e.child;v!==null;){for(u=Q=v;Q!==null;){switch(p=Q,C=p.child,p.tag){case 0:case 11:case 14:case 15:Bi(4,p,p.return);break;case 1:zr(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){i=p,r=p.return;try{t=i,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(f){be(i,r,f)}}break;case 5:zr(p,p.return);break;case 22:if(p.memoizedState!==null){$c(u);continue}}C!==null?(C.return=p,Q=C):$c(u)}v=v.sibling}e:for(v=null,u=e;;){if(u.tag===5){if(v===null){v=u;try{c=u.stateNode,_?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(s=u.stateNode,n=u.memoizedProps.style,m=n!=null&&n.hasOwnProperty("display")?n.display:null,s.style.display=qh("display",m))}catch(f){be(e,e.return,f)}}}else if(u.tag===6){if(v===null)try{u.stateNode.nodeValue=_?"":u.memoizedProps}catch(f){be(e,e.return,f)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:pt(t,e),bt(e),i&4&&Hc(e);break;case 21:break;default:pt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Sd(r)){var i=r;break e}r=r.return}throw Error(G(160))}switch(i.tag){case 5:var c=i.stateNode;i.flags&32&&(Fi(c,""),i.flags&=-33);var d=Fc(e);Sa(e,d,c);break;case 3:case 4:var m=i.stateNode.containerInfo,s=Fc(e);ya(e,s,m);break;default:throw Error(G(161))}}catch(n){be(e,e.return,n)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wp(e,t,r){Q=e,xd(e)}function xd(e,t,r){for(var i=(e.mode&1)!==0;Q!==null;){var c=Q,d=c.child;if(c.tag===22&&i){var m=c.memoizedState!==null||Ts;if(!m){var s=c.alternate,n=s!==null&&s.memoizedState!==null||We;s=Ts;var _=We;if(Ts=m,(We=n)&&!_)for(Q=c;Q!==null;)m=Q,n=m.child,m.tag===22&&m.memoizedState!==null?Wc(c):n!==null?(n.return=m,Q=n):Wc(c);for(;d!==null;)Q=d,xd(d),d=d.sibling;Q=c,Ts=s,We=_}jc(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,Q=d):jc(e)}}function jc(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Fn(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!We)if(r===null)i.componentDidMount();else{var c=t.elementType===t.type?r.memoizedProps:gt(t.type,r.memoizedProps);i.componentDidUpdate(c,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&bc(t,d,i);break;case 3:var m=t.updateQueue;if(m!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bc(t,m,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var n=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break;case"img":n.src&&(r.src=n.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var v=_.memoizedState;if(v!==null){var u=v.dehydrated;u!==null&&Wi(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}We||t.flags&512&&ma(t)}catch(p){be(t,t.return,p)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function $c(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Wc(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fn(4,t)}catch(n){be(t,r,n)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var c=t.return;try{i.componentDidMount()}catch(n){be(t,c,n)}}var d=t.return;try{ma(t)}catch(n){be(t,d,n)}break;case 5:var m=t.return;try{ma(t)}catch(n){be(t,m,n)}}}catch(n){be(t,t.return,n)}if(t===e){Q=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Q=s;break}Q=t.return}}var xp=Math.ceil,Sn=Wt.ReactCurrentDispatcher,_l=Wt.ReactCurrentOwner,dt=Wt.ReactCurrentBatchConfig,le=0,Be=null,De=null,Ne=0,tt=0,Ur=hr(0),Me=0,Zi=null,br=0,Hn=0,pl=0,Oi=null,Xe=null,vl=0,ni=1/0,Tt=null,Cn=!1,Ca=null,ir=null,Ps=!1,Yt=null,wn=0,Ii=0,wa=null,Ks=-1,qs=0;function Ve(){return le&6?Ee():Ks!==-1?Ks:Ks=Ee()}function sr(e){return e.mode&1?le&2&&Ne!==0?Ne&-Ne:op.transition!==null?(qs===0&&(qs=au()),qs):(e=fe,e!==0||(e=window.event,e=e===void 0?16:_u(e.type)),e):1}function Ct(e,t,r,i){if(50<Ii)throw Ii=0,wa=null,Error(G(185));ss(e,r,i),(!(le&2)||e!==Be)&&(e===Be&&(!(le&2)&&(Hn|=r),Me===4&&qt(e,Ne)),Ze(e,i),r===1&&le===0&&!(t.mode&1)&&(ni=Ee()+500,On&&ur()))}function Ze(e,t){var r=e.callbackNode;o_(e,t);var i=nn(e,e===Be?Ne:0);if(i===0)r!==null&&Jl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Jl(r),t===1)e.tag===0?np(zc.bind(null,e)):Pu(zc.bind(null,e)),tp(function(){!(le&6)&&ur()}),r=null;else{switch(lu(i)){case 1:r=Wa;break;case 4:r=nu;break;case 16:r=sn;break;case 536870912:r=ou;break;default:r=sn}r=Md(r,bd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bd(e,t){if(Ks=-1,qs=0,le&6)throw Error(G(327));var r=e.callbackNode;if(Yr()&&e.callbackNode!==r)return null;var i=nn(e,e===Be?Ne:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=xn(e,i);else{t=i;var c=le;le|=2;var d=Ld();(Be!==e||Ne!==t)&&(Tt=null,ni=Ee()+500,yr(e,t));do try{Lp();break}catch(s){Ed(e,s)}while(!0);tl(),Sn.current=d,le=c,De!==null?t=0:(Be=null,Ne=0,t=Me)}if(t!==0){if(t===2&&(c=Xo(e),c!==0&&(i=c,t=xa(e,c))),t===1)throw r=Zi,yr(e,0),qt(e,i),Ze(e,Ee()),r;if(t===6)qt(e,i);else{if(c=e.current.alternate,!(i&30)&&!bp(c)&&(t=xn(e,i),t===2&&(d=Xo(e),d!==0&&(i=d,t=xa(e,d))),t===1))throw r=Zi,yr(e,0),qt(e,i),Ze(e,Ee()),r;switch(e.finishedWork=c,e.finishedLanes=i,t){case 0:case 1:throw Error(G(345));case 2:_r(e,Xe,Tt);break;case 3:if(qt(e,i),(i&130023424)===i&&(t=vl+500-Ee(),10<t)){if(nn(e,0)!==0)break;if(c=e.suspendedLanes,(c&i)!==i){Ve(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ia(_r.bind(null,e,Xe,Tt),t);break}_r(e,Xe,Tt);break;case 4:if(qt(e,i),(i&4194240)===i)break;for(t=e.eventTimes,c=-1;0<i;){var m=31-St(i);d=1<<m,m=t[m],m>c&&(c=m),i&=~d}if(i=c,i=Ee()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*xp(i/1960))-i,10<i){e.timeoutHandle=ia(_r.bind(null,e,Xe,Tt),i);break}_r(e,Xe,Tt);break;case 5:_r(e,Xe,Tt);break;default:throw Error(G(329))}}}return Ze(e,Ee()),e.callbackNode===r?bd.bind(null,e):null}function xa(e,t){var r=Oi;return e.current.memoizedState.isDehydrated&&(yr(e,t).flags|=256),e=xn(e,t),e!==2&&(t=Xe,Xe=r,t!==null&&ba(t)),e}function ba(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function bp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var c=r[i],d=c.getSnapshot;c=c.value;try{if(!wt(d(),c))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~pl,t&=~Hn,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-St(t),i=1<<r;e[r]=-1,t&=~i}}function zc(e){if(le&6)throw Error(G(327));Yr();var t=nn(e,0);if(!(t&1))return Ze(e,Ee()),null;var r=xn(e,t);if(e.tag!==0&&r===2){var i=Xo(e);i!==0&&(t=i,r=xa(e,i))}if(r===1)throw r=Zi,yr(e,0),qt(e,t),Ze(e,Ee()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_r(e,Xe,Tt),Ze(e,Ee()),null}function gl(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(ni=Ee()+500,On&&ur())}}function Er(e){Yt!==null&&Yt.tag===0&&!(le&6)&&Yr();var t=le;le|=1;var r=dt.transition,i=fe;try{if(dt.transition=null,fe=1,e)return e()}finally{fe=i,dt.transition=r,le=t,!(le&6)&&ur()}}function ml(){tt=Ur.current,me(Ur)}function yr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ep(r)),De!==null)for(r=De.return;r!==null;){var i=r;switch(Qa(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&hn();break;case 3:ii(),me(Je),me(ze),al();break;case 5:ol(i);break;case 4:ii();break;case 13:me(Se);break;case 19:me(Se);break;case 10:rl(i.type._context);break;case 22:case 23:ml()}r=r.return}if(Be=e,De=e=nr(e.current,null),Ne=tt=t,Me=0,Zi=null,pl=Hn=br=0,Xe=Oi=null,vr!==null){for(t=0;t<vr.length;t++)if(r=vr[t],i=r.interleaved,i!==null){r.interleaved=null;var c=i.next,d=r.pending;if(d!==null){var m=d.next;d.next=c,i.next=m}r.pending=i}vr=null}return e}function Ed(e,t){do{var r=De;try{if(tl(),Us.current=yn,mn){for(var i=Ce.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}mn=!1}if(xr=0,Pe=Ae=Ce=null,Pi=!1,Yi=0,_l.current=null,r===null||r.return===null){Me=1,Zi=t,De=null;break}e:{var d=e,m=r.return,s=r,n=t;if(t=Ne,s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){var _=n,v=s,u=v.tag;if(!(v.mode&1)&&(u===0||u===11||u===15)){var p=v.alternate;p?(v.updateQueue=p.updateQueue,v.memoizedState=p.memoizedState,v.lanes=p.lanes):(v.updateQueue=null,v.memoizedState=null)}var C=Ac(m);if(C!==null){C.flags&=-257,Mc(C,m,s,d,t),C.mode&1&&Dc(d,_,t),t=C,n=_;var w=t.updateQueue;if(w===null){var f=new Set;f.add(n),t.updateQueue=f}else w.add(n);break e}else{if(!(t&1)){Dc(d,_,t),yl();break e}n=Error(G(426))}}else if(ye&&s.mode&1){var l=Ac(m);if(l!==null){!(l.flags&65536)&&(l.flags|=256),Mc(l,m,s,d,t),Za(si(n,s));break e}}d=n=si(n,s),Me!==4&&(Me=2),Oi===null?Oi=[d]:Oi.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var o=ld(d,n,t);xc(d,o);break e;case 1:s=n;var a=d.type,h=d.stateNode;if(!(d.flags&128)&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ir===null||!ir.has(h)))){d.flags|=65536,t&=-t,d.lanes|=t;var g=cd(d,s,t);xc(d,g);break e}}d=d.return}while(d!==null)}Rd(r)}catch(x){t=x,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function Ld(){var e=Sn.current;return Sn.current=yn,e===null?yn:e}function yl(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||!(br&268435455)&&!(Hn&268435455)||qt(Be,Ne)}function xn(e,t){var r=le;le|=2;var i=Ld();(Be!==e||Ne!==t)&&(Tt=null,yr(e,t));do try{Ep();break}catch(c){Ed(e,c)}while(!0);if(tl(),le=r,Sn.current=i,De!==null)throw Error(G(261));return Be=null,Ne=0,Me}function Ep(){for(;De!==null;)kd(De)}function Lp(){for(;De!==null&&!Jf();)kd(De)}function kd(e){var t=Ad(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Rd(e):De=t,_l.current=null}function Rd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yp(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,De=null;return}}else if(r=mp(r,t,tt),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Me===0&&(Me=5)}function _r(e,t,r){var i=fe,c=dt.transition;try{dt.transition=null,fe=1,kp(e,t,r,i)}finally{dt.transition=c,fe=i}return null}function kp(e,t,r,i){do Yr();while(Yt!==null);if(le&6)throw Error(G(327));r=e.finishedWork;var c=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(a_(e,d),e===Be&&(De=Be=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ps||(Ps=!0,Md(sn,function(){return Yr(),null})),d=(r.flags&15990)!==0,r.subtreeFlags&15990||d){d=dt.transition,dt.transition=null;var m=fe;fe=1;var s=le;le|=4,_l.current=null,Cp(e,r),wd(r,e),K_(ta),on=!!ea,ta=ea=null,e.current=r,wp(r),Qf(),le=s,fe=m,dt.transition=d}else e.current=r;if(Ps&&(Ps=!1,Yt=e,wn=c),d=e.pendingLanes,d===0&&(ir=null),t_(r.stateNode),Ze(e,Ee()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)c=t[r],i(c.value,{componentStack:c.stack,digest:c.digest});if(Cn)throw Cn=!1,e=Ca,Ca=null,e;return wn&1&&e.tag!==0&&Yr(),d=e.pendingLanes,d&1?e===wa?Ii++:(Ii=0,wa=e):Ii=0,ur(),null}function Yr(){if(Yt!==null){var e=lu(wn),t=dt.transition,r=fe;try{if(dt.transition=null,fe=16>e?16:e,Yt===null)var i=!1;else{if(e=Yt,Yt=null,wn=0,le&6)throw Error(G(331));var c=le;for(le|=4,Q=e.current;Q!==null;){var d=Q,m=d.child;if(Q.flags&16){var s=d.deletions;if(s!==null){for(var n=0;n<s.length;n++){var _=s[n];for(Q=_;Q!==null;){var v=Q;switch(v.tag){case 0:case 11:case 15:Bi(8,v,d)}var u=v.child;if(u!==null)u.return=v,Q=u;else for(;Q!==null;){v=Q;var p=v.sibling,C=v.return;if(yd(v),v===_){Q=null;break}if(p!==null){p.return=C,Q=p;break}Q=C}}}var w=d.alternate;if(w!==null){var f=w.child;if(f!==null){w.child=null;do{var l=f.sibling;f.sibling=null,f=l}while(f!==null)}}Q=d}}if(d.subtreeFlags&2064&&m!==null)m.return=d,Q=m;else e:for(;Q!==null;){if(d=Q,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Bi(9,d,d.return)}var o=d.sibling;if(o!==null){o.return=d.return,Q=o;break e}Q=d.return}}var a=e.current;for(Q=a;Q!==null;){m=Q;var h=m.child;if(m.subtreeFlags&2064&&h!==null)h.return=m,Q=h;else e:for(m=a;Q!==null;){if(s=Q,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fn(9,s)}}catch(x){be(s,s.return,x)}if(s===m){Q=null;break e}var g=s.sibling;if(g!==null){g.return=s.return,Q=g;break e}Q=s.return}}if(le=c,ur(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(An,e)}catch{}i=!0}return i}finally{fe=r,dt.transition=t}}return!1}function Uc(e,t,r){t=si(r,t),t=ld(e,t,1),e=rr(e,t,1),t=Ve(),e!==null&&(ss(e,1,t),Ze(e,t))}function be(e,t,r){if(e.tag===3)Uc(e,e,r);else for(;t!==null;){if(t.tag===3){Uc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ir===null||!ir.has(i))){e=si(r,e),e=cd(t,e,1),t=rr(t,e,1),e=Ve(),t!==null&&(ss(t,1,e),Ze(t,e));break}}t=t.return}}function Rp(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&r,Be===e&&(Ne&r)===r&&(Me===4||Me===3&&(Ne&130023424)===Ne&&500>Ee()-vl?yr(e,0):pl|=r),Ze(e,t)}function Dd(e,t){t===0&&(e.mode&1?(t=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):t=1);var r=Ve();e=jt(e,t),e!==null&&(ss(e,t,r),Ze(e,r))}function Dp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dd(e,r)}function Ap(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(G(314))}i!==null&&i.delete(t),Dd(e,r)}var Ad;Ad=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ye=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ye=!1,gp(e,t,r);Ye=!!(e.flags&131072)}else Ye=!1,ye&&t.flags&1048576&&Bu(t,fn,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Gs(e,t),e=t.pendingProps;var c=ei(t,ze.current);Xr(t,r),c=cl(null,t,i,e,c,r);var d=hl();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(i)?(d=!0,un(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,sl(t),c.updater=Nn,t.stateNode=c,c._reactInternals=t,ha(t,i,e,r),t=fa(null,t,i,!0,d,r)):(t.tag=0,ye&&d&&Ja(t),Ue(null,t,c,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,c=i._init,i=c(i._payload),t.type=i,c=t.tag=Tp(i),e=gt(i,e),c){case 0:t=da(null,t,i,e,r);break e;case 1:t=Bc(null,t,i,e,r);break e;case 11:t=Tc(null,t,i,e,r);break e;case 14:t=Pc(null,t,i,gt(i.type,e),r);break e}throw Error(G(306,i,""))}return t;case 0:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:gt(i,c),da(e,t,i,c,r);case 1:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:gt(i,c),Bc(e,t,i,c,r);case 3:e:{if(fd(t),e===null)throw Error(G(387));i=t.pendingProps,d=t.memoizedState,c=d.element,ju(e,t),vn(t,i,null,r);var m=t.memoizedState;if(i=m.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=si(Error(G(423)),t),t=Oc(e,t,i,r,c);break e}else if(i!==c){c=si(Error(G(424)),t),t=Oc(e,t,i,r,c);break e}else for(rt=tr(t.stateNode.containerInfo.firstChild),it=t,ye=!0,yt=null,r=Fu(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ti(),i===c){t=$t(e,t,r);break e}Ue(e,t,i,r)}t=t.child}return t;case 5:return $u(t),e===null&&aa(t),i=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,m=c.children,ra(i,c)?m=null:d!==null&&ra(i,d)&&(t.flags|=32),dd(e,t),Ue(e,t,m,r),t.child;case 6:return e===null&&aa(t),null;case 13:return _d(e,t,r);case 4:return nl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ri(t,null,i,r):Ue(e,t,i,r),t.child;case 11:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:gt(i,c),Tc(e,t,i,c,r);case 7:return Ue(e,t,t.pendingProps,r),t.child;case 8:return Ue(e,t,t.pendingProps.children,r),t.child;case 12:return Ue(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,c=t.pendingProps,d=t.memoizedProps,m=c.value,pe(_n,i._currentValue),i._currentValue=m,d!==null)if(wt(d.value,m)){if(d.children===c.children&&!Je.current){t=$t(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var s=d.dependencies;if(s!==null){m=d.child;for(var n=s.firstContext;n!==null;){if(n.context===i){if(d.tag===1){n=Nt(-1,r&-r),n.tag=2;var _=d.updateQueue;if(_!==null){_=_.shared;var v=_.pending;v===null?n.next=n:(n.next=v.next,v.next=n),_.pending=n}}d.lanes|=r,n=d.alternate,n!==null&&(n.lanes|=r),la(d.return,r,t),s.lanes|=r;break}n=n.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(G(341));m.lanes|=r,s=m.alternate,s!==null&&(s.lanes|=r),la(m,r,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}Ue(e,t,c.children,r),t=t.child}return t;case 9:return c=t.type,i=t.pendingProps.children,Xr(t,r),c=ft(c),i=i(c),t.flags|=1,Ue(e,t,i,r),t.child;case 14:return i=t.type,c=gt(i,t.pendingProps),c=gt(i.type,c),Pc(e,t,i,c,r);case 15:return hd(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:gt(i,c),Gs(e,t),t.tag=1,Qe(i)?(e=!0,un(t)):e=!1,Xr(t,r),ad(t,i,c),ha(t,i,c,r),fa(null,t,i,!0,e,r);case 19:return pd(e,t,r);case 22:return ud(e,t,r)}throw Error(G(156,t.tag))};function Md(e,t){return su(e,t)}function Mp(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,r,i){return new Mp(e,t,r,i)}function Sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tp(e){if(typeof e=="function")return Sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ha)return 11;if(e===ja)return 14}return 2}function nr(e,t){var r=e.alternate;return r===null?(r=ut(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xs(e,t,r,i,c,d){var m=2;if(i=e,typeof e=="function")Sl(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case Br:return Sr(r.children,c,d,t);case Fa:m=8,c|=8;break;case Bo:return e=ut(12,r,t,c|2),e.elementType=Bo,e.lanes=d,e;case Oo:return e=ut(13,r,t,c),e.elementType=Oo,e.lanes=d,e;case Io:return e=ut(19,r,t,c),e.elementType=Io,e.lanes=d,e;case $h:return jn(r,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hh:m=10;break e;case jh:m=9;break e;case Ha:m=11;break e;case ja:m=14;break e;case Vt:m=16,i=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=ut(m,r,t,c),t.elementType=e,t.type=i,t.lanes=d,t}function Sr(e,t,r,i){return e=ut(7,e,i,t),e.lanes=r,e}function jn(e,t,r,i){return e=ut(22,e,i,t),e.elementType=$h,e.lanes=r,e.stateNode={isHidden:!1},e}function Lo(e,t,r){return e=ut(6,e,null,t),e.lanes=r,e}function ko(e,t,r){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pp(e,t,r,i,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oo(0),this.expirationTimes=oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.identifierPrefix=i,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Cl(e,t,r,i,c,d,m,s,n){return e=new Pp(e,t,r,s,n),t===1?(t=1,d===!0&&(t|=8)):t=0,d=ut(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sl(d),e}function Bp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Td(e){if(!e)return lr;e=e._reactInternals;e:{if(Rr(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Qe(r))return Tu(e,r,t)}return t}function Pd(e,t,r,i,c,d,m,s,n){return e=Cl(r,i,!0,e,c,d,m,s,n),e.context=Td(null),r=e.current,i=Ve(),c=sr(r),d=Nt(i,c),d.callback=t??null,rr(r,d,c),e.current.lanes=c,ss(e,c,i),Ze(e,i),e}function $n(e,t,r,i){var c=t.current,d=Ve(),m=sr(c);return r=Td(r),t.context===null?t.context=r:t.pendingContext=r,t=Nt(d,m),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=rr(c,t,m),e!==null&&(Ct(e,c,m,d),zs(e,c,m)),m}function bn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wl(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function Op(){return null}var Bd=typeof reportError=="function"?reportError:function(e){console.error(e)};function xl(e){this._internalRoot=e}Wn.prototype.render=xl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));$n(e,t,null,null)};Wn.prototype.unmount=xl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){$n(null,e,null,null)}),t[Ht]=null}};function Wn(e){this._internalRoot=e}Wn.prototype.unstable_scheduleHydration=function(e){if(e){var t=uu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kt.length&&t!==0&&t<Kt[r].priority;r++);Kt.splice(r,0,e),r===0&&fu(e)}};function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zn(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gc(){}function Ip(e,t,r,i,c){if(c){if(typeof i=="function"){var d=i;i=function(){var _=bn(m);d.call(_)}}var m=Pd(t,i,e,0,null,!1,!1,"",Gc);return e._reactRootContainer=m,e[Ht]=m.current,Vi(e.nodeType===8?e.parentNode:e),Er(),m}for(;c=e.lastChild;)e.removeChild(c);if(typeof i=="function"){var s=i;i=function(){var _=bn(n);s.call(_)}}var n=Cl(e,0,!1,null,null,!1,!1,"",Gc);return e._reactRootContainer=n,e[Ht]=n.current,Vi(e.nodeType===8?e.parentNode:e),Er(function(){$n(t,n,r,i)}),n}function Un(e,t,r,i,c){var d=r._reactRootContainer;if(d){var m=d;if(typeof c=="function"){var s=c;c=function(){var n=bn(m);s.call(n)}}$n(t,m,e,c)}else m=Ip(r,t,e,c,i);return bn(m)}cu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Li(t.pendingLanes);r!==0&&(za(t,r|1),Ze(t,Ee()),!(le&6)&&(ni=Ee()+500,ur()))}break;case 13:Er(function(){var i=jt(e,1);if(i!==null){var c=Ve();Ct(i,e,1,c)}}),wl(e,1)}};Ua=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var r=Ve();Ct(t,e,134217728,r)}wl(e,134217728)}};hu=function(e){if(e.tag===13){var t=sr(e),r=jt(e,t);if(r!==null){var i=Ve();Ct(r,e,t,i)}wl(e,t)}};uu=function(){return fe};du=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};Go=function(e,t,r){switch(t){case"input":if(Ho(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var c=Bn(i);if(!c)throw Error(G(90));zh(i),Ho(i,c)}}}break;case"textarea":Vh(e,r);break;case"select":t=r.value,t!=null&&Vr(e,!!r.multiple,t,!1)}};Qh=gl;Zh=Er;var Np={usingClientEntryPoint:!1,Events:[os,Fr,Bn,Yh,Jh,gl]},Ci={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fp={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ru(e),e===null?null:e.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||Op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{An=Bs.inject(Fp),Rt=Bs}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np;ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bl(t))throw Error(G(200));return Bp(e,t,null,r)};ot.createRoot=function(e,t){if(!bl(e))throw Error(G(299));var r=!1,i="",c=Bd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Cl(e,1,!1,null,null,r,!1,i,c),e[Ht]=t.current,Vi(e.nodeType===8?e.parentNode:e),new xl(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=ru(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Er(e)};ot.hydrate=function(e,t,r){if(!zn(t))throw Error(G(200));return Un(null,e,t,!0,r)};ot.hydrateRoot=function(e,t,r){if(!bl(e))throw Error(G(405));var i=r!=null&&r.hydratedSources||null,c=!1,d="",m=Bd;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),t=Pd(t,null,e,1,r??null,c,!1,d,m),e[Ht]=t.current,Vi(e),i)for(e=0;e<i.length;e++)r=i[e],c=r._getVersion,c=c(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,c]:t.mutableSourceEagerHydrationData.push(r,c);return new Wn(t)};ot.render=function(e,t,r){if(!zn(t))throw Error(G(200));return Un(null,e,t,!1,r)};ot.unmountComponentAtNode=function(e){if(!zn(e))throw Error(G(40));return e._reactRootContainer?(Er(function(){Un(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};ot.unstable_batchedUpdates=gl;ot.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!zn(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Un(e,t,r,!1,i)};ot.version="18.3.1-next-f1338f8080-20240426";function Od(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Od)}catch(e){console.error(e)}}Od(),Oh.exports=ot;var Hp=Oh.exports,Kc=Hp;To.createRoot=Kc.createRoot,To.hydrateRoot=Kc.hydrateRoot;const Id=Y.createContext(null),Dr=()=>{const e=Y.useContext(Id);if(!e)throw new Error("useTerminal must be used within a TerminalProvider");return e},jp={ESC:"\x1B",TAB:"	",ENTER:"\r",CTRL_C:"",ARROW_UP:"\x1B[A",ARROW_DOWN:"\x1B[B",ARROW_RIGHT:"\x1B[C",ARROW_LEFT:"\x1B[D",PAGE_UP:"\x1B[5~",PAGE_DOWN:"\x1B[6~",CTRL_L:"\f"},$p=({children:e})=>{const t=Y.useRef(null),r=Y.useRef(null),i=Y.useRef(new Set),[c,d]=Y.useState("connecting"),m=Y.useRef({cols:80,rows:24}),s=Y.useCallback(()=>{d("connecting");const p=window.location.protocol==="https:"?"wss:":"ws:",C=window.location.host,w=window.location.pathname.replace(/\/$/,""),f=`${p}//${C}${w}/ws`,l=new WebSocket(f,["tty"]);l.binaryType="arraybuffer",r.current=l,l.onopen=()=>{console.log("[Terminal] WebSocket connected"),d("connected");const{cols:o,rows:a}=m.current,h=JSON.stringify({AuthToken:"",columns:o,rows:a});l.send(new TextEncoder().encode(h))},l.onmessage=o=>{const a=new Uint8Array(o.data);if(a.length===0)return;const h=String.fromCharCode(a[0]);if(h==="0"){const g=a.slice(1);i.current.forEach(x=>x(g))}else if(h==="1"){const g=new TextDecoder().decode(a.slice(1));document.title=g}},l.onclose=()=>{console.log("[Terminal] WebSocket closed"),d("disconnected"),r.current=null},l.onerror=o=>{console.error("[Terminal] WebSocket error",o)}},[]);Y.useEffect(()=>(s(),()=>{r.current&&r.current.close()}),[s]);const n=Y.useCallback(p=>{if(r.current&&r.current.readyState===WebSocket.OPEN){const C=new TextEncoder().encode(p),w=new Uint8Array(C.length+1);w[0]=48,w.set(C,1),r.current.send(w)}},[]),_=Y.useCallback(p=>{const C=jp[p];C&&n(C)},[n]),v=Y.useCallback(p=>(i.current.add(p),()=>{i.current.delete(p)}),[]),u=Y.useCallback((p,C)=>{if(m.current={cols:p,rows:C},r.current&&r.current.readyState===WebSocket.OPEN){const w=JSON.stringify({AuthToken:"",columns:p,rows:C}),f=new TextEncoder().encode(w),l=new Uint8Array(f.length+1);l[0]=49,l[0]=49,l.set(f,1),r.current.send(l)}},[]);return N.jsx(Id.Provider,{value:{connectionState:c,sendInput:n,sendKey:_,subscribeOutput:v,terminalRef:t,resize:u},children:e})},qc={defaultCommands:[{name:"claude",cmd:"claude --dangerously-skip-permissions",visible:!0},{name:"opencode",cmd:"opencode",visible:!0}],customCommands:[]},Wp=({isOpen:e,onClose:t,onConfigChange:r})=>{const[i,c]=Y.useState(qc),[d,m]=Y.useState(""),[s,n]=Y.useState("");Y.useEffect(()=>{if(e){const C=localStorage.getItem("ttyd_commands");if(C)try{c(JSON.parse(C))}catch(w){console.error("Failed to parse ttyd_commands",w)}else c(qc)}},[e]);const _=C=>{c(C),localStorage.setItem("ttyd_commands",JSON.stringify(C)),r()},v=C=>{const w=[...i.defaultCommands];w[C].visible=!w[C].visible,_({...i,defaultCommands:w})},u=C=>{const w=i.customCommands.filter((f,l)=>l!==C);_({...i,customCommands:w})},p=C=>{if(C.preventDefault(),!d.trim()||!s.trim())return;const w=[...i.customCommands,{name:d.trim(),cmd:s.trim()}];_({...i,customCommands:w}),m(""),n("")};return e?N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:N.jsxs("div",{className:"bg-bg-secondary w-full max-w-sm mx-4 rounded-xl shadow-2xl border border-border-subtle flex flex-col max-h-[80vh]",onClick:C=>C.stopPropagation(),children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-subtle",children:[N.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Command Settings"}),N.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:text-text-primary transition-colors",children:""})]}),N.jsxs("div",{className:"overflow-y-auto p-4 space-y-6",children:[N.jsxs("section",{children:[N.jsx("h3",{className:"text-sm font-medium text-text-muted uppercase tracking-wider mb-3",children:"Built-in Commands"}),N.jsx("div",{className:"space-y-2",children:i.defaultCommands.map((C,w)=>N.jsxs("div",{className:"flex items-center justify-between bg-bg-tertiary p-3 rounded-lg",children:[N.jsx("span",{className:"font-mono text-sm text-text-primary",children:C.name}),N.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[N.jsx("input",{type:"checkbox",className:"sr-only peer",checked:C.visible,onChange:()=>v(w)}),N.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-green"})]})]},C.name))})]}),N.jsxs("section",{children:[N.jsx("h3",{className:"text-sm font-medium text-text-muted uppercase tracking-wider mb-3",children:"Custom Commands"}),i.customCommands.length===0?N.jsx("p",{className:"text-sm text-text-muted italic",children:"No custom commands added"}):N.jsx("div",{className:"space-y-2",children:i.customCommands.map((C,w)=>N.jsxs("div",{className:"flex items-center justify-between bg-bg-tertiary p-3 rounded-lg",children:[N.jsxs("div",{className:"flex flex-col min-w-0 mr-2",children:[N.jsx("span",{className:"font-mono text-sm text-text-primary truncate",children:C.name}),N.jsx("span",{className:"font-mono text-xs text-text-muted truncate",children:C.cmd})]}),N.jsx("button",{onClick:()=>u(w),className:"p-2 text-text-secondary hover:text-accent-red transition-colors",children:""})]},w))})]}),N.jsxs("section",{children:[N.jsx("h3",{className:"text-sm font-medium text-text-muted uppercase tracking-wider mb-3",children:"Add New Command"}),N.jsxs("form",{onSubmit:p,className:"space-y-3",children:[N.jsx("div",{children:N.jsx("input",{type:"text",placeholder:"Button Name (e.g. ls -la)",value:d,onChange:C=>m(C.target.value),className:"w-full bg-bg-primary border border-border-subtle rounded px-3 py-2 text-sm text-text-primary focus:outline-none focus:border-accent-blue"})}),N.jsx("div",{children:N.jsx("input",{type:"text",placeholder:"Command (e.g. ls -la\\r)",value:s,onChange:C=>n(C.target.value),className:"w-full bg-bg-primary border border-border-subtle rounded px-3 py-2 text-sm text-text-primary focus:outline-none focus:border-accent-blue"})}),N.jsx("button",{type:"submit",disabled:!d.trim()||!s.trim(),className:"w-full py-2 bg-accent-blue/10 text-accent-blue border border-accent-blue/30 rounded font-medium hover:bg-accent-blue/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Command"})]})]})]})]})}):null},zp=({isOpen:e,onClose:t,onSend:r})=>{const[i,c]=Y.useState(""),d=Y.useRef(null);Y.useEffect(()=>{e?setTimeout(()=>{d.current&&d.current.focus()},50):c("")},[e]);const m=()=>{i&&(r(i),t())},s=n=>{n.key==="Enter"&&(n.metaKey||n.ctrlKey)&&(n.preventDefault(),m())};return e?N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:N.jsxs("div",{className:"bg-bg-secondary w-full max-w-lg mx-4 rounded-xl shadow-2xl border border-border-subtle flex flex-col h-[50vh]",onClick:n=>n.stopPropagation(),children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-subtle",children:[N.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Input Text"}),N.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:text-text-primary transition-colors",children:""})]}),N.jsx("div",{className:"flex-1 p-4",children:N.jsx("textarea",{ref:d,value:i,onChange:n=>c(n.target.value),onKeyDown:s,placeholder:"Type or paste long text here...",className:"w-full h-full bg-bg-primary border border-border-subtle rounded p-3 font-mono text-sm text-text-primary focus:outline-none focus:border-accent-blue resize-none"})}),N.jsxs("div",{className:"p-4 border-t border-border-subtle flex justify-end gap-3",children:[N.jsx("button",{onClick:t,className:"px-4 py-2 rounded text-text-secondary hover:bg-bg-tertiary transition-colors",children:"Cancel"}),N.jsx("button",{onClick:m,disabled:!i,className:"px-4 py-2 bg-accent-blue text-white rounded font-medium hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Send (Cmd+Enter)"})]})]})}):null};var Nd={},Fd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var d="",m=0;m<arguments.length;m++){var s=arguments[m];s&&(d=c(d,i(s)))}return d}function i(d){if(typeof d=="string"||typeof d=="number")return d;if(typeof d!="object")return"";if(Array.isArray(d))return r.apply(null,d);if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]"))return d.toString();var m="";for(var s in d)t.call(d,s)&&d[s]&&(m=c(m,s));return m}function c(d,m){return m?d?d+" "+m:d+m:d}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Fd);var Up=Fd.exports,or={},Hd={},zt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){}t.prototype={diff:function(c,d){var m,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=s.callback;typeof s=="function"&&(n=s,s={}),this.options=s;var _=this;function v(b){return n?(setTimeout(function(){n(void 0,b)},0),!0):b}c=this.castInput(c),d=this.castInput(d),c=this.removeEmpty(this.tokenize(c)),d=this.removeEmpty(this.tokenize(d));var u=d.length,p=c.length,C=1,w=u+p;s.maxEditLength&&(w=Math.min(w,s.maxEditLength));var f=(m=s.timeout)!==null&&m!==void 0?m:1/0,l=Date.now()+f,o=[{oldPos:-1,lastComponent:void 0}],a=this.extractCommon(o[0],d,c,0);if(o[0].oldPos+1>=p&&a+1>=u)return v([{value:this.join(d),count:d.length}]);var h=-1/0,g=1/0;function x(){for(var b=Math.max(h,-C);b<=Math.min(g,C);b+=2){var S=void 0,E=o[b-1],L=o[b+1];E&&(o[b-1]=void 0);var A=!1;if(L){var R=L.oldPos-b;A=L&&0<=R&&R<u}var D=E&&E.oldPos+1<p;if(!A&&!D){o[b]=void 0;continue}if(!D||A&&E.oldPos+1<L.oldPos?S=_.addToPath(L,!0,void 0,0):S=_.addToPath(E,void 0,!0,1),a=_.extractCommon(S,d,c,b),S.oldPos+1>=p&&a+1>=u)return v(r(_,S.lastComponent,d,c,_.useLongestToken));o[b]=S,S.oldPos+1>=p&&(g=Math.min(g,b-1)),a+1>=u&&(h=Math.max(h,b+1))}C++}if(n)(function b(){setTimeout(function(){if(C>w||Date.now()>l)return n();x()||b()},0)})();else for(;C<=w&&Date.now()<=l;){var y=x();if(y)return y}},addToPath:function(c,d,m,s){var n=c.lastComponent;return n&&n.added===d&&n.removed===m?{oldPos:c.oldPos+s,lastComponent:{count:n.count+1,added:d,removed:m,previousComponent:n.previousComponent}}:{oldPos:c.oldPos+s,lastComponent:{count:1,added:d,removed:m,previousComponent:n}}},extractCommon:function(c,d,m,s){for(var n=d.length,_=m.length,v=c.oldPos,u=v-s,p=0;u+1<n&&v+1<_&&this.equals(d[u+1],m[v+1]);)u++,v++,p++;return p&&(c.lastComponent={count:p,previousComponent:c.lastComponent}),c.oldPos=v,u},equals:function(c,d){return this.options.comparator?this.options.comparator(c,d):c===d||this.options.ignoreCase&&c.toLowerCase()===d.toLowerCase()},removeEmpty:function(c){for(var d=[],m=0;m<c.length;m++)c[m]&&d.push(c[m]);return d},castInput:function(c){return c},tokenize:function(c){return c.split("")},join:function(c){return c.join("")}};function r(i,c,d,m,s){for(var n=[],_;c;)n.push(c),_=c.previousComponent,delete c.previousComponent,c=_;n.reverse();for(var v=0,u=n.length,p=0,C=0;v<u;v++){var w=n[v];if(w.removed){if(w.value=i.join(m.slice(C,C+w.count)),C+=w.count,v&&n[v-1].added){var l=n[v-1];n[v-1]=n[v],n[v]=l}}else{if(!w.added&&s){var f=d.slice(p,p+w.count);f=f.map(function(a,h){var g=m[C+h];return g.length>a.length?g:a}),w.value=i.join(f)}else w.value=i.join(d.slice(p,p+w.count));p+=w.count,w.added||(C+=w.count)}}var o=n[u-1];return u>1&&typeof o.value=="string"&&(o.added||o.removed)&&i.equals("",o.value)&&(n[u-2].value+=o.value,n.pop()),n}})(zt);var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.diffChars=Kp;ls.characterDiff=void 0;var Vp=Gp(zt);function Gp(e){return e&&e.__esModule?e:{default:e}}var jd=new Vp.default;ls.characterDiff=jd;function Kp(e,t,r){return jd.diff(e,t,r)}var hi={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.generateOptions=qp;function qp(e,t){if(typeof e=="function")t.callback=e;else if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}Object.defineProperty(hi,"__esModule",{value:!0});hi.diffWords=Qp;hi.diffWordsWithSpace=Zp;hi.wordDiff=void 0;var Xp=Jp(zt),Yp=Vn;function Jp(e){return e&&e.__esModule?e:{default:e}}var Xc=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Yc=/\S/,cs=new Xp.default;hi.wordDiff=cs;cs.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Yc.test(e)&&!Yc.test(t)};cs.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&Xc.test(t[r])&&Xc.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};function Qp(e,t,r){return r=(0,Yp.generateOptions)(r,{ignoreWhitespace:!0}),cs.diff(e,t,r)}function Zp(e,t,r){return cs.diff(e,t,r)}var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.diffLines=iv;dr.diffTrimmedLines=sv;dr.lineDiff=void 0;var ev=rv(zt),tv=Vn;function rv(e){return e&&e.__esModule?e:{default:e}}var Gn=new ev.default;dr.lineDiff=Gn;Gn.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var c=r[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=c:(this.options.ignoreWhitespace&&(c=c.trim()),t.push(c))}return t};function iv(e,t,r){return Gn.diff(e,t,r)}function sv(e,t,r){var i=(0,tv.generateOptions)(r,{ignoreWhitespace:!0});return Gn.diff(e,t,i)}var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.diffSentences=av;hs.sentenceDiff=void 0;var nv=ov(zt);function ov(e){return e&&e.__esModule?e:{default:e}}var El=new nv.default;hs.sentenceDiff=El;El.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function av(e,t,r){return El.diff(e,t,r)}var us={};Object.defineProperty(us,"__esModule",{value:!0});us.diffCss=hv;us.cssDiff=void 0;var lv=cv(zt);function cv(e){return e&&e.__esModule?e:{default:e}}var Ll=new lv.default;us.cssDiff=Ll;Ll.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function hv(e,t,r){return Ll.diff(e,t,r)}var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.diffJson=_v;ui.canonicalize=En;ui.jsonDiff=void 0;var $d=dv(zt),uv=dr;function dv(e){return e&&e.__esModule?e:{default:e}}function Ys(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ys=function(r){return typeof r}:Ys=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ys(e)}var fv=Object.prototype.toString,Lr=new $d.default;ui.jsonDiff=Lr;Lr.useLongestToken=!0;Lr.tokenize=uv.lineDiff.tokenize;Lr.castInput=function(e){var t=this.options,r=t.undefinedReplacement,i=t.stringifyReplacer,c=i===void 0?function(d,m){return typeof m>"u"?r:m}:i;return typeof e=="string"?e:JSON.stringify(En(e,null,null,c),c,"  ")};Lr.equals=function(e,t){return $d.default.prototype.equals.call(Lr,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function _v(e,t,r){return Lr.diff(e,t,r)}function En(e,t,r,i,c){t=t||[],r=r||[],i&&(e=i(c,e));var d;for(d=0;d<t.length;d+=1)if(t[d]===e)return r[d];var m;if(fv.call(e)==="[object Array]"){for(t.push(e),m=new Array(e.length),r.push(m),d=0;d<e.length;d+=1)m[d]=En(e[d],t,r,i,c);return t.pop(),r.pop(),m}if(e&&e.toJSON&&(e=e.toJSON()),Ys(e)==="object"&&e!==null){t.push(e),m={},r.push(m);var s=[],n;for(n in e)e.hasOwnProperty(n)&&s.push(n);for(s.sort(),d=0;d<s.length;d+=1)n=s[d],m[n]=En(e[n],t,r,i,n);t.pop(),r.pop()}else m=e;return m}var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.diffArrays=gv;ds.arrayDiff=void 0;var pv=vv(zt);function vv(e){return e&&e.__esModule?e:{default:e}}var es=new pv.default;ds.arrayDiff=es;es.tokenize=function(e){return e.slice()};es.join=es.removeEmpty=function(e){return e};function gv(e,t,r){return es.diff(e,t,r)}var Kn={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.parsePatch=mv;function mv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],c=[],d=0;function m(){var _={};for(c.push(_);d<r.length;){var v=r[d];if(/^(\-\-\-|\+\+\+|@@)\s/.test(v))break;var u=/^(?:Index:|diff(?: -r \w+)+)\s+/.exec(v);u&&(_.index=v.substring(u[0].length).trim()),d++}for(s(_),s(_),_.hunks=[];d<r.length;){var p=r[d];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(p))break;if(/^@@/.test(p))_.hunks.push(n());else{if(p&&t.strict)throw new Error("Unknown line "+(d+1)+" "+JSON.stringify(p));d++}}}function s(_){var v=/^(---|\+\+\+)\s+/.exec(r[d]);if(v){var u=v[1]==="---"?"old":"new",p=r[d].substring(3).trim().split("	",2),C=p[0].replace(/\\\\/g,"\\");C.startsWith('"')&&C.endsWith('"')&&(C=C.substr(1,C.length-2)),_[u+"FileName"]=C,_[u+"Header"]=(p[1]||"").trim(),d++}}function n(){var _=d,v=r[d++],u=v.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),p={oldStart:+u[1],oldLines:typeof u[2]>"u"?1:+u[2],newStart:+u[3],newLines:typeof u[4]>"u"?1:+u[4],lines:[],linedelimiters:[]};p.oldLines===0&&(p.oldStart+=1),p.newLines===0&&(p.newStart+=1);for(var C=0,w=0;d<r.length&&!(r[d].indexOf("--- ")===0&&d+2<r.length&&r[d+1].indexOf("+++ ")===0&&r[d+2].indexOf("@@")===0);d++){var f=r[d].length==0&&d!=r.length-1?" ":r[d][0];if(f==="+"||f==="-"||f===" "||f==="\\")p.lines.push(r[d]),p.linedelimiters.push(i[d]||`
`),f==="+"?C++:f==="-"?w++:f===" "&&(C++,w++);else break}if(!C&&p.newLines===1&&(p.newLines=0),!w&&p.oldLines===1&&(p.oldLines=0),t.strict){if(C!==p.newLines)throw new Error("Added line count did not match for hunk at line "+(_+1));if(w!==p.oldLines)throw new Error("Removed line count did not match for hunk at line "+(_+1))}return p}for(;d<r.length;)m();return c}var Wd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,i,c){var d=!0,m=!1,s=!1,n=1;return function _(){if(d&&!s){if(m?n++:d=!1,r+n<=c)return n;s=!0}if(!m)return s||(d=!0),i<=r-n?-n++:(m=!0,_())}}})(Wd);Object.defineProperty(Kn,"__esModule",{value:!0});Kn.applyPatch=Ud;Kn.applyPatches=Cv;var zd=fs,yv=Sv(Wd);function Sv(e){return e&&e.__esModule?e:{default:e}}function Ud(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string"&&(t=(0,zd.parsePatch)(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var i=e.split(/\r\n|[\n\v\f\r\x85]/),c=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],d=t.hunks,m=r.compareLine||function(H,$,j,O){return $===O},s=0,n=r.fuzzFactor||0,_=0,v=0,u,p;function C(H,$){for(var j=0;j<H.lines.length;j++){var O=H.lines[j],k=O.length>0?O[0]:" ",M=O.length>0?O.substr(1):O;if(k===" "||k==="-"){if(!m($+1,i[$],k,M)&&(s++,s>n))return!1;$++}}return!0}for(var w=0;w<d.length;w++){for(var f=d[w],l=i.length-f.oldLines,o=0,a=v+f.oldStart-1,h=(0,yv.default)(a,_,l);o!==void 0;o=h())if(C(f,a+o)){f.offset=v+=o;break}if(o===void 0)return!1;_=f.offset+f.oldStart+f.oldLines}for(var g=0,x=0;x<d.length;x++){var y=d[x],b=y.oldStart+y.offset+g-1;g+=y.newLines-y.oldLines;for(var S=0;S<y.lines.length;S++){var E=y.lines[S],L=E.length>0?E[0]:" ",A=E.length>0?E.substr(1):E,R=y.linedelimiters&&y.linedelimiters[S]||`
`;if(L===" ")b++;else if(L==="-")i.splice(b,1),c.splice(b,1);else if(L==="+")i.splice(b,0,A),c.splice(b,0,R),b++;else if(L==="\\"){var D=y.lines[S-1]?y.lines[S-1][0]:null;D==="+"?u=!0:D==="-"&&(p=!0)}}}if(u)for(;!i[i.length-1];)i.pop(),c.pop();else p&&(i.push(""),c.push(`
`));for(var P=0;P<i.length-1;P++)i[P]=i[P]+c[P];return i.join("")}function Cv(e,t){typeof e=="string"&&(e=(0,zd.parsePatch)(e));var r=0;function i(){var c=e[r++];if(!c)return t.complete();t.loadFile(c,function(d,m){if(d)return t.complete(d);var s=Ud(m,c,t);t.patched(c,s,function(n){if(n)return t.complete(n);i()})})}i()}var qn={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.structuredPatch=Vd;Ar.formatPatch=kl;Ar.createTwoFilesPatch=Gd;Ar.createPatch=kv;var wv=dr;function Ro(e){return Lv(e)||Ev(e)||bv(e)||xv()}function xv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bv(e,t){if(e){if(typeof e=="string")return Ea(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ea(e,t)}}function Ev(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Lv(e){if(Array.isArray(e))return Ea(e)}function Ea(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Vd(e,t,r,i,c,d,m){m||(m={}),typeof m.context>"u"&&(m.context=4);var s=(0,wv.diffLines)(r,i,m);if(!s)return;s.push({value:"",lines:[]});function n(o){return o.map(function(a){return" "+a})}for(var _=[],v=0,u=0,p=[],C=1,w=1,f=function(a){var h=s[a],g=h.lines||h.value.replace(/\n$/,"").split(`
`);if(h.lines=g,h.added||h.removed){var x;if(!v){var y=s[a-1];v=C,u=w,y&&(p=m.context>0?n(y.lines.slice(-m.context)):[],v-=p.length,u-=p.length)}(x=p).push.apply(x,Ro(g.map(function(P){return(h.added?"+":"-")+P}))),h.added?w+=g.length:C+=g.length}else{if(v)if(g.length<=m.context*2&&a<s.length-2){var b;(b=p).push.apply(b,Ro(n(g)))}else{var S,E=Math.min(g.length,m.context);(S=p).push.apply(S,Ro(n(g.slice(0,E))));var L={oldStart:v,oldLines:C-v+E,newStart:u,newLines:w-u+E,lines:p};if(a>=s.length-2&&g.length<=m.context){var A=/\n$/.test(r),R=/\n$/.test(i),D=g.length==0&&p.length>L.oldLines;!A&&D&&r.length>0&&p.splice(L.oldLines,0,"\\ No newline at end of file"),(!A&&!D||!R)&&p.push("\\ No newline at end of file")}_.push(L),v=0,u=0,p=[]}C+=g.length,w+=g.length}},l=0;l<s.length;l++)f(l);return{oldFileName:e,newFileName:t,oldHeader:c,newHeader:d,hunks:_}}function kl(e){if(Array.isArray(e))return e.map(kl).join(`
`);var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader>"u"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader>"u"?"":"	"+e.newHeader));for(var r=0;r<e.hunks.length;r++){var i=e.hunks[r];i.oldLines===0&&(i.oldStart-=1),i.newLines===0&&(i.newStart-=1),t.push("@@ -"+i.oldStart+","+i.oldLines+" +"+i.newStart+","+i.newLines+" @@"),t.push.apply(t,i.lines)}return t.join(`
`)+`
`}function Gd(e,t,r,i,c,d,m){return kl(Vd(e,t,r,i,c,d,m))}function kv(e,t,r,i,c,d){return Gd(e,e,t,r,i,c,d)}var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.arrayEqual=Rv;Xn.arrayStartsWith=Kd;function Rv(e,t){return e.length!==t.length?!1:Kd(e,t)}function Kd(e,t){if(t.length>e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}Object.defineProperty(qn,"__esModule",{value:!0});qn.calcLineCount=qd;qn.merge=Ov;var Dv=Ar,Av=fs,Do=Xn;function Jr(e){return Bv(e)||Pv(e)||Tv(e)||Mv()}function Mv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tv(e,t){if(e){if(typeof e=="string")return La(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return La(e,t)}}function Pv(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Bv(e){if(Array.isArray(e))return La(e)}function La(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function qd(e){var t=ka(e.lines),r=t.oldLines,i=t.newLines;r!==void 0?e.oldLines=r:delete e.oldLines,i!==void 0?e.newLines=i:delete e.newLines}function Ov(e,t,r){e=Jc(e,r),t=Jc(t,r);var i={};(e.index||t.index)&&(i.index=e.index||t.index),(e.newFileName||t.newFileName)&&(Qc(e)?Qc(t)?(i.oldFileName=Os(i,e.oldFileName,t.oldFileName),i.newFileName=Os(i,e.newFileName,t.newFileName),i.oldHeader=Os(i,e.oldHeader,t.oldHeader),i.newHeader=Os(i,e.newHeader,t.newHeader)):(i.oldFileName=e.oldFileName,i.newFileName=e.newFileName,i.oldHeader=e.oldHeader,i.newHeader=e.newHeader):(i.oldFileName=t.oldFileName||e.oldFileName,i.newFileName=t.newFileName||e.newFileName,i.oldHeader=t.oldHeader||e.oldHeader,i.newHeader=t.newHeader||e.newHeader)),i.hunks=[];for(var c=0,d=0,m=0,s=0;c<e.hunks.length||d<t.hunks.length;){var n=e.hunks[c]||{oldStart:1/0},_=t.hunks[d]||{oldStart:1/0};if(Zc(n,_))i.hunks.push(eh(n,m)),c++,s+=n.newLines-n.oldLines;else if(Zc(_,n))i.hunks.push(eh(_,s)),d++,m+=_.newLines-_.oldLines;else{var v={oldStart:Math.min(n.oldStart,_.oldStart),oldLines:0,newStart:Math.min(n.newStart+m,_.oldStart+s),newLines:0,lines:[]};Iv(v,n.oldStart,n.lines,_.oldStart,_.lines),d++,c++,i.hunks.push(v)}}return i}function Jc(e,t){if(typeof e=="string"){if(/^@@/m.test(e)||/^Index:/m.test(e))return(0,Av.parsePatch)(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return(0,Dv.structuredPatch)(void 0,void 0,t,e)}return e}function Qc(e){return e.newFileName&&e.newFileName!==e.oldFileName}function Os(e,t,r){return t===r?t:(e.conflict=!0,{mine:t,theirs:r})}function Zc(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function eh(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function Iv(e,t,r,i,c){var d={offset:t,lines:r,index:0},m={offset:i,lines:c,index:0};for(rh(e,d,m),rh(e,m,d);d.index<d.lines.length&&m.index<m.lines.length;){var s=d.lines[d.index],n=m.lines[m.index];if((s[0]==="-"||s[0]==="+")&&(n[0]==="-"||n[0]==="+"))Nv(e,d,m);else if(s[0]==="+"&&n[0]===" "){var _;(_=e.lines).push.apply(_,Jr(mr(d)))}else if(n[0]==="+"&&s[0]===" "){var v;(v=e.lines).push.apply(v,Jr(mr(m)))}else s[0]==="-"&&n[0]===" "?th(e,d,m):n[0]==="-"&&s[0]===" "?th(e,m,d,!0):s===n?(e.lines.push(s),d.index++,m.index++):Rl(e,mr(d),mr(m))}ih(e,d),ih(e,m),qd(e)}function Nv(e,t,r){var i=mr(t),c=mr(r);if(sh(i)&&sh(c)){if((0,Do.arrayStartsWith)(i,c)&&nh(r,i,i.length-c.length)){var d;(d=e.lines).push.apply(d,Jr(i));return}else if((0,Do.arrayStartsWith)(c,i)&&nh(t,c,c.length-i.length)){var m;(m=e.lines).push.apply(m,Jr(c));return}}else if((0,Do.arrayEqual)(i,c)){var s;(s=e.lines).push.apply(s,Jr(i));return}Rl(e,i,c)}function th(e,t,r,i){var c=mr(t),d=Fv(r,c);if(d.merged){var m;(m=e.lines).push.apply(m,Jr(d.merged))}else Rl(e,i?d:c,i?c:d)}function Rl(e,t,r){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:r})}function rh(e,t,r){for(;t.offset<r.offset&&t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i),t.offset++}}function ih(e,t){for(;t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r)}}function mr(e){for(var t=[],r=e.lines[e.index][0];e.index<e.lines.length;){var i=e.lines[e.index];if(r==="-"&&i[0]==="+"&&(r="+"),r===i[0])t.push(i),e.index++;else break}return t}function Fv(e,t){for(var r=[],i=[],c=0,d=!1,m=!1;c<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],n=t[c];if(n[0]==="+")break;if(d=d||s[0]!==" ",i.push(n),c++,s[0]==="+")for(m=!0;s[0]==="+";)r.push(s),s=e.lines[++e.index];n.substr(1)===s.substr(1)?(r.push(s),e.index++):m=!0}if((t[c]||"")[0]==="+"&&d&&(m=!0),m)return r;for(;c<t.length;)i.push(t[c++]);return{merged:i,changes:r}}function sh(e){return e.reduce(function(t,r){return t&&r[0]==="-"},!0)}function nh(e,t,r){for(var i=0;i<r;i++){var c=t[t.length-r+i].substr(1);if(e.lines[e.index+i]!==" "+c)return!1}return e.index+=r,!0}function ka(e){var t=0,r=0;return e.forEach(function(i){if(typeof i!="string"){var c=ka(i.mine),d=ka(i.theirs);t!==void 0&&(c.oldLines===d.oldLines?t+=c.oldLines:t=void 0),r!==void 0&&(c.newLines===d.newLines?r+=c.newLines:r=void 0)}else r!==void 0&&(i[0]==="+"||i[0]===" ")&&r++,t!==void 0&&(i[0]==="-"||i[0]===" ")&&t++}),{oldLines:t,newLines:r}}var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.reversePatch=Xd;function oh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,i)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oh(Object(r),!0).forEach(function(i){Hv(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oh(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Hv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xd(e){return Array.isArray(e)?e.map(Xd).reverse():ah(ah({},e),{},{oldFileName:e.newFileName,oldHeader:e.newHeader,newFileName:e.oldFileName,newHeader:e.oldHeader,hunks:e.hunks.map(function(t){return{oldLines:t.newLines,oldStart:t.newStart,newLines:t.oldLines,newStart:t.oldStart,linedelimiters:t.linedelimiters,lines:t.lines.map(function(r){return r.startsWith("-")?"+".concat(r.slice(1)):r.startsWith("+")?"-".concat(r.slice(1)):r})}})})}var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.convertChangesToDMP=jv;function jv(e){for(var t=[],r,i,c=0;c<e.length;c++)r=e[c],r.added?i=1:r.removed?i=-1:i=0,t.push([i,r.value]);return t}var Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.convertChangesToXML=$v;function $v(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push(Wv(i.value)),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}return t.join("")}function Wv(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Diff",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"diffChars",{enumerable:!0,get:function(){return r.diffChars}}),Object.defineProperty(e,"diffWords",{enumerable:!0,get:function(){return i.diffWords}}),Object.defineProperty(e,"diffWordsWithSpace",{enumerable:!0,get:function(){return i.diffWordsWithSpace}}),Object.defineProperty(e,"diffLines",{enumerable:!0,get:function(){return c.diffLines}}),Object.defineProperty(e,"diffTrimmedLines",{enumerable:!0,get:function(){return c.diffTrimmedLines}}),Object.defineProperty(e,"diffSentences",{enumerable:!0,get:function(){return d.diffSentences}}),Object.defineProperty(e,"diffCss",{enumerable:!0,get:function(){return m.diffCss}}),Object.defineProperty(e,"diffJson",{enumerable:!0,get:function(){return s.diffJson}}),Object.defineProperty(e,"canonicalize",{enumerable:!0,get:function(){return s.canonicalize}}),Object.defineProperty(e,"diffArrays",{enumerable:!0,get:function(){return n.diffArrays}}),Object.defineProperty(e,"applyPatch",{enumerable:!0,get:function(){return _.applyPatch}}),Object.defineProperty(e,"applyPatches",{enumerable:!0,get:function(){return _.applyPatches}}),Object.defineProperty(e,"parsePatch",{enumerable:!0,get:function(){return v.parsePatch}}),Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return u.merge}}),Object.defineProperty(e,"reversePatch",{enumerable:!0,get:function(){return p.reversePatch}}),Object.defineProperty(e,"structuredPatch",{enumerable:!0,get:function(){return C.structuredPatch}}),Object.defineProperty(e,"createTwoFilesPatch",{enumerable:!0,get:function(){return C.createTwoFilesPatch}}),Object.defineProperty(e,"createPatch",{enumerable:!0,get:function(){return C.createPatch}}),Object.defineProperty(e,"formatPatch",{enumerable:!0,get:function(){return C.formatPatch}}),Object.defineProperty(e,"convertChangesToDMP",{enumerable:!0,get:function(){return w.convertChangesToDMP}}),Object.defineProperty(e,"convertChangesToXML",{enumerable:!0,get:function(){return f.convertChangesToXML}});var t=l(zt),r=ls,i=hi,c=dr,d=hs,m=us,s=ui,n=ds,_=Kn,v=fs,u=qn,p=Dl,C=Ar,w=Al,f=Ml;function l(o){return o&&o.__esModule?o:{default:o}}})(Hd);var zv=Te&&Te.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r);var c=Object.getOwnPropertyDescriptor(t,r);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,c)}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),Uv=Te&&Te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Vv=Te&&Te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zv(t,e,r);return Uv(t,e),t};Object.defineProperty(or,"__esModule",{value:!0});or.computeLineInformation=or.DiffMethod=or.DiffType=void 0;const Ra=Vv(Hd),Gv=Ra;var It;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ADDED=1]="ADDED",e[e.REMOVED=2]="REMOVED",e[e.CHANGED=3]="CHANGED"})(It||(or.DiffType=It={}));var Ln;(function(e){e.CHARS="diffChars",e.WORDS="diffWords",e.WORDS_WITH_SPACE="diffWordsWithSpace",e.LINES="diffLines",e.TRIMMED_LINES="diffTrimmedLines",e.SENTENCES="diffSentences",e.CSS="diffCss",e.JSON="diffJson"})(Ln||(or.DiffMethod=Ln={}));const lh=e=>e===""?[]:e.replace(/\n$/,"").split(`
`),Kv=(e,t,r=Ln.CHARS)=>{const i=Gv[r](e,t),c={left:[],right:[]};return i.forEach(({added:d,removed:m,value:s})=>{const n={};return d&&(n.type=It.ADDED,n.value=s,c.right.push(n)),m&&(n.type=It.REMOVED,n.value=s,c.left.push(n)),!m&&!d&&(n.type=It.DEFAULT,n.value=s,c.right.push(n),c.left.push(n)),n}),c},qv=(e,t,r=!1,i=Ln.CHARS,c=0,d=[])=>{let m=[];typeof e=="string"&&typeof t=="string"?m=Ra.diffLines(e.trimRight(),t.trimRight(),{newlineIsToken:!1,ignoreWhitespace:!1,ignoreCase:!1}):m=Ra.diffJson(e,t);let s=c,n=c,_=[],v=0;const u=[],p=[],C=(w,f,l,o,a)=>lh(w).map((g,x)=>{const y={},b={};if(!(p.includes(`${f}-${x}`)||a&&x!==0)){if(l||o){let S=!0;if(o){n+=1,y.lineNumber=n,y.type=It.REMOVED,y.value=g||" ";const E=m[f+1];if(E&&E.added){const L=lh(E.value)[x];if(L){const A=C(L,f,!0,!1,!0),{value:R,lineNumber:D,type:P}=A[0].right;if(p.push(`${f+1}-${x}`),b.lineNumber=D,y.value===R)S=!1,b.type=0,y.type=0,b.value=R;else if(b.type=P,r)b.value=R;else{const H=Kv(g,R,i);b.value=H.right,y.value=H.left}}}}else s+=1,b.lineNumber=s,b.type=It.ADDED,b.value=g;S&&!a&&(u.includes(v)||u.push(v))}else n+=1,s+=1,y.lineNumber=n,y.type=It.DEFAULT,y.value=g,b.lineNumber=s,b.type=It.DEFAULT,b.value=g;return(d?.includes(`L-${y.lineNumber}`)||d?.includes(`R-${b.lineNumber}`)&&!u.includes(v))&&u.push(v),a||(v+=1),{right:b,left:y}}}).filter(Boolean);return m.forEach(({added:w,removed:f,value:l},o)=>{_=[..._,...C(l,o,w,f)]}),{lineInformation:_,diffLines:u}};or.computeLineInformation=qv;var Tl={};function Xv(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Yv(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Jv=function(){function e(r){var i=this;this._insertTag=function(c){var d;i.tags.length===0?i.insertionPoint?d=i.insertionPoint.nextSibling:i.prepend?d=i.container.firstChild:d=i.before:d=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(c,d),i.tags.push(c)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Yv(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var d=Xv(c);try{d.insertRule(i,d.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var c;return(c=i.parentNode)==null?void 0:c.removeChild(i)}),this.tags=[],this.ctr=0},e}(),$e="-ms-",kn="-moz-",he="-webkit-",Yd="comm",Pl="rule",Bl="decl",Qv="@import",Jd="@keyframes",Zv="@layer",eg=Math.abs,Yn=String.fromCharCode,tg=Object.assign;function rg(e,t){return Ie(e,0)^45?(((t<<2^Ie(e,0))<<2^Ie(e,1))<<2^Ie(e,2))<<2^Ie(e,3):0}function Qd(e){return e.trim()}function ig(e,t){return(e=t.exec(e))?e[0]:e}function ue(e,t,r){return e.replace(t,r)}function Da(e,t){return e.indexOf(t)}function Ie(e,t){return e.charCodeAt(t)|0}function ts(e,t,r){return e.slice(t,r)}function Lt(e){return e.length}function Ol(e){return e.length}function Is(e,t){return t.push(e),e}function sg(e,t){return e.map(t).join("")}var Jn=1,oi=1,Zd=0,et=0,Re=0,di="";function Qn(e,t,r,i,c,d,m){return{value:e,root:t,parent:r,type:i,props:c,children:d,line:Jn,column:oi,length:m,return:""}}function wi(e,t){return tg(Qn("",null,null,"",null,null,0),e,{length:-e.length},t)}function ng(){return Re}function og(){return Re=et>0?Ie(di,--et):0,oi--,Re===10&&(oi=1,Jn--),Re}function st(){return Re=et<Zd?Ie(di,et++):0,oi++,Re===10&&(oi=1,Jn++),Re}function At(){return Ie(di,et)}function Js(){return et}function _s(e,t){return ts(di,e,t)}function rs(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ef(e){return Jn=oi=1,Zd=Lt(di=e),et=0,[]}function tf(e){return di="",e}function Qs(e){return Qd(_s(et-1,Aa(e===91?e+2:e===40?e+1:e)))}function ag(e){for(;(Re=At())&&Re<33;)st();return rs(e)>2||rs(Re)>3?"":" "}function lg(e,t){for(;--t&&st()&&!(Re<48||Re>102||Re>57&&Re<65||Re>70&&Re<97););return _s(e,Js()+(t<6&&At()==32&&st()==32))}function Aa(e){for(;st();)switch(Re){case e:return et;case 34:case 39:e!==34&&e!==39&&Aa(Re);break;case 40:e===41&&Aa(e);break;case 92:st();break}return et}function cg(e,t){for(;st()&&e+Re!==57;)if(e+Re===84&&At()===47)break;return"/*"+_s(t,et-1)+"*"+Yn(e===47?e:st())}function hg(e){for(;!rs(At());)st();return _s(e,et)}function ug(e){return tf(Zs("",null,null,null,[""],e=ef(e),0,[0],e))}function Zs(e,t,r,i,c,d,m,s,n){for(var _=0,v=0,u=m,p=0,C=0,w=0,f=1,l=1,o=1,a=0,h="",g=c,x=d,y=i,b=h;l;)switch(w=a,a=st()){case 40:if(w!=108&&Ie(b,u-1)==58){Da(b+=ue(Qs(a),"&","&\f"),"&\f")!=-1&&(o=-1);break}case 34:case 39:case 91:b+=Qs(a);break;case 9:case 10:case 13:case 32:b+=ag(w);break;case 92:b+=lg(Js()-1,7);continue;case 47:switch(At()){case 42:case 47:Is(dg(cg(st(),Js()),t,r),n);break;default:b+="/"}break;case 123*f:s[_++]=Lt(b)*o;case 125*f:case 59:case 0:switch(a){case 0:case 125:l=0;case 59+v:o==-1&&(b=ue(b,/\f/g,"")),C>0&&Lt(b)-u&&Is(C>32?hh(b+";",i,r,u-1):hh(ue(b," ","")+";",i,r,u-2),n);break;case 59:b+=";";default:if(Is(y=ch(b,t,r,_,v,c,s,h,g=[],x=[],u),d),a===123)if(v===0)Zs(b,t,y,y,g,d,u,s,x);else switch(p===99&&Ie(b,3)===110?100:p){case 100:case 108:case 109:case 115:Zs(e,y,y,i&&Is(ch(e,y,y,0,0,c,s,h,c,g=[],u),x),c,x,u,s,i?g:x);break;default:Zs(b,y,y,y,[""],x,0,s,x)}}_=v=C=0,f=o=1,h=b="",u=m;break;case 58:u=1+Lt(b),C=w;default:if(f<1){if(a==123)--f;else if(a==125&&f++==0&&og()==125)continue}switch(b+=Yn(a),a*f){case 38:o=v>0?1:(b+="\f",-1);break;case 44:s[_++]=(Lt(b)-1)*o,o=1;break;case 64:At()===45&&(b+=Qs(st())),p=At(),v=u=Lt(h=b+=hg(Js())),a++;break;case 45:w===45&&Lt(b)==2&&(f=0)}}return d}function ch(e,t,r,i,c,d,m,s,n,_,v){for(var u=c-1,p=c===0?d:[""],C=Ol(p),w=0,f=0,l=0;w<i;++w)for(var o=0,a=ts(e,u+1,u=eg(f=m[w])),h=e;o<C;++o)(h=Qd(f>0?p[o]+" "+a:ue(a,/&\f/g,p[o])))&&(n[l++]=h);return Qn(e,t,r,c===0?Pl:s,n,_,v)}function dg(e,t,r){return Qn(e,t,r,Yd,Yn(ng()),ts(e,2,-2),0)}function hh(e,t,r,i){return Qn(e,t,r,Bl,ts(e,0,i),ts(e,i+1,-1),i)}function Qr(e,t){for(var r="",i=Ol(e),c=0;c<i;c++)r+=t(e[c],c,e,t)||"";return r}function fg(e,t,r,i){switch(e.type){case Zv:if(e.children.length)break;case Qv:case Bl:return e.return=e.return||e.value;case Yd:return"";case Jd:return e.return=e.value+"{"+Qr(e.children,i)+"}";case Pl:e.value=e.props.join(",")}return Lt(r=Qr(e.children,i))?e.return=e.value+"{"+r+"}":""}function _g(e){var t=Ol(e);return function(r,i,c,d){for(var m="",s=0;s<t;s++)m+=e[s](r,i,c,d)||"";return m}}function pg(e){return function(t){t.root||(t=t.return)&&e(t)}}function vg(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var gg=function(t,r,i){for(var c=0,d=0;c=d,d=At(),c===38&&d===12&&(r[i]=1),!rs(d);)st();return _s(t,et)},mg=function(t,r){var i=-1,c=44;do switch(rs(c)){case 0:c===38&&At()===12&&(r[i]=1),t[i]+=gg(et-1,r,i);break;case 2:t[i]+=Qs(c);break;case 4:if(c===44){t[++i]=At()===58?"&\f":"",r[i]=t[i].length;break}default:t[i]+=Yn(c)}while(c=st());return t},yg=function(t,r){return tf(mg(ef(t),r))},uh=new WeakMap,Sg=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,i=t.parent,c=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!uh.get(i))&&!c){uh.set(t,!0);for(var d=[],m=yg(r,d),s=i.props,n=0,_=0;n<m.length;n++)for(var v=0;v<s.length;v++,_++)t.props[_]=d[n]?m[n].replace(/&\f/g,s[v]):s[v]+" "+m[n]}}},Cg=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function rf(e,t){switch(rg(e,t)){case 5103:return he+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return he+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return he+e+kn+e+$e+e+e;case 6828:case 4268:return he+e+$e+e+e;case 6165:return he+e+$e+"flex-"+e+e;case 5187:return he+e+ue(e,/(\w+).+(:[^]+)/,he+"box-$1$2"+$e+"flex-$1$2")+e;case 5443:return he+e+$e+"flex-item-"+ue(e,/flex-|-self/,"")+e;case 4675:return he+e+$e+"flex-line-pack"+ue(e,/align-content|flex-|-self/,"")+e;case 5548:return he+e+$e+ue(e,"shrink","negative")+e;case 5292:return he+e+$e+ue(e,"basis","preferred-size")+e;case 6060:return he+"box-"+ue(e,"-grow","")+he+e+$e+ue(e,"grow","positive")+e;case 4554:return he+ue(e,/([^-])(transform)/g,"$1"+he+"$2")+e;case 6187:return ue(ue(ue(e,/(zoom-|grab)/,he+"$1"),/(image-set)/,he+"$1"),e,"")+e;case 5495:case 3959:return ue(e,/(image-set\([^]*)/,he+"$1$`$1");case 4968:return ue(ue(e,/(.+:)(flex-)?(.*)/,he+"box-pack:$3"+$e+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+he+e+e;case 4095:case 3583:case 4068:case 2532:return ue(e,/(.+)-inline(.+)/,he+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lt(e)-1-t>6)switch(Ie(e,t+1)){case 109:if(Ie(e,t+4)!==45)break;case 102:return ue(e,/(.+:)(.+)-([^]+)/,"$1"+he+"$2-$3$1"+kn+(Ie(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Da(e,"stretch")?rf(ue(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ie(e,t+1)!==115)break;case 6444:switch(Ie(e,Lt(e)-3-(~Da(e,"!important")&&10))){case 107:return ue(e,":",":"+he)+e;case 101:return ue(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+he+(Ie(e,14)===45?"inline-":"")+"box$3$1"+he+"$2$3$1"+$e+"$2box$3")+e}break;case 5936:switch(Ie(e,t+11)){case 114:return he+e+$e+ue(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return he+e+$e+ue(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return he+e+$e+ue(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return he+e+$e+e+e}return e}var wg=function(t,r,i,c){if(t.length>-1&&!t.return)switch(t.type){case Bl:t.return=rf(t.value,t.length);break;case Jd:return Qr([wi(t,{value:ue(t.value,"@","@"+he)})],c);case Pl:if(t.length)return sg(t.props,function(d){switch(ig(d,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qr([wi(t,{props:[ue(d,/:(read-\w+)/,":"+kn+"$1")]})],c);case"::placeholder":return Qr([wi(t,{props:[ue(d,/:(plac\w+)/,":"+he+"input-$1")]}),wi(t,{props:[ue(d,/:(plac\w+)/,":"+kn+"$1")]}),wi(t,{props:[ue(d,/:(plac\w+)/,$e+"input-$1")]})],c)}return""})}},xg=[wg],bg=function(t){var r=t.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(f){var l=f.getAttribute("data-emotion");l.indexOf(" ")!==-1&&(document.head.appendChild(f),f.setAttribute("data-s",""))})}var c=t.stylisPlugins||xg,d={},m,s=[];m=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(f){for(var l=f.getAttribute("data-emotion").split(" "),o=1;o<l.length;o++)d[l[o]]=!0;s.push(f)});var n,_=[Sg,Cg];{var v,u=[fg,pg(function(f){v.insert(f)})],p=_g(_.concat(c,u)),C=function(l){return Qr(ug(l),p)};n=function(l,o,a,h){v=a,C(l?l+"{"+o.styles+"}":o.styles),h&&(w.inserted[o.name]=!0)}}var w={key:r,sheet:new Jv({key:r,container:m,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:d,registered:{},insert:n};return w.sheet.hydrate(s),w};function Eg(e){for(var t=0,r,i=0,c=e.length;c>=4;++i,c-=4)r=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(c){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Lg={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kg=/[A-Z]|^ms/g,Rg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sf=function(t){return t.charCodeAt(1)===45},dh=function(t){return t!=null&&typeof t!="boolean"},Ao=vg(function(e){return sf(e)?e:e.replace(kg,"-$&").toLowerCase()}),fh=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Rg,function(i,c,d){return Jt={name:c,styles:d,next:Jt},c})}return Lg[t]!==1&&!sf(t)&&typeof r=="number"&&r!==0?r+"px":r};function Rn(e,t,r){if(r==null)return"";var i=r;if(i.__emotion_styles!==void 0)return i;switch(typeof r){case"boolean":return"";case"object":{var c=r;if(c.anim===1)return Jt={name:c.name,styles:c.styles,next:Jt},c.name;var d=r;if(d.styles!==void 0){var m=d.next;if(m!==void 0)for(;m!==void 0;)Jt={name:m.name,styles:m.styles,next:Jt},m=m.next;var s=d.styles+";";return s}return Dg(e,t,r)}}var n=r;if(t==null)return n;var _=t[n];return _!==void 0?_:n}function Dg(e,t,r){var i="";if(Array.isArray(r))for(var c=0;c<r.length;c++)i+=Rn(e,t,r[c])+";";else for(var d in r){var m=r[d];if(typeof m!="object"){var s=m;t!=null&&t[s]!==void 0?i+=d+"{"+t[s]+"}":dh(s)&&(i+=Ao(d)+":"+fh(d,s)+";")}else if(Array.isArray(m)&&typeof m[0]=="string"&&(t==null||t[m[0]]===void 0))for(var n=0;n<m.length;n++)dh(m[n])&&(i+=Ao(d)+":"+fh(d,m[n])+";");else{var _=Rn(e,t,m);switch(d){case"animation":case"animationName":{i+=Ao(d)+":"+_+";";break}default:i+=d+"{"+_+"}"}}}return i}var _h=/label:\s*([^\s;{]+)\s*(;|$)/g,Jt;function Mo(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,c="";Jt=void 0;var d=e[0];if(d==null||d.raw===void 0)i=!1,c+=Rn(r,t,d);else{var m=d;c+=m[0]}for(var s=1;s<e.length;s++)if(c+=Rn(r,t,e[s]),i){var n=d;c+=n[s]}_h.lastIndex=0;for(var _="",v;(v=_h.exec(c))!==null;)_+="-"+v[1];var u=Eg(c)+_;return{name:u,styles:c,next:Jt}}function nf(e,t,r){var i="";return r.split(" ").forEach(function(c){e[c]!==void 0?t.push(e[c]+";"):c&&(i+=c+" ")}),i}var Ag=function(t,r,i){var c=t.key+"-"+r.name;t.registered[c]===void 0&&(t.registered[c]=r.styles)},Mg=function(t,r,i){Ag(t,r);var c=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var d=r;do t.insert(r===d?"."+c:"",d,t.sheet,!0),d=d.next;while(d!==void 0)}};function ph(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function vh(e,t,r){var i=[],c=nf(e,i,r);return i.length<2?r:c+t(i)}var Tg=function(t){var r=bg(t);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var i=function(){for(var n=arguments.length,_=new Array(n),v=0;v<n;v++)_[v]=arguments[v];var u=Mo(_,r.registered,void 0);return Mg(r,u),r.key+"-"+u.name},c=function(){for(var n=arguments.length,_=new Array(n),v=0;v<n;v++)_[v]=arguments[v];var u=Mo(_,r.registered),p="animation-"+u.name;return ph(r,{name:u.name,styles:"@keyframes "+p+"{"+u.styles+"}"}),p},d=function(){for(var n=arguments.length,_=new Array(n),v=0;v<n;v++)_[v]=arguments[v];var u=Mo(_,r.registered);ph(r,u)},m=function(){for(var n=arguments.length,_=new Array(n),v=0;v<n;v++)_[v]=arguments[v];return vh(r.registered,i,Pg(_))};return{css:i,cx:m,injectGlobal:d,keyframes:c,hydrate:function(n){n.forEach(function(_){r.inserted[_]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:nf.bind(null,r.registered),merge:vh.bind(null,r.registered,i)}},Pg=function e(t){for(var r="",i=0;i<t.length;i++){var c=t[i];if(c!=null){var d=void 0;switch(typeof c){case"boolean":break;case"object":{if(Array.isArray(c))d=e(c);else{d="";for(var m in c)c[m]&&m&&(d&&(d+=" "),d+=m)}break}default:d=c}d&&(r&&(r+=" "),r+=d)}}return r};const Bg=Object.freeze(Object.defineProperty({__proto__:null,default:Tg},Symbol.toStringTag,{value:"Module"})),Og=xh(Bg);var Ig=Te&&Te.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(e);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(e,i[c])&&(r[i[c]]=e[i[c]]);return r},Ng=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tl,"__esModule",{value:!0});const Fg=Ng(Og);Tl.default=(e,t=!1,r="")=>{const{variables:i={}}=e,c=Ig(e,["variables"]),d={light:Object.assign({diffViewerBackground:"#fff",diffViewerColor:"#212529",addedBackground:"#e6ffed",addedColor:"#24292e",removedBackground:"#ffeef0",removedColor:"#24292e",changedBackground:"#fffbdd",wordAddedBackground:"#acf2bd",wordRemovedBackground:"#fdb8c0",addedGutterBackground:"#cdffd8",removedGutterBackground:"#ffdce0",gutterBackground:"#f7f7f7",gutterBackgroundDark:"#f3f1f1",highlightBackground:"#fffbdd",highlightGutterBackground:"#fff5b1",codeFoldGutterBackground:"#dbedff",codeFoldBackground:"#f1f8ff",emptyLineBackground:"#fafbfc",gutterColor:"#212529",addedGutterColor:"#212529",removedGutterColor:"#212529",codeFoldContentColor:"#212529",diffViewerTitleBackground:"#fafbfc",diffViewerTitleColor:"#212529",diffViewerTitleBorderColor:"#eee"},i.light||{}),dark:Object.assign({diffViewerBackground:"#2e303c",diffViewerColor:"#FFF",addedBackground:"#044B53",addedColor:"white",removedBackground:"#632F34",removedColor:"white",changedBackground:"#3e302c",wordAddedBackground:"#055d67",wordRemovedBackground:"#7d383f",addedGutterBackground:"#034148",removedGutterBackground:"#632b30",gutterBackground:"#2c2f3a",gutterBackgroundDark:"#262933",highlightBackground:"#2a3967",highlightGutterBackground:"#2d4077",codeFoldGutterBackground:"#21232b",codeFoldBackground:"#262831",emptyLineBackground:"#363946",gutterColor:"#666c87",addedGutterColor:"#8c8c8c",removedGutterColor:"#8c8c8c",codeFoldContentColor:"#656a8b",diffViewerTitleBackground:"#2f323e",diffViewerTitleColor:"#555a7b",diffViewerTitleBorderColor:"#353846"},i.dark||{})},m=t?d.dark:d.light,{css:s,cx:n}=(0,Fg.default)({key:"react-diff",nonce:r}),_=s({width:"100%",label:"content"}),v=s({[`.${_}`]:{width:"50%"},label:"split-view"}),u=s({width:"100%",background:m.diffViewerBackground,pre:{margin:0,whiteSpace:"pre-wrap",lineHeight:"25px"},label:"diff-container",borderCollapse:"collapse"}),p=s({color:m.codeFoldContentColor,label:"code-fold-content"}),C=s({color:m.diffViewerColor,label:"content-text"}),w=s({background:m.diffViewerTitleBackground,padding:10,borderBottom:`1px solid ${m.diffViewerTitleBorderColor}`,label:"title-block",":last-child":{borderLeft:`1px solid ${m.diffViewerTitleBorderColor}`},[`.${C}`]:{color:m.diffViewerTitleColor}}),f=s({color:m.gutterColor,label:"line-number"}),l=s({background:m.removedBackground,color:m.removedColor,pre:{color:m.removedColor},[`.${f}`]:{color:m.removedGutterColor},label:"diff-removed"}),o=s({background:m.addedBackground,color:m.addedColor,pre:{color:m.addedColor},[`.${f}`]:{color:m.addedGutterColor},label:"diff-added"}),a=s({background:m.changedBackground,[`.${f}`]:{color:m.gutterColor},label:"diff-changed"}),h=s({padding:2,display:"inline-flex",borderRadius:4,wordBreak:"break-all",label:"word-diff"}),g=s({background:m.wordAddedBackground,label:"word-added"}),x=s({background:m.wordRemovedBackground,label:"word-removed"}),y=s({backgroundColor:m.codeFoldGutterBackground,label:"code-fold-gutter"}),b=s({backgroundColor:m.codeFoldBackground,height:40,fontSize:14,fontWeight:700,label:"code-fold",a:{textDecoration:"underline !important",cursor:"pointer",pre:{display:"inline"}}}),S=s({backgroundColor:m.emptyLineBackground,label:"empty-line"}),E=s({width:25,paddingLeft:10,paddingRight:10,userSelect:"none",label:"marker",[`&.${o}`]:{pre:{color:m.addedColor}},[`&.${l}`]:{pre:{color:m.removedColor}}}),L=s({background:m.highlightBackground,label:"highlighted-line",[`.${g}, .${x}`]:{backgroundColor:"initial"}}),A=s({label:"highlighted-gutter"}),R=s({userSelect:"none",minWidth:50,padding:"0 10px",whiteSpace:"nowrap",label:"gutter",textAlign:"right",background:m.gutterBackground,"&:hover":{cursor:"pointer",background:m.gutterBackgroundDark,pre:{opacity:1}},pre:{opacity:.5},[`&.${o}`]:{background:m.addedGutterBackground},[`&.${l}`]:{background:m.removedGutterBackground},[`&.${A}`]:{background:m.highlightGutterBackground,"&:hover":{background:m.highlightGutterBackground}}}),D=s({"&:hover":{background:m.gutterBackground,cursor:"initial"},label:"empty-gutter"}),P=s({verticalAlign:"baseline",label:"line"}),H={diffContainer:u,diffRemoved:l,diffAdded:o,diffChanged:a,splitView:v,marker:E,highlightedGutter:A,highlightedLine:L,gutter:R,line:P,wordDiff:h,wordAdded:g,wordRemoved:x,codeFoldGutter:y,codeFold:b,emptyGutter:D,emptyLine:S,lineNumber:f,contentText:C,content:_,codeFoldContent:p,titleBlock:w},$=Object.keys(c).reduce((j,O)=>Object.assign(Object.assign({},j),{[O]:s(c[O])}),{});return Object.keys(H).reduce((j,O)=>Object.assign(Object.assign({},j),{[O]:$[O]?n(H[O],$[O]):H[O]}),{})};var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.computeHiddenBlocks=void 0;function Hg(e,t,r){let i=0,c,d={},m=[];return e.forEach((s,n)=>{const _=t.some(v=>v>=n-r&&v<=n+r);!_&&c==null?(c={index:i,startLine:n,endLine:n,lines:1},m.push(c),d[n]=c.index,i++):_?c=void 0:(c.endLine=n,c.lines++,d[n]=c.index)}),{lineBlocks:d,blocks:m}}Zn.computeHiddenBlocks=Hg;var gh=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function jg(e,t){return!!(e===t||gh(e)&&gh(t))}function $g(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!jg(e[r],t[r]))return!1;return!0}function Wg(e,t){t===void 0&&(t=$g);var r=null;function i(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];if(r&&r.lastThis===this&&t(c,r.lastArgs))return r.lastResult;var m=e.apply(this,c);return r={lastResult:m,lastArgs:c,lastThis:this},m}return i.clear=function(){r=null},i}const zg=Object.freeze(Object.defineProperty({__proto__:null,default:Wg},Symbol.toStringTag,{value:"Module"})),Ug=xh(zg);(function(e){var t=Te&&Te.__createBinding||(Object.create?function(f,l,o,a){a===void 0&&(a=o);var h=Object.getOwnPropertyDescriptor(l,o);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[o]}}),Object.defineProperty(f,a,h)}:function(f,l,o,a){a===void 0&&(a=o),f[a]=l[o]}),r=Te&&Te.__setModuleDefault||(Object.create?function(f,l){Object.defineProperty(f,"default",{enumerable:!0,value:l})}:function(f,l){f.default=l}),i=Te&&Te.__importStar||function(f){if(f&&f.__esModule)return f;var l={};if(f!=null)for(var o in f)o!=="default"&&Object.prototype.hasOwnProperty.call(f,o)&&t(l,f,o);return r(l,f),l},c=Te&&Te.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.DiffMethod=e.LineNumberPrefix=void 0;const d=N,m=i(Y),s=c(Up),n=or;Object.defineProperty(e,"DiffMethod",{enumerable:!0,get:function(){return n.DiffMethod}});const _=c(Tl),v=Zn,u=Ug,p=u.default||u;var C;(function(f){f.LEFT="L",f.RIGHT="R"})(C||(e.LineNumberPrefix=C={}));class w extends m.Component{constructor(l){super(l),this.resetCodeBlocks=()=>this.state.expandedBlocks.length>0?(this.setState({expandedBlocks:[]}),!0):!1,this.onBlockExpand=o=>{const a=this.state.expandedBlocks.slice();a.push(o),this.setState({expandedBlocks:a})},this.computeStyles=p(_.default),this.onLineNumberClickProxy=o=>this.props.onLineNumberClick?a=>this.props.onLineNumberClick(o,a):()=>{},this.renderWordDiff=(o,a)=>o.map((h,g)=>(0,d.jsx)("span",{className:(0,s.default)(this.styles.wordDiff,{[this.styles.wordAdded]:h.type===n.DiffType.ADDED,[this.styles.wordRemoved]:h.type===n.DiffType.REMOVED}),children:a?a(h.value):h.value},g)),this.renderLine=(o,a,h,g,x,y)=>{const b=`${h}-${o}`,S=`${y}-${x}`,E=this.props.highlightLines.includes(b)||this.props.highlightLines.includes(S),L=a===n.DiffType.ADDED,A=a===n.DiffType.REMOVED,R=a===n.DiffType.CHANGED;let D;return Array.isArray(g)?D=this.renderWordDiff(g,this.props.renderContent):this.props.renderContent?D=this.props.renderContent(g):D=g,(0,d.jsxs)(m.Fragment,{children:[!this.props.hideLineNumbers&&(0,d.jsx)("td",{onClick:o&&this.onLineNumberClickProxy(b),className:(0,s.default)(this.styles.gutter,{[this.styles.emptyGutter]:!o,[this.styles.diffAdded]:L,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:R,[this.styles.highlightedGutter]:E}),children:(0,d.jsx)("pre",{className:this.styles.lineNumber,children:o})}),!this.props.splitView&&!this.props.hideLineNumbers&&(0,d.jsx)("td",{onClick:x&&this.onLineNumberClickProxy(S),className:(0,s.default)(this.styles.gutter,{[this.styles.emptyGutter]:!x,[this.styles.diffAdded]:L,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:R,[this.styles.highlightedGutter]:E}),children:(0,d.jsx)("pre",{className:this.styles.lineNumber,children:x})}),this.props.renderGutter?this.props.renderGutter({lineNumber:o,type:a,prefix:h,value:g,additionalLineNumber:x,additionalPrefix:y,styles:this.styles}):null,!this.props.hideMarkers&&(0,d.jsx)("td",{className:(0,s.default)(this.styles.marker,{[this.styles.emptyLine]:!D,[this.styles.diffAdded]:L,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:R,[this.styles.highlightedLine]:E}),children:(0,d.jsxs)("pre",{children:[L&&"+",A&&"-"]})}),(0,d.jsx)("td",{className:(0,s.default)(this.styles.content,{[this.styles.emptyLine]:!D,[this.styles.diffAdded]:L,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:R,[this.styles.highlightedLine]:E}),children:(0,d.jsx)("pre",{className:this.styles.contentText,children:D})})]})},this.renderSplitView=({left:o,right:a},h)=>(0,d.jsxs)("tr",{className:this.styles.line,children:[this.renderLine(o.lineNumber,o.type,C.LEFT,o.value),this.renderLine(a.lineNumber,a.type,C.RIGHT,a.value)]},h),this.renderInlineView=({left:o,right:a},h)=>{let g;return o.type===n.DiffType.REMOVED&&a.type===n.DiffType.ADDED?(0,d.jsxs)(m.Fragment,{children:[(0,d.jsx)("tr",{className:this.styles.line,children:this.renderLine(o.lineNumber,o.type,C.LEFT,o.value,null)}),(0,d.jsx)("tr",{className:this.styles.line,children:this.renderLine(null,a.type,C.RIGHT,a.value,a.lineNumber)})]},h):(o.type===n.DiffType.REMOVED&&(g=this.renderLine(o.lineNumber,o.type,C.LEFT,o.value,null)),o.type===n.DiffType.DEFAULT&&(g=this.renderLine(o.lineNumber,o.type,C.LEFT,o.value,a.lineNumber,C.RIGHT)),a.type===n.DiffType.ADDED&&(g=this.renderLine(null,a.type,C.RIGHT,a.value,a.lineNumber)),(0,d.jsx)("tr",{className:this.styles.line,children:g},h))},this.onBlockClickProxy=o=>()=>this.onBlockExpand(o),this.renderSkippedLineIndicator=(o,a,h,g)=>{const{hideLineNumbers:x,splitView:y}=this.props,b=this.props.codeFoldMessageRenderer?this.props.codeFoldMessageRenderer(o,h,g):(0,d.jsxs)("pre",{className:this.styles.codeFoldContent,children:["Expand ",o," lines ..."]}),S=(0,d.jsx)("td",{children:(0,d.jsx)("a",{onClick:this.onBlockClickProxy(a),tabIndex:0,children:b})}),E=!y&&!x;return(0,d.jsxs)("tr",{className:this.styles.codeFold,children:[!x&&(0,d.jsx)("td",{className:this.styles.codeFoldGutter}),this.props.renderGutter?(0,d.jsx)("td",{className:this.styles.codeFoldGutter}):null,(0,d.jsx)("td",{className:(0,s.default)({[this.styles.codeFoldGutter]:E})}),E?(0,d.jsxs)(m.Fragment,{children:[(0,d.jsx)("td",{}),S]}):(0,d.jsxs)(m.Fragment,{children:[S,this.props.renderGutter?(0,d.jsx)("td",{}):null,(0,d.jsx)("td",{})]}),(0,d.jsx)("td",{}),(0,d.jsx)("td",{})]},`${h}-${g}`)},this.renderDiff=()=>{const{oldValue:o,newValue:a,splitView:h,disableWordDiff:g,compareMethod:x,linesOffset:y}=this.props,{lineInformation:b,diffLines:S}=(0,n.computeLineInformation)(o,a,g,x,y,this.props.alwaysShowLines),E=this.props.extraLinesSurroundingDiff<0?0:Math.round(this.props.extraLinesSurroundingDiff),{lineBlocks:L,blocks:A}=(0,v.computeHiddenBlocks)(b,S,E);return b.map((R,D)=>{if(this.props.showDiffOnly){const H=L[D];if(H!==void 0){const $=A[H].endLine===D;if(!this.state.expandedBlocks.includes(H)&&$)return(0,d.jsx)(m.Fragment,{children:this.renderSkippedLineIndicator(A[H].lines,H,R.left.lineNumber,R.right.lineNumber)},D);if(!this.state.expandedBlocks.includes(H))return null}}return h?this.renderSplitView(R,D):this.renderInlineView(R,D)})},this.render=()=>{const{oldValue:o,newValue:a,useDarkTheme:h,leftTitle:g,rightTitle:x,splitView:y,hideLineNumbers:b,hideMarkers:S,nonce:E}=this.props;if(this.props.compareMethod!==n.DiffMethod.JSON&&(typeof o!="string"||typeof a!="string"))throw Error('"oldValue" and "newValue" should be strings');this.styles=this.computeStyles(this.props.styles,h,E);const L=this.renderDiff();let A=b?2:3,R=b?2:4;S&&(A-=1,R-=1);const D=this.props.renderGutter?1:0,P=(g||x)&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:(y?A:R)+D,className:this.styles.titleBlock,children:(0,d.jsx)("pre",{className:this.styles.contentText,children:g})}),y&&(0,d.jsx)("td",{colSpan:A+D,className:this.styles.titleBlock,children:(0,d.jsx)("pre",{className:this.styles.contentText,children:x})})]});return(0,d.jsx)("table",{className:(0,s.default)(this.styles.diffContainer,{[this.styles.splitView]:y}),children:(0,d.jsxs)("tbody",{children:[P,L]})})},this.state={expandedBlocks:[]}}}w.defaultProps={oldValue:"",newValue:"",splitView:!0,highlightLines:[],disableWordDiff:!1,compareMethod:n.DiffMethod.CHARS,styles:{},hideLineNumbers:!1,hideMarkers:!1,extraLinesSurroundingDiff:3,showDiffOnly:!0,useDarkTheme:!1,linesOffset:0,nonce:""},e.default=w})(Nd);const Vg=wh(Nd),Gg=7683,Kg={variables:{dark:{diffViewerBackground:"#0d1117",diffViewerColor:"#e6edf3",addedBackground:"rgba(63, 185, 80, 0.15)",addedColor:"#e6edf3",removedBackground:"rgba(248, 81, 73, 0.15)",removedColor:"#e6edf3",wordAddedBackground:"rgba(63, 185, 80, 0.4)",wordRemovedBackground:"rgba(248, 81, 73, 0.4)",addedGutterBackground:"#1a4d2e",removedGutterBackground:"#4d1a1a",gutterBackground:"#161b22",gutterBackgroundDark:"#0d1117",highlightBackground:"#21262d",highlightGutterBackground:"#21262d",codeFoldGutterBackground:"#161b22",codeFoldBackground:"#161b22",emptyLineBackground:"#161b22",gutterColor:"#6e7681",addedGutterColor:"#3fb950",removedGutterColor:"#f85149",codeFoldContentColor:"#8b949e",diffViewerTitleBackground:"#161b22",diffViewerTitleColor:"#e6edf3",diffViewerTitleBorderColor:"#30363d"}}},qg={A:"Added",M:"Modified",D:"Deleted"},Xg={A:"bg-accent-green text-white",M:"bg-accent-blue text-white",D:"bg-accent-red text-white"};function Yg(e){const t=e.querySelectorAll("td");for(const r of t){const i=r.querySelector("pre");if(i){const c=i.textContent?.trim();if(c==="+"||c==="-")return!0}}return!1}function Jg(e){return e.textContent?.includes("hidden lines")||!1}function Qg(e){const t=[],r=Array.from(e.querySelectorAll("tr"));let i=!1;for(const c of r){if(Jg(c)){i=!1;continue}const d=Yg(c);d&&!i&&t.push(c),i=d}return t}function Zg({file:e,defaultExpanded:t}){const[r,i]=Y.useState(t),[c,d]=Y.useState(-1),[m,s]=Y.useState(0),n=Y.useRef(null),_=Y.useRef([]);Y.useEffect(()=>{if(r&&n.current){const u=setTimeout(()=>{n.current&&(_.current=Qg(n.current),s(_.current.length),d(_.current.length>0?0:-1))},200);return()=>clearTimeout(u)}else _.current=[],s(0),d(-1)},[r]);const v=u=>{if(_.current.length===0)return;let p;u==="prev"?p=Math.max(0,c-1):p=Math.min(_.current.length-1,c+1),p!==c&&(d(p),_.current[p]?.scrollIntoView({behavior:"smooth",block:"center"}))};return N.jsxs("div",{className:"border border-border-subtle rounded-lg overflow-hidden mb-3",children:[N.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-bg-tertiary",children:[N.jsxs("div",{className:"flex items-center gap-2 min-w-0 cursor-pointer flex-1",onClick:()=>i(!r),children:[N.jsx("span",{className:"text-text-secondary shrink-0",children:r?"":""}),N.jsx("span",{className:"text-sm truncate",children:e.filename}),N.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded shrink-0 ${Xg[e.status]||"bg-bg-secondary"}`,children:qg[e.status]||e.status})]}),N.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[N.jsxs("span",{className:"text-xs text-text-secondary",children:[e.additions>0&&N.jsxs("span",{className:"text-accent-green mr-1",children:["+",e.additions]}),e.deletions>0&&N.jsxs("span",{className:"text-accent-red",children:["-",e.deletions]})]}),r&&m>0&&N.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[N.jsx("button",{onClick:u=>{u.stopPropagation(),v("prev")},disabled:c<=0,className:"w-6 h-6 flex items-center justify-center rounded bg-bg-secondary text-text-secondary hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed",children:""}),N.jsxs("span",{className:"text-xs text-text-muted min-w-[32px] text-center",children:[c+1,"/",m]}),N.jsx("button",{onClick:u=>{u.stopPropagation(),v("next")},disabled:c>=m-1,className:"w-6 h-6 flex items-center justify-center rounded bg-bg-secondary text-text-secondary hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed",children:""})]})]})]}),r&&N.jsx("div",{ref:n,className:"overflow-x-auto max-h-[400px] overflow-y-auto",children:e.binary?N.jsx("div",{className:"p-4 text-center text-text-muted",children:"Binary file"}):N.jsx(Vg,{oldValue:e.oldValue||"",newValue:e.newValue||"",splitView:!1,useDarkTheme:!0,styles:Kg,showDiffOnly:!0,extraLinesSurroundingDiff:3,codeFoldMessageRenderer:u=>N.jsxs("span",{children:[u," hidden lines"]})})})]})}const em=({isOpen:e,onClose:t})=>{const[r,i]=Y.useState(null),[c,d]=Y.useState(!1),m=Y.useCallback(async()=>{d(!0);try{const u=`http://${location.hostname}:${Gg}/api/diff`,p=await fetch(u,{signal:AbortSignal.timeout(5e3)});if(!p.ok)throw new Error(`HTTP ${p.status}`);const C=await p.json();i(C)}catch(u){i({error:"connection_failed",message:u instanceof Error?u.message:"Cannot connect to diff server"})}finally{d(!1)}},[]);if(Y.useEffect(()=>{e&&m()},[e,m]),Y.useEffect(()=>{const u=p=>{e&&p.key==="Escape"&&(t(),p.preventDefault())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e,t]),!e)return null;const s=r?.files||[],n=s.length,_=r?.summary?.totalAdditions||0,v=r?.summary?.totalDeletions||0;return N.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-end justify-center",onClick:u=>u.target===u.currentTarget&&t(),children:N.jsxs("div",{className:"w-full h-[90vh] bg-bg-primary rounded-t-2xl flex flex-col overflow-hidden",children:[N.jsxs("div",{className:"shrink-0 px-4 py-3 border-b border-border-subtle flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("h2",{className:"text-lg font-semibold",children:"Git Diff"}),r?.branch&&N.jsx("span",{className:"text-sm text-accent-purple",children:r.branch})]}),N.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-bg-tertiary text-text-secondary",children:""})]}),N.jsxs("div",{className:"shrink-0 px-4 py-2 border-b border-border-subtle flex items-center justify-between text-xs text-text-secondary",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[r?.git_root&&N.jsx("span",{className:"truncate max-w-[200px]",title:r.git_root,children:r.git_root}),N.jsxs("span",{children:[n," file",n!==1?"s":""]})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("span",{className:"text-accent-green",children:["+",_]}),N.jsxs("span",{className:"text-accent-red",children:["-",v]})]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c?N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx("div",{className:"text-text-muted",children:"Loading..."})}):r?.error?N.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2",children:[N.jsx("span",{className:"text-2xl",children:""}),N.jsx("span",{className:"text-text-muted",children:r.message||"Error loading diff"})]}):s.length===0?N.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2",children:[N.jsx("span",{className:"text-2xl text-accent-green",children:""}),N.jsx("span",{className:"text-text-muted",children:"No changes"})]}):s.map((u,p)=>N.jsx(Zg,{file:u,defaultExpanded:p===0},u.filename))})]})})},mh=7683,tm=({isOpen:e,onClose:t})=>{const{sendInput:r}=Dr(),[i,c]=Y.useState(""),d=Y.useRef(null);Y.useEffect(()=>{e&&(c(""),setTimeout(()=>d.current?.focus(),100))},[e]);const m=()=>{const n=i.trim();n&&(r(`tmux new -A -s ${n}\r`),t())},s=n=>{n.key==="Enter"?(n.preventDefault(),m()):n.key==="Escape"&&t()};return e?N.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:n=>n.target===n.currentTarget&&t(),children:N.jsxs("div",{className:"w-full max-w-sm bg-bg-secondary rounded-xl p-4",children:[N.jsx("h3",{className:"text-lg font-semibold mb-4",children:"New Tmux Session"}),N.jsx("input",{ref:d,type:"text",value:i,onChange:n=>c(n.target.value),onKeyDown:s,placeholder:"Session name (e.g. work, claude)",className:"w-full px-3 py-2 bg-bg-tertiary border border-border-subtle rounded-lg text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent-purple mb-4"}),N.jsxs("div",{className:"flex gap-2 justify-end",children:[N.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-bg-tertiary text-text-secondary hover:text-text-primary",children:"Cancel"}),N.jsx("button",{onClick:m,disabled:!i.trim(),className:"px-4 py-2 rounded-lg bg-accent-purple text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Create & Attach"})]})]})}):null},rm=({isOpen:e,onClose:t})=>{const{sendInput:r}=Dr(),[i,c]=Y.useState([]),[d,m]=Y.useState(!1),[s,n]=Y.useState(null),_=Y.useCallback(async()=>{m(!0),n(null);try{const p=`http://${location.hostname}:${mh}/api/tmux/list`,C=await fetch(p,{signal:AbortSignal.timeout(5e3)});if(!C.ok)throw new Error(`HTTP ${C.status}`);const w=await C.json();c(w.sessions||[])}catch{n("Failed to fetch sessions"),c([])}finally{m(!1)}},[]);Y.useEffect(()=>{e&&_()},[e,_]);const v=p=>{r(`tmux attach -t ${p}\r`),t()},u=async p=>{try{const C=`http://${location.hostname}:${mh}/api/tmux/kill?name=${encodeURIComponent(p)}`;await fetch(C,{signal:AbortSignal.timeout(5e3)}),_()}catch{alert("Failed to kill session")}};return e?N.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-end justify-center",onClick:p=>p.target===p.currentTarget&&t(),children:N.jsxs("div",{className:"w-full max-h-[70vh] bg-bg-primary rounded-t-2xl flex flex-col overflow-hidden",children:[N.jsxs("div",{className:"shrink-0 px-4 py-3 border-b border-border-subtle flex items-center justify-between",children:[N.jsx("h3",{className:"text-lg font-semibold",children:"Tmux Sessions"}),N.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-bg-tertiary text-text-secondary",children:""})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?N.jsx("div",{className:"text-center text-text-muted py-8",children:"Loading..."}):s?N.jsx("div",{className:"text-center text-accent-red py-8",children:s}):i.length===0?N.jsx("div",{className:"text-center text-text-muted py-8",children:"No tmux sessions"}):N.jsx("div",{className:"space-y-3",children:i.map(p=>N.jsx("div",{className:"bg-bg-secondary border border-border-subtle rounded-lg p-3",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("div",{className:"font-semibold text-text-primary",children:p.name}),N.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[p.windows," window",p.windows!==1?"s":"",p.attached&&N.jsx("span",{className:"text-accent-green ml-2",children:"(attached)"})]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>v(p.name),className:"px-3 py-1.5 rounded bg-accent-blue text-white text-sm",children:"Attach"}),N.jsx("button",{onClick:()=>u(p.name),className:"px-3 py-1.5 rounded bg-accent-red text-white text-sm",children:"Kill"})]})]})},p.name))})})]})}):null},im=()=>{const{sendKey:e,sendInput:t}=Dr(),[r,i]=Y.useState(null),[c,d]=Y.useState(!1),[m,s]=Y.useState(!1),[n,_]=Y.useState(!1),[v,u]=Y.useState(!1),[p,C]=Y.useState(!1),[w,f]=Y.useState(!1),l=()=>{const a=localStorage.getItem("ttyd_commands");if(a)try{i(JSON.parse(a))}catch(h){console.error("Failed to parse ttyd_commands",h)}else i({defaultCommands:[{name:"claude",cmd:"claude --dangerously-skip-permissions",visible:!0},{name:"opencode",cmd:"opencode",visible:!0}],customCommands:[]})};Y.useEffect(()=>{l()},[]);const o=a=>{t(a+"\r")};return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"h-auto min-h-[44px] bg-bg-secondary border-t border-border-subtle flex flex-col shrink-0 pb-[env(safe-area-inset-bottom)]",children:N.jsxs("div",{className:`flex items-start px-2 py-2 gap-2 ${w?"flex-wrap":"overflow-x-auto no-scrollbar mask-gradient-right"}`,children:[N.jsx("button",{onClick:()=>f(!w),className:`px-2 py-1.5 rounded shadow-sm border text-sm active:scale-95 transition-all shrink-0 ${w?"bg-accent-blue/20 border-accent-blue text-accent-blue":"bg-bg-tertiary/50 border-border-subtle text-text-secondary"}`,title:w?"Collapse toolbar":"Expand toolbar",children:w?"":""}),N.jsxs("div",{className:`flex items-center gap-2 pr-2 border-r border-border-subtle ${w?"flex-wrap":"shrink-0"}`,children:[N.jsx(vt,{label:"ESC",onClick:()=>e("ESC")}),N.jsx(vt,{label:"Tab",onClick:()=>e("TAB")}),N.jsx(vt,{label:"",onClick:()=>e("ENTER")}),N.jsx(vt,{label:"^C",onClick:()=>e("CTRL_C"),className:"text-accent-red"}),N.jsx(vt,{label:"",onClick:()=>e("ARROW_UP")}),N.jsx(vt,{label:"",onClick:()=>e("ARROW_DOWN")}),N.jsx(vt,{label:"",onClick:()=>e("ARROW_LEFT")}),N.jsx(vt,{label:"",onClick:()=>e("ARROW_RIGHT")}),N.jsx(vt,{label:"PgUp",onClick:()=>e("PAGE_UP")}),N.jsx(vt,{label:"PgDn",onClick:()=>e("PAGE_DOWN")}),N.jsx(vt,{label:"^L",onClick:()=>e("CTRL_L")})]}),r&&N.jsxs("div",{className:`flex items-center gap-2 pr-2 border-r border-border-subtle ${w?"flex-wrap":"shrink-0"}`,children:[r.defaultCommands.filter(a=>a.visible).map(a=>N.jsx(yh,{label:a.name,onClick:()=>o(a.cmd)},a.name)),r.customCommands.map(a=>N.jsx(yh,{label:a.name,onClick:()=>o(a.cmd)},a.name))]}),N.jsxs("div",{className:`flex items-center gap-2 ${w?"flex-wrap":"shrink-0"}`,children:[N.jsx(xi,{label:"",onClick:()=>s(!0)}),N.jsx(xi,{label:"+Tmux",onClick:()=>u(!0)}),N.jsx(xi,{label:"Sessions",onClick:()=>C(!0)}),N.jsx(xi,{label:"Diff",onClick:()=>_(!0),className:"text-accent-green"}),N.jsx(xi,{label:"",onClick:()=>d(!0)})]})]})}),N.jsx(Wp,{isOpen:c,onClose:()=>d(!1),onConfigChange:l}),N.jsx(zp,{isOpen:m,onClose:()=>s(!1),onSend:a=>t(a)}),N.jsx(em,{isOpen:n,onClose:()=>_(!1)}),N.jsx(tm,{isOpen:v,onClose:()=>u(!1)}),N.jsx(rm,{isOpen:p,onClose:()=>C(!1)})]})},vt=({label:e,onClick:t,className:r=""})=>N.jsx("button",{onClick:t,className:`px-3 py-1.5 bg-bg-tertiary rounded shadow-sm border border-border-subtle text-text-primary text-sm font-mono active:scale-95 transition-transform whitespace-nowrap ${r}`,children:e}),yh=({label:e,onClick:t})=>N.jsx("button",{onClick:t,className:"px-3 py-1.5 bg-bg-tertiary rounded shadow-sm border border-border-subtle text-accent-blue text-sm font-mono active:scale-95 transition-transform whitespace-nowrap",children:e}),xi=({label:e,onClick:t,className:r=""})=>N.jsx("button",{onClick:t,className:`px-3 py-1.5 bg-bg-tertiary/50 hover:bg-bg-tertiary rounded shadow-sm border border-border-subtle text-text-secondary hover:text-text-primary text-sm font-medium active:scale-95 transition-all whitespace-nowrap ${r}`,children:e}),sm=7683,nm=5e3;function om(){const[e,t]=Y.useState({branch:"",path:"",changedFiles:0,additions:0,deletions:0,isLoading:!0,error:null,isOffline:!1}),r=Y.useCallback(async()=>{try{const i=`http://${location.hostname}:${sm}/api/diff`,c=await fetch(i,{signal:AbortSignal.timeout(3e3)});if(!c.ok)throw new Error(`HTTP ${c.status}`);const d=await c.json();t({branch:d.branch||"unknown",path:d.git_root||d.cwd||"~",changedFiles:d.summary?.totalFiles||0,additions:d.summary?.totalAdditions||0,deletions:d.summary?.totalDeletions||0,isLoading:!1,error:null,isOffline:!1})}catch(i){t(c=>({...c,isLoading:!1,isOffline:!0,error:i instanceof Error?i.message:"Unknown error"}))}},[]);return Y.useEffect(()=>{r();const i=setInterval(r,nm);return()=>clearInterval(i)},[r]),e}function am(e,t=20){if(e.length<=t)return e;const r=e.split("/");return r.length<=2?"..."+e.slice(-t+3):"~/"+r.slice(-2).join("/")}const lm=()=>{const{connectionState:e}=Dr(),{branch:t,path:r,changedFiles:i,isOffline:c,isLoading:d}=om(),m=e==="connected";return N.jsx("div",{className:"h-[40px] shrink-0 border-b border-border-subtle flex items-center px-3 bg-bg-secondary",children:N.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary font-mono w-full overflow-hidden",children:[N.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${m?"bg-accent-green":"bg-accent-red"}`,title:m?"Connected":"Disconnected"}),N.jsx("span",{className:"text-text-primary font-semibold shrink-0",children:"terminal"}),N.jsx("span",{className:"text-border-subtle shrink-0",children:""}),d?N.jsx("span",{className:"text-text-muted",children:"Loading..."}):c?N.jsx("span",{className:"text-text-muted",children:"(offline)"}):N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"text-accent-purple shrink-0",children:t||"no branch"}),N.jsx("span",{className:"text-border-subtle shrink-0",children:""}),N.jsx("span",{className:"truncate",title:r,children:am(r)}),i>0&&N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"text-border-subtle shrink-0",children:""}),N.jsxs("span",{className:"text-accent-orange shrink-0",children:[i," changed"]})]})]}),N.jsx("span",{className:"ml-auto text-text-muted shrink-0",children:" 0  $0.00"})]})})};function cm({onlyFirst:e=!1}={}){const c="(?:\\u001B\\][\\s\\S]*?(?:\\u0007|\\u001B\\u005C|\\u009C))|[\\u001B\\u009B][[\\]()#;?]*(?:\\d{1,4}(?:[;:]\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]";return new RegExp(c,e?void 0:"g")}const hm=cm();function um(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(hm,"")}const dm=[{pattern:/^Reading\s+(.+)$/i,type:"reading",fileGroup:1},{pattern:/^Wrote\s+(.+?)(?:\s+\(.*\))?$/i,type:"writing",fileGroup:1},{pattern:/^Created\s+(.+)$/i,type:"writing",fileGroup:1},{pattern:/^Edited\s+(.+)$/i,type:"writing",fileGroup:1},{pattern:/^Running\s+(.+)$/i,type:"executing",fileGroup:1},{pattern:/^Executing\s+(.+)$/i,type:"executing",fileGroup:1},{pattern:/^Thinking\.{3}$/i,type:"thinking"},{pattern:/^Analyzing\s+(.+)/i,type:"thinking",fileGroup:1},{pattern:/^\[read\]\s+(.+)$/i,type:"reading",fileGroup:1},{pattern:/^\[write\]\s+(.+)$/i,type:"writing",fileGroup:1},{pattern:/^\[exec\]\s+(.+)$/i,type:"executing",fileGroup:1},{pattern:/^\s+(.+)$/i,type:"complete",fileGroup:1},{pattern:/^\s+(.+)$/i,type:"error",fileGroup:1},{pattern:/^Error:\s+(.+)/i,type:"error",fileGroup:1}],fm=10,Ns=1e3,_m=typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback:e=>setTimeout(e,16);function pm(){const[e,t]=Y.useState([]),{subscribeOutput:r}=Dr(),i=Y.useRef(""),c=Y.useRef(0),d=Y.useCallback((n,_,v)=>{const u={id:`activity-${++c.current}`,type:n,message:_,file:v,timestamp:new Date};t(p=>[u,...p].slice(0,fm))},[]),m=Y.useCallback(n=>{const _=n.trim();if(_)for(const{pattern:v,type:u,fileGroup:p}of dm){const C=_.match(v);if(C){const w=p?C[p]:void 0;d(u,w||_,w);return}}},[d]),s=Y.useCallback(()=>{if(!i.current)return;const n=i.current.split(/\r?\n/);i.current=n.pop()||"",i.current.length>Ns&&(i.current=i.current.slice(-Ns)),n.slice(0,50).forEach(m)},[m]);return Y.useEffect(()=>r(_=>{const v=typeof _=="string"?_:new TextDecoder().decode(_),u=um(v);i.current+=u,i.current.length>Ns&&(i.current=i.current.slice(-Ns)),_m(()=>s())}),[r,s]),Y.useEffect(()=>(typeof window<"u"&&(window.__addMockActivity=d),()=>{typeof window<"u"&&delete window.__addMockActivity}),[d]),{activities:e,addActivity:d}}const Sh={reading:"",writing:"",thinking:"",executing:"",complete:"",error:""},Ch={reading:"text-text-secondary",writing:"text-accent-green",thinking:"text-accent-purple",executing:"text-accent-blue",complete:"text-accent-green",error:"text-accent-red"},vm=()=>{const[e,t]=Y.useState(!1),{activities:r}=pm(),i=r.length>0,c=r[0];return!i&&!e?N.jsx("div",{className:"shrink-0 bg-bg-secondary border-b border-border-subtle cursor-pointer",onClick:()=>t(!0),children:N.jsxs("div",{className:"px-3 py-2 text-xs text-text-muted flex items-center gap-2",children:[N.jsx("span",{children:""}),N.jsx("span",{children:"No recent activity"})]})}):e?N.jsxs("div",{className:"shrink-0 bg-bg-secondary border-b border-border-subtle max-h-[200px] overflow-y-auto",children:[N.jsxs("div",{className:"px-3 py-2 text-xs text-text-muted flex items-center gap-2 cursor-pointer sticky top-0 bg-bg-secondary border-b border-border-subtle",onClick:()=>t(!1),children:[N.jsx("span",{children:""}),N.jsxs("span",{children:[r.length," activities"]})]}),N.jsx("div",{className:"divide-y divide-border-subtle",children:r.map((d,m)=>{const s=m===0&&(d.type==="reading"||d.type==="thinking"||d.type==="executing");return N.jsxs("div",{className:`px-3 py-2 text-xs flex items-center gap-2 ${s?"bg-glow-ai border-l-2 border-accent-purple":""}`,style:s?{boxShadow:"0 0 12px var(--glow-ai)"}:void 0,children:[N.jsx("span",{className:Ch[d.type],children:Sh[d.type]}),N.jsx("span",{className:"text-text-primary truncate flex-1",children:d.message}),d.file&&d.file!==d.message&&N.jsx("span",{className:"text-text-muted truncate max-w-[120px]",title:d.file,children:d.file}),N.jsx("span",{className:"text-text-muted shrink-0",children:gm(d.timestamp)})]},d.id)})}),!i&&N.jsx("div",{className:"px-3 py-4 text-xs text-text-muted text-center",children:"No recent activity"})]}):N.jsx("div",{className:"shrink-0 bg-bg-secondary border-b border-border-subtle cursor-pointer",onClick:()=>t(!0),children:N.jsxs("div",{className:"px-3 py-2 text-xs flex items-center gap-2",children:[N.jsx("span",{className:"text-text-muted",children:""}),N.jsxs("span",{className:"text-text-secondary",children:[r.length," activities"]}),c&&N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"text-border-subtle",children:""}),N.jsxs("span",{className:Ch[c.type],children:[Sh[c.type]," ",c.message]})]})]})})};function gm(e){return e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}const mm=({children:e})=>{const{terminalRef:t}=Dr();return N.jsxs("div",{className:"flex flex-col h-[100dvh] bg-bg-primary overflow-hidden text-text-primary font-sans selection:bg-accent-blue/30",children:[N.jsx(lm,{}),N.jsx(vm,{}),N.jsx("div",{ref:t,className:"flex-1 min-h-0 relative bg-bg-primary overflow-hidden",children:e}),N.jsx(im,{})]})};var of={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(globalThis,()=>(()=>{var r={4567:function(m,s,n){var _=this&&this.__decorate||function(a,h,g,x){var y,b=arguments.length,S=b<3?h:x===null?x=Object.getOwnPropertyDescriptor(h,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(a,h,g,x);else for(var E=a.length-1;E>=0;E--)(y=a[E])&&(S=(b<3?y(S):b>3?y(h,g,S):y(h,g))||S);return b>3&&S&&Object.defineProperty(h,g,S),S},v=this&&this.__param||function(a,h){return function(g,x){h(g,x,a)}};Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const u=n(9042),p=n(9924),C=n(844),w=n(4725),f=n(2585),l=n(3656);let o=s.AccessibilityManager=class extends C.Disposable{constructor(a,h,g,x){super(),this._terminal=a,this._coreBrowserService=g,this._renderService=x,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let y=0;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);if(this._topBoundaryFocusListener=y=>this._handleBoundaryFocus(y,0),this._bottomBoundaryFocusListener=y=>this._handleBoundaryFocus(y,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new p.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(y=>this._handleResize(y.rows))),this.register(this._terminal.onRender(y=>this._refreshRows(y.start,y.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(y=>this._handleChar(y))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(y=>this._handleTab(y))),this.register(this._terminal.onKey(y=>this._handleKey(y.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,l.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,C.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(a){for(let h=0;h<a;h++)this._handleChar(" ")}_handleChar(a){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==a&&(this._charsToAnnounce+=a):this._charsToAnnounce+=a,a===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(a){this._clearLiveRegion(),/\p{Control}/u.test(a)||this._charsToConsume.push(a)}_refreshRows(a,h){this._liveRegionDebouncer.refresh(a,h,this._terminal.rows)}_renderRows(a,h){const g=this._terminal.buffer,x=g.lines.length.toString();for(let y=a;y<=h;y++){const b=g.lines.get(g.ydisp+y),S=[],E=b?.translateToString(!0,void 0,void 0,S)||"",L=(g.ydisp+y+1).toString(),A=this._rowElements[y];A&&(E.length===0?(A.innerText="",this._rowColumns.set(A,[0,1])):(A.textContent=E,this._rowColumns.set(A,S)),A.setAttribute("aria-posinset",L),A.setAttribute("aria-setsize",x))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(a,h){const g=a.target,x=this._rowElements[h===0?1:this._rowElements.length-2];if(g.getAttribute("aria-posinset")===(h===0?"1":`${this._terminal.buffer.lines.length}`)||a.relatedTarget!==x)return;let y,b;if(h===0?(y=g,b=this._rowElements.pop(),this._rowContainer.removeChild(b)):(y=this._rowElements.shift(),b=g,this._rowContainer.removeChild(y)),y.removeEventListener("focus",this._topBoundaryFocusListener),b.removeEventListener("focus",this._bottomBoundaryFocusListener),h===0){const S=this._createAccessibilityTreeNode();this._rowElements.unshift(S),this._rowContainer.insertAdjacentElement("afterbegin",S)}else{const S=this._createAccessibilityTreeNode();this._rowElements.push(S),this._rowContainer.appendChild(S)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(h===0?-1:1),this._rowElements[h===0?1:this._rowElements.length-2].focus(),a.preventDefault(),a.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const a=document.getSelection();if(!a)return;if(a.isCollapsed)return void(this._rowContainer.contains(a.anchorNode)&&this._terminal.clearSelection());if(!a.anchorNode||!a.focusNode)return void console.error("anchorNode and/or focusNode are null");let h={node:a.anchorNode,offset:a.anchorOffset},g={node:a.focusNode,offset:a.focusOffset};if((h.node.compareDocumentPosition(g.node)&Node.DOCUMENT_POSITION_PRECEDING||h.node===g.node&&h.offset>g.offset)&&([h,g]=[g,h]),h.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(h={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(h.node))return;const x=this._rowElements.slice(-1)[0];if(g.node.compareDocumentPosition(x)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(g={node:x,offset:x.textContent?.length??0}),!this._rowContainer.contains(g.node))return;const y=({node:E,offset:L})=>{const A=E instanceof Text?E.parentNode:E;let R=parseInt(A?.getAttribute("aria-posinset"),10)-1;if(isNaN(R))return console.warn("row is invalid. Race condition?"),null;const D=this._rowColumns.get(A);if(!D)return console.warn("columns is null. Race condition?"),null;let P=L<D.length?D[L]:D.slice(-1)[0]+1;return P>=this._terminal.cols&&(++R,P=0),{row:R,column:P}},b=y(h),S=y(g);if(b&&S){if(b.row>S.row||b.row===S.row&&b.column>=S.column)throw new Error("invalid range");this._terminal.select(b.column,b.row,(S.row-b.row)*this._terminal.cols-b.column+S.column)}}_handleResize(a){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let h=this._rowContainer.children.length;h<this._terminal.rows;h++)this._rowElements[h]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[h]);for(;this._rowElements.length>a;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const a=this._coreBrowserService.mainDocument.createElement("div");return a.setAttribute("role","listitem"),a.tabIndex=-1,this._refreshRowDimensions(a),a}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let a=0;a<this._terminal.rows;a++)this._refreshRowDimensions(this._rowElements[a])}}_refreshRowDimensions(a){a.style.height=`${this._renderService.dimensions.css.cell.height}px`}};s.AccessibilityManager=o=_([v(1,f.IInstantiationService),v(2,w.ICoreBrowserService),v(3,w.IRenderService)],o)},3614:(m,s)=>{function n(p){return p.replace(/\r?\n/g,"\r")}function _(p,C){return C?"\x1B[200~"+p+"\x1B[201~":p}function v(p,C,w,f){p=_(p=n(p),w.decPrivateModes.bracketedPasteMode&&f.rawOptions.ignoreBracketedPasteMode!==!0),w.triggerDataEvent(p,!0),C.value=""}function u(p,C,w){const f=w.getBoundingClientRect(),l=p.clientX-f.left-10,o=p.clientY-f.top-10;C.style.width="20px",C.style.height="20px",C.style.left=`${l}px`,C.style.top=`${o}px`,C.style.zIndex="1000",C.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=n,s.bracketTextForPaste=_,s.copyHandler=function(p,C){p.clipboardData&&p.clipboardData.setData("text/plain",C.selectionText),p.preventDefault()},s.handlePasteEvent=function(p,C,w,f){p.stopPropagation(),p.clipboardData&&v(p.clipboardData.getData("text/plain"),C,w,f)},s.paste=v,s.moveTextAreaUnderMouseCursor=u,s.rightClickHandler=function(p,C,w,f,l){u(p,C,w),l&&f.rightClickSelect(p),C.value=f.selectionText,C.select()}},7239:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const _=n(1505);s.ColorContrastCache=class{constructor(){this._color=new _.TwoKeyMap,this._css=new _.TwoKeyMap}setCss(v,u,p){this._css.set(v,u,p)}getCss(v,u){return this._css.get(v,u)}setColor(v,u,p){this._color.set(v,u,p)}getColor(v,u){return this._color.get(v,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(n,_,v,u){n.addEventListener(_,v,u);let p=!1;return{dispose:()=>{p||(p=!0,n.removeEventListener(_,v,u))}}}},3551:function(m,s,n){var _=this&&this.__decorate||function(o,a,h,g){var x,y=arguments.length,b=y<3?a:g===null?g=Object.getOwnPropertyDescriptor(a,h):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,a,h,g);else for(var S=o.length-1;S>=0;S--)(x=o[S])&&(b=(y<3?x(b):y>3?x(a,h,b):x(a,h))||b);return y>3&&b&&Object.defineProperty(a,h,b),b},v=this&&this.__param||function(o,a){return function(h,g){a(h,g,o)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier=void 0;const u=n(3656),p=n(8460),C=n(844),w=n(2585),f=n(4725);let l=s.Linkifier=class extends C.Disposable{get currentLink(){return this._currentLink}constructor(o,a,h,g,x){super(),this._element=o,this._mouseService=a,this._renderService=h,this._bufferService=g,this._linkProviderService=x,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new p.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new p.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,C.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,C.toDisposable)(()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(o){this._lastMouseEvent=o;const a=this._positionFromMouseEvent(o,this._element,this._mouseService);if(!a)return;this._isMouseOut=!1;const h=o.composedPath();for(let g=0;g<h.length;g++){const x=h[g];if(x.classList.contains("xterm"))break;if(x.classList.contains("xterm-hover"))return}this._lastBufferCell&&a.x===this._lastBufferCell.x&&a.y===this._lastBufferCell.y||(this._handleHover(a),this._lastBufferCell=a)}_handleHover(o){if(this._activeLine!==o.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(o,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,o)||(this._clearCurrentLink(),this._askForLink(o,!0))}_askForLink(o,a){this._activeProviderReplies&&a||(this._activeProviderReplies?.forEach(g=>{g?.forEach(x=>{x.link.dispose&&x.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=o.y);let h=!1;for(const[g,x]of this._linkProviderService.linkProviders.entries())a?this._activeProviderReplies?.get(g)&&(h=this._checkLinkProviderResult(g,o,h)):x.provideLinks(o.y,y=>{if(this._isMouseOut)return;const b=y?.map(S=>({link:S}));this._activeProviderReplies?.set(g,b),h=this._checkLinkProviderResult(g,o,h),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(o.y,this._activeProviderReplies)})}_removeIntersectingLinks(o,a){const h=new Set;for(let g=0;g<a.size;g++){const x=a.get(g);if(x)for(let y=0;y<x.length;y++){const b=x[y],S=b.link.range.start.y<o?0:b.link.range.start.x,E=b.link.range.end.y>o?this._bufferService.cols:b.link.range.end.x;for(let L=S;L<=E;L++){if(h.has(L)){x.splice(y--,1);break}h.add(L)}}}}_checkLinkProviderResult(o,a,h){if(!this._activeProviderReplies)return h;const g=this._activeProviderReplies.get(o);let x=!1;for(let y=0;y<o;y++)this._activeProviderReplies.has(y)&&!this._activeProviderReplies.get(y)||(x=!0);if(!x&&g){const y=g.find(b=>this._linkAtPosition(b.link,a));y&&(h=!0,this._handleNewLink(y))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!h)for(let y=0;y<this._activeProviderReplies.size;y++){const b=this._activeProviderReplies.get(y)?.find(S=>this._linkAtPosition(S.link,a));if(b){h=!0,this._handleNewLink(b);break}}return h}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(o){if(!this._currentLink)return;const a=this._positionFromMouseEvent(o,this._element,this._mouseService);a&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,a)&&this._currentLink.link.activate(o,this._currentLink.link.text)}_clearCurrentLink(o,a){this._currentLink&&this._lastMouseEvent&&(!o||!a||this._currentLink.link.range.start.y>=o&&this._currentLink.link.range.end.y<=a)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,C.disposeArray)(this._linkCacheDisposables))}_handleNewLink(o){if(!this._lastMouseEvent)return;const a=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);a&&this._linkAtPosition(o.link,a)&&(this._currentLink=o,this._currentLink.state={decorations:{underline:o.link.decorations===void 0||o.link.decorations.underline,pointerCursor:o.link.decorations===void 0||o.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,o.link,this._lastMouseEvent),o.link.decorations={},Object.defineProperties(o.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:h=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==h&&(this._currentLink.state.decorations.pointerCursor=h,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",h))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:h=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==h&&(this._currentLink.state.decorations.underline=h,this._currentLink.state.isHovered&&this._fireUnderlineEvent(o.link,h))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(h=>{if(!this._currentLink)return;const g=h.start===0?0:h.start+1+this._bufferService.buffer.ydisp,x=this._bufferService.buffer.ydisp+1+h.end;if(this._currentLink.link.range.start.y>=g&&this._currentLink.link.range.end.y<=x&&(this._clearCurrentLink(g,x),this._lastMouseEvent)){const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._askForLink(y,!1)}})))}_linkHover(o,a,h){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!0),this._currentLink.state.decorations.pointerCursor&&o.classList.add("xterm-cursor-pointer")),a.hover&&a.hover(h,a.text)}_fireUnderlineEvent(o,a){const h=o.range,g=this._bufferService.buffer.ydisp,x=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-g-1,h.end.x,h.end.y-g-1,void 0);(a?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(x)}_linkLeave(o,a,h){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!1),this._currentLink.state.decorations.pointerCursor&&o.classList.remove("xterm-cursor-pointer")),a.leave&&a.leave(h,a.text)}_linkAtPosition(o,a){const h=o.range.start.y*this._bufferService.cols+o.range.start.x,g=o.range.end.y*this._bufferService.cols+o.range.end.x,x=a.y*this._bufferService.cols+a.x;return h<=x&&x<=g}_positionFromMouseEvent(o,a,h){const g=h.getCoords(o,a,this._bufferService.cols,this._bufferService.rows);if(g)return{x:g[0],y:g[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(o,a,h,g,x){return{x1:o,y1:a,x2:h,y2:g,cols:this._bufferService.cols,fg:x}}};s.Linkifier=l=_([v(1,f.IMouseService),v(2,f.IRenderService),v(3,w.IBufferService),v(4,f.ILinkProviderService)],l)},9042:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(m,s,n){var _=this&&this.__decorate||function(f,l,o,a){var h,g=arguments.length,x=g<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,o):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,l,o,a);else for(var y=f.length-1;y>=0;y--)(h=f[y])&&(x=(g<3?h(x):g>3?h(l,o,x):h(l,o))||x);return g>3&&x&&Object.defineProperty(l,o,x),x},v=this&&this.__param||function(f,l){return function(o,a){l(o,a,f)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const u=n(511),p=n(2585);let C=s.OscLinkProvider=class{constructor(f,l,o){this._bufferService=f,this._optionsService=l,this._oscLinkService=o}provideLinks(f,l){const o=this._bufferService.buffer.lines.get(f-1);if(!o)return void l(void 0);const a=[],h=this._optionsService.rawOptions.linkHandler,g=new u.CellData,x=o.getTrimmedLength();let y=-1,b=-1,S=!1;for(let E=0;E<x;E++)if(b!==-1||o.hasContent(E)){if(o.loadCell(E,g),g.hasExtendedAttrs()&&g.extended.urlId){if(b===-1){b=E,y=g.extended.urlId;continue}S=g.extended.urlId!==y}else b!==-1&&(S=!0);if(S||b!==-1&&E===x-1){const L=this._oscLinkService.getLinkData(y)?.uri;if(L){const A={start:{x:b+1,y:f},end:{x:E+(S||E!==x-1?0:1),y:f}};let R=!1;if(!h?.allowNonHttpProtocols)try{const D=new URL(L);["http:","https:"].includes(D.protocol)||(R=!0)}catch{R=!0}R||a.push({text:L,range:A,activate:(D,P)=>h?h.activate(D,P,A):w(0,P),hover:(D,P)=>h?.hover?.(D,P,A),leave:(D,P)=>h?.leave?.(D,P,A)})}S=!1,g.hasExtendedAttrs()&&g.extended.urlId?(b=E,y=g.extended.urlId):(b=-1,y=-1)}}l(a)}};function w(f,l){if(confirm(`Do you want to navigate to ${l}?

WARNING: This link could potentially be dangerous`)){const o=window.open();if(o){try{o.opener=null}catch{}o.location.href=l}else console.warn("Opening link blocked as opener could not be cleared")}}s.OscLinkProvider=C=_([v(0,p.IBufferService),v(1,p.IOptionsService),v(2,p.IOscLinkService)],C)},6193:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(n,_){this._renderCallback=n,this._coreBrowserService=_,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(n){return this._refreshCallbacks.push(n),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(n,_,v){this._rowCount=v,n=n!==void 0?n:0,_=_!==void 0?_:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,_):_,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const n=Math.max(this._rowStart,0),_=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,_),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const n of this._refreshCallbacks)n(0);this._refreshCallbacks=[]}}},3236:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const _=n(3614),v=n(3656),u=n(3551),p=n(9042),C=n(3730),w=n(1680),f=n(3107),l=n(5744),o=n(2950),a=n(1296),h=n(428),g=n(4269),x=n(5114),y=n(8934),b=n(3230),S=n(9312),E=n(4725),L=n(6731),A=n(8055),R=n(8969),D=n(8460),P=n(844),H=n(6114),$=n(8437),j=n(2584),O=n(7399),k=n(5941),M=n(9074),B=n(2585),I=n(5435),z=n(4567),U=n(779);class J extends R.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(F={}){super(F),this.browser=H,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new P.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(B.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(U.LinkProviderService),this._instantiationService.setService(E.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(C.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((T,W)=>this.refresh(T,W))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(T=>this._reportWindowsOptions(T))),this.register(this._inputHandler.onColor(T=>this._handleColorEvent(T))),this.register((0,D.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,D.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(T=>this._afterResize(T.cols,T.rows))),this.register((0,P.toDisposable)(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}_handleColorEvent(F){if(this._themeService)for(const T of F){let W,V="";switch(T.index){case 256:W="foreground",V="10";break;case 257:W="background",V="11";break;case 258:W="cursor",V="12";break;default:W="ansi",V="4;"+T.index}switch(T.type){case 0:const X=A.color.toColorRGB(W==="ansi"?this._themeService.colors.ansi[T.index]:this._themeService.colors[W]);this.coreService.triggerDataEvent(`${j.C0.ESC}]${V};${(0,k.toRgbString)(X)}${j.C1_ESCAPED.ST}`);break;case 1:if(W==="ansi")this._themeService.modifyColors(K=>K.ansi[T.index]=A.channels.toColor(...T.color));else{const K=W;this._themeService.modifyColors(re=>re[K]=A.channels.toColor(...T.color))}break;case 2:this._themeService.restoreColor(T.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(F){F?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(z.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(F){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(j.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(j.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const F=this.buffer.ybase+this.buffer.y,T=this.buffer.lines.get(F);if(!T)return;const W=Math.min(this.buffer.x,this.cols-1),V=this._renderService.dimensions.css.cell.height,X=T.getWidth(W),K=this._renderService.dimensions.css.cell.width*X,re=this.buffer.y*this._renderService.dimensions.css.cell.height,ee=W*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ee+"px",this.textarea.style.top=re+"px",this.textarea.style.width=K+"px",this.textarea.style.height=V+"px",this.textarea.style.lineHeight=V+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",T=>{this.hasSelection()&&(0,_.copyHandler)(T,this._selectionService)}));const F=T=>(0,_.handlePasteEvent)(T,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",F)),this.register((0,v.addDisposableDomListener)(this.element,"paste",F)),H.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",T=>{T.button===2&&(0,_.rightClickHandler)(T,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",T=>{(0,_.rightClickHandler)(T,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),H.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",T=>{T.button===1&&(0,_.moveTextAreaUnderMouseCursor)(T,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",F=>this._keyUp(F),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",F=>this._keyDown(F),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",F=>this._keyPress(F),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",F=>this._compositionHelper.compositionupdate(F))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,v.addDisposableDomListener)(this.textarea,"input",F=>this._inputEvent(F),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(F){if(!F)throw new Error("Terminal requires a parent element.");if(F.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=F.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),F.appendChild(this.element);const T=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),T.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,v.addDisposableDomListener)(this.screenElement,"mousemove",W=>this.updateCursorStyle(W))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),T.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",p.promptLabel),H.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(x.CoreBrowserService,this.textarea,F.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",W=>this._handleTextAreaFocus(W))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(h.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(L.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(g.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(b.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(W=>this._onRender.fire(W))),this.onResize(W=>this._renderService.resize(W.cols,W.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(y.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(u.Linkifier,this.screenElement)),this.element.appendChild(T);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(w.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(S.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(W=>this._renderService.handleSelectionChanged(W.start,W.end,W.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(W=>{this.textarea.value=W,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(W=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(f.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",W=>this._selectionService.handleMouseDown(W))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(z.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",W=>this._handleScreenReaderModeOptionChange(W))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",W=>{!this._overviewRulerRenderer&&W&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(a.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const F=this,T=this.element;function W(K){const re=F._mouseService.getMouseReportCoords(K,F.screenElement);if(!re)return!1;let ee,de;switch(K.overrideType||K.type){case"mousemove":de=32,K.buttons===void 0?(ee=3,K.button!==void 0&&(ee=K.button<3?K.button:3)):ee=1&K.buttons?0:4&K.buttons?1:2&K.buttons?2:3;break;case"mouseup":de=0,ee=K.button<3?K.button:3;break;case"mousedown":de=1,ee=K.button<3?K.button:3;break;case"wheel":if(F._customWheelEventHandler&&F._customWheelEventHandler(K)===!1||F.viewport.getLinesScrolled(K)===0)return!1;de=K.deltaY<0?0:1,ee=4;break;default:return!1}return!(de===void 0||ee===void 0||ee>4)&&F.coreMouseService.triggerMouseEvent({col:re.col,row:re.row,x:re.x,y:re.y,button:ee,action:de,ctrl:K.ctrlKey,alt:K.altKey,shift:K.shiftKey})}const V={mouseup:null,wheel:null,mousedrag:null,mousemove:null},X={mouseup:K=>(W(K),K.buttons||(this._document.removeEventListener("mouseup",V.mouseup),V.mousedrag&&this._document.removeEventListener("mousemove",V.mousedrag)),this.cancel(K)),wheel:K=>(W(K),this.cancel(K,!0)),mousedrag:K=>{K.buttons&&W(K)},mousemove:K=>{K.buttons||W(K)}};this.register(this.coreMouseService.onProtocolChange(K=>{K?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(K)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&K?V.mousemove||(T.addEventListener("mousemove",X.mousemove),V.mousemove=X.mousemove):(T.removeEventListener("mousemove",V.mousemove),V.mousemove=null),16&K?V.wheel||(T.addEventListener("wheel",X.wheel,{passive:!1}),V.wheel=X.wheel):(T.removeEventListener("wheel",V.wheel),V.wheel=null),2&K?V.mouseup||(V.mouseup=X.mouseup):(this._document.removeEventListener("mouseup",V.mouseup),V.mouseup=null),4&K?V.mousedrag||(V.mousedrag=X.mousedrag):(this._document.removeEventListener("mousemove",V.mousedrag),V.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(T,"mousedown",K=>{if(K.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(K))return W(K),V.mouseup&&this._document.addEventListener("mouseup",V.mouseup),V.mousedrag&&this._document.addEventListener("mousemove",V.mousedrag),this.cancel(K)})),this.register((0,v.addDisposableDomListener)(T,"wheel",K=>{if(!V.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(K)===!1)return!1;if(!this.buffer.hasScrollback){const re=this.viewport.getLinesScrolled(K);if(re===0)return;const ee=j.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(K.deltaY<0?"A":"B");let de="";for(let Le=0;Le<Math.abs(re);Le++)de+=ee;return this.coreService.triggerDataEvent(de,!0),this.cancel(K,!0)}return this.viewport.handleWheel(K)?this.cancel(K):void 0}},{passive:!1})),this.register((0,v.addDisposableDomListener)(T,"touchstart",K=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(K),this.cancel(K)},{passive:!0})),this.register((0,v.addDisposableDomListener)(T,"touchmove",K=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(K)?void 0:this.cancel(K)},{passive:!1}))}refresh(F,T){this._renderService?.refreshRows(F,T)}updateCursorStyle(F){this._selectionService?.shouldColumnSelect(F)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(F,T,W=0){W===1?(super.scrollLines(F,T,W),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(F)}paste(F){(0,_.paste)(F,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(F){this._customKeyEventHandler=F}attachCustomWheelEventHandler(F){this._customWheelEventHandler=F}registerLinkProvider(F){return this._linkProviderService.registerLinkProvider(F)}registerCharacterJoiner(F){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const T=this._characterJoinerService.register(F);return this.refresh(0,this.rows-1),T}deregisterCharacterJoiner(F){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(F)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(F){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+F)}registerDecoration(F){return this._decorationService.registerDecoration(F)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(F,T,W){this._selectionService.setSelection(F,T,W)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(F,T){this._selectionService?.selectLines(F,T)}_keyDown(F){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1)return!1;const T=this.browser.isMac&&this.options.macOptionIsMeta&&F.altKey;if(!T&&!this._compositionHelper.keydown(F))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;T||F.key!=="Dead"&&F.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const W=(0,O.evaluateKeyboardEvent)(F,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(F),W.type===3||W.type===2){const V=this.rows-1;return this.scrollLines(W.type===2?-V:V),this.cancel(F,!0)}return W.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,F)||(W.cancel&&this.cancel(F,!0),!W.key||!!(F.key&&!F.ctrlKey&&!F.altKey&&!F.metaKey&&F.key.length===1&&F.key.charCodeAt(0)>=65&&F.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(W.key!==j.C0.ETX&&W.key!==j.C0.CR||(this.textarea.value=""),this._onKey.fire({key:W.key,domEvent:F}),this._showCursor(),this.coreService.triggerDataEvent(W.key,!0),!this.optionsService.rawOptions.screenReaderMode||F.altKey||F.ctrlKey?this.cancel(F,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(F,T){const W=F.isMac&&!this.options.macOptionIsMeta&&T.altKey&&!T.ctrlKey&&!T.metaKey||F.isWindows&&T.altKey&&T.ctrlKey&&!T.metaKey||F.isWindows&&T.getModifierState("AltGraph");return T.type==="keypress"?W:W&&(!T.keyCode||T.keyCode>47)}_keyUp(F){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1||(function(T){return T.keyCode===16||T.keyCode===17||T.keyCode===18}(F)||this.focus(),this.updateCursorStyle(F),this._keyPressHandled=!1)}_keyPress(F){let T;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1)return!1;if(this.cancel(F),F.charCode)T=F.charCode;else if(F.which===null||F.which===void 0)T=F.keyCode;else{if(F.which===0||F.charCode===0)return!1;T=F.which}return!(!T||(F.altKey||F.ctrlKey||F.metaKey)&&!this._isThirdLevelShift(this.browser,F)||(T=String.fromCharCode(T),this._onKey.fire({key:T,domEvent:F}),this._showCursor(),this.coreService.triggerDataEvent(T,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(F){if(F.data&&F.inputType==="insertText"&&(!F.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const T=F.data;return this.coreService.triggerDataEvent(T,!0),this.cancel(F),!0}return!1}resize(F,T){F!==this.cols||T!==this.rows?super.resize(F,T):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(F,T){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let F=1;F<this.rows;F++)this.buffer.lines.push(this.buffer.getBlankLine($.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const F=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=F,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(j.C0.ESC+"[I"):this.coreService.triggerDataEvent(j.C0.ESC+"[O")}_reportWindowsOptions(F){if(this._renderService)switch(F){case I.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const T=this._renderService.dimensions.css.canvas.width.toFixed(0),W=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${j.C0.ESC}[4;${W};${T}t`);break;case I.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const V=this._renderService.dimensions.css.cell.width.toFixed(0),X=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${j.C0.ESC}[6;${X};${V}t`)}}cancel(F,T){if(this.options.cancelEvents||T)return F.preventDefault(),F.stopPropagation(),!1}}s.Terminal=J},9924:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(n,_=1e3){this._renderCallback=n,this._debounceThresholdMS=_,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(n,_,v){this._rowCount=v,n=n!==void 0?n:0,_=_!==void 0?_:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,_):_;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const p=u-this._lastRefreshMs,C=this._debounceThresholdMS-p;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},C)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const n=Math.max(this._rowStart,0),_=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,_)}}},1680:function(m,s,n){var _=this&&this.__decorate||function(o,a,h,g){var x,y=arguments.length,b=y<3?a:g===null?g=Object.getOwnPropertyDescriptor(a,h):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,a,h,g);else for(var S=o.length-1;S>=0;S--)(x=o[S])&&(b=(y<3?x(b):y>3?x(a,h,b):x(a,h))||b);return y>3&&b&&Object.defineProperty(a,h,b),b},v=this&&this.__param||function(o,a){return function(h,g){a(h,g,o)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const u=n(3656),p=n(4725),C=n(8460),w=n(844),f=n(2585);let l=s.Viewport=class extends w.Disposable{constructor(o,a,h,g,x,y,b,S){super(),this._viewportElement=o,this._scrollArea=a,this._bufferService=h,this._optionsService=g,this._charSizeService=x,this._renderService=y,this._coreBrowserService=b,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(S.colors),this.register(S.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(o){this._viewportElement.style.backgroundColor=o.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(o){if(o)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const a=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==a&&(this._lastRecordedBufferHeight=a,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const o=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==o&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=o),this._refreshAnimationFrame=null}syncScrollArea(o=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(o);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(o)}_handleScroll(o){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const a=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:a,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const o=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(o*(this._smoothScrollState.target-this._smoothScrollState.origin)),o<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(o,a){const h=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(a<0&&this._viewportElement.scrollTop!==0||a>0&&h<this._lastRecordedBufferHeight)||(o.cancelable&&o.preventDefault(),!1)}handleWheel(o){const a=this._getPixelsScrolled(o);return a!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+a:this._smoothScrollState.target+=a,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=a,this._bubbleScroll(o,a))}scrollLines(o){if(o!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const a=o*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+a,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!1})}_getPixelsScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let a=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_LINE?a*=this._currentRowHeight:o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(a*=this._currentRowHeight*this._bufferService.rows),a}getBufferElements(o,a){let h,g="";const x=[],y=a??this._bufferService.buffer.lines.length,b=this._bufferService.buffer.lines;for(let S=o;S<y;S++){const E=b.get(S);if(!E)continue;const L=b.get(S+1)?.isWrapped;if(g+=E.translateToString(!L),!L||S===b.length-1){const A=document.createElement("div");A.textContent=g,x.push(A),g.length>0&&(h=A),g=""}}return{bufferElements:x,cursorElement:h}}getLinesScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let a=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(a/=this._currentRowHeight+0,this._wheelPartialScroll+=a,a=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(a*=this._bufferService.rows),a}_applyScrollModifier(o,a){const h=this._optionsService.rawOptions.fastScrollModifier;return h==="alt"&&a.altKey||h==="ctrl"&&a.ctrlKey||h==="shift"&&a.shiftKey?o*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:o*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(o){this._lastTouchY=o.touches[0].pageY}handleTouchMove(o){const a=this._lastTouchY-o.touches[0].pageY;return this._lastTouchY=o.touches[0].pageY,a!==0&&(this._viewportElement.scrollTop+=a,this._bubbleScroll(o,a))}};s.Viewport=l=_([v(2,f.IBufferService),v(3,f.IOptionsService),v(4,p.ICharSizeService),v(5,p.IRenderService),v(6,p.ICoreBrowserService),v(7,p.IThemeService)],l)},3107:function(m,s,n){var _=this&&this.__decorate||function(f,l,o,a){var h,g=arguments.length,x=g<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,o):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,l,o,a);else for(var y=f.length-1;y>=0;y--)(h=f[y])&&(x=(g<3?h(x):g>3?h(l,o,x):h(l,o))||x);return g>3&&x&&Object.defineProperty(l,o,x),x},v=this&&this.__param||function(f,l){return function(o,a){l(o,a,f)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const u=n(4725),p=n(844),C=n(2585);let w=s.BufferDecorationRenderer=class extends p.Disposable{constructor(f,l,o,a,h){super(),this._screenElement=f,this._bufferService=l,this._coreBrowserService=o,this._decorationService=a,this._renderService=h,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(g=>this._removeDecoration(g))),this.register((0,p.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const f of this._decorationService.decorations)this._renderDecoration(f);this._dimensionsChanged=!1}_renderDecoration(f){this._refreshStyle(f),this._dimensionsChanged&&this._refreshXPosition(f)}_createElement(f){const l=this._coreBrowserService.mainDocument.createElement("div");l.classList.add("xterm-decoration"),l.classList.toggle("xterm-decoration-top-layer",f?.options?.layer==="top"),l.style.width=`${Math.round((f.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,l.style.height=(f.options.height||1)*this._renderService.dimensions.css.cell.height+"px",l.style.top=(f.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",l.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const o=f.options.x??0;return o&&o>this._bufferService.cols&&(l.style.display="none"),this._refreshXPosition(f,l),l}_refreshStyle(f){const l=f.marker.line-this._bufferService.buffers.active.ydisp;if(l<0||l>=this._bufferService.rows)f.element&&(f.element.style.display="none",f.onRenderEmitter.fire(f.element));else{let o=this._decorationElements.get(f);o||(o=this._createElement(f),f.element=o,this._decorationElements.set(f,o),this._container.appendChild(o),f.onDispose(()=>{this._decorationElements.delete(f),o.remove()})),o.style.top=l*this._renderService.dimensions.css.cell.height+"px",o.style.display=this._altBufferIsActive?"none":"block",f.onRenderEmitter.fire(o)}}_refreshXPosition(f,l=f.element){if(!l)return;const o=f.options.x??0;(f.options.anchor||"left")==="right"?l.style.right=o?o*this._renderService.dimensions.css.cell.width+"px":"":l.style.left=o?o*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(f){this._decorationElements.get(f)?.remove(),this._decorationElements.delete(f),f.dispose()}};s.BufferDecorationRenderer=w=_([v(1,C.IBufferService),v(2,u.ICoreBrowserService),v(3,C.IDecorationService),v(4,u.IRenderService)],w)},5871:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(n){if(n.options.overviewRulerOptions){for(const _ of this._zones)if(_.color===n.options.overviewRulerOptions.color&&_.position===n.options.overviewRulerOptions.position){if(this._lineIntersectsZone(_,n.marker.line))return;if(this._lineAdjacentToZone(_,n.marker.line,n.options.overviewRulerOptions.position))return void this._addLineToZone(_,n.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=n.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=n.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=n.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=n.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:n.options.overviewRulerOptions.color,position:n.options.overviewRulerOptions.position,startBufferLine:n.marker.line,endBufferLine:n.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(n){this._linePadding=n}_lineIntersectsZone(n,_){return _>=n.startBufferLine&&_<=n.endBufferLine}_lineAdjacentToZone(n,_,v){return _>=n.startBufferLine-this._linePadding[v||"full"]&&_<=n.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(n,_){n.startBufferLine=Math.min(n.startBufferLine,_),n.endBufferLine=Math.max(n.endBufferLine,_)}}},5744:function(m,s,n){var _=this&&this.__decorate||function(h,g,x,y){var b,S=arguments.length,E=S<3?g:y===null?y=Object.getOwnPropertyDescriptor(g,x):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,g,x,y);else for(var L=h.length-1;L>=0;L--)(b=h[L])&&(E=(S<3?b(E):S>3?b(g,x,E):b(g,x))||E);return S>3&&E&&Object.defineProperty(g,x,E),E},v=this&&this.__param||function(h,g){return function(x,y){g(x,y,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const u=n(5871),p=n(4725),C=n(844),w=n(2585),f={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0};let a=s.OverviewRulerRenderer=class extends C.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(h,g,x,y,b,S,E){super(),this._viewportElement=h,this._screenElement=g,this._bufferService=x,this._decorationService=y,this._renderService=b,this._optionsService=S,this._coreBrowserService=E,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const L=this._canvas.getContext("2d");if(!L)throw new Error("Ctx cannot be null");this._ctx=L,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{this._canvas?.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const h=Math.floor(this._canvas.width/3),g=Math.ceil(this._canvas.width/3);l.full=this._canvas.width,l.left=h,l.center=g,l.right=h,this._refreshDrawHeightConstants(),o.full=0,o.left=0,o.center=l.left,o.right=l.left+l.center}_refreshDrawHeightConstants(){f.full=Math.round(2*this._coreBrowserService.dpr);const h=this._canvas.height/this._bufferService.buffer.lines.length,g=Math.round(Math.max(Math.min(h,12),6)*this._coreBrowserService.dpr);f.left=g,f.center=g,f.right=g}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const g of this._decorationService.decorations)this._colorZoneStore.addDecoration(g);this._ctx.lineWidth=1;const h=this._colorZoneStore.zones;for(const g of h)g.position!=="full"&&this._renderColorZone(g);for(const g of h)g.position==="full"&&this._renderColorZone(g);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(h){this._ctx.fillStyle=h.color,this._ctx.fillRect(o[h.position||"full"],Math.round((this._canvas.height-1)*(h.startBufferLine/this._bufferService.buffers.active.lines.length)-f[h.position||"full"]/2),l[h.position||"full"],Math.round((this._canvas.height-1)*((h.endBufferLine-h.startBufferLine)/this._bufferService.buffers.active.lines.length)+f[h.position||"full"]))}_queueRefresh(h,g){this._shouldUpdateDimensions=h||this._shouldUpdateDimensions,this._shouldUpdateAnchor=g||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};s.OverviewRulerRenderer=a=_([v(2,w.IBufferService),v(3,w.IDecorationService),v(4,p.IRenderService),v(5,w.IOptionsService),v(6,p.ICoreBrowserService)],a)},2950:function(m,s,n){var _=this&&this.__decorate||function(f,l,o,a){var h,g=arguments.length,x=g<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,o):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(f,l,o,a);else for(var y=f.length-1;y>=0;y--)(h=f[y])&&(x=(g<3?h(x):g>3?h(l,o,x):h(l,o))||x);return g>3&&x&&Object.defineProperty(l,o,x),x},v=this&&this.__param||function(f,l){return function(o,a){l(o,a,f)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const u=n(4725),p=n(2585),C=n(2584);let w=s.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(f,l,o,a,h,g){this._textarea=f,this._compositionView=l,this._bufferService=o,this._optionsService=a,this._coreService=h,this._renderService=g,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(f){this._compositionView.textContent=f.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(f){if(this._isComposing||this._isSendingComposition){if(f.keyCode===229||f.keyCode===16||f.keyCode===17||f.keyCode===18)return!1;this._finalizeComposition(!1)}return f.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(f){if(this._compositionView.classList.remove("active"),this._isComposing=!1,f){const l={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let o;this._isSendingComposition=!1,l.start+=this._dataAlreadySent.length,o=this._isComposing?this._textarea.value.substring(l.start,l.end):this._textarea.value.substring(l.start),o.length>0&&this._coreService.triggerDataEvent(o,!0)}},0)}else{this._isSendingComposition=!1;const l=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(l,!0)}}_handleAnyTextareaChanges(){const f=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const l=this._textarea.value,o=l.replace(f,"");this._dataAlreadySent=o,l.length>f.length?this._coreService.triggerDataEvent(o,!0):l.length<f.length?this._coreService.triggerDataEvent(`${C.C0.DEL}`,!0):l.length===f.length&&l!==f&&this._coreService.triggerDataEvent(l,!0)}},0)}updateCompositionElements(f){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const l=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),o=this._renderService.dimensions.css.cell.height,a=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,h=l*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=h+"px",this._compositionView.style.top=a+"px",this._compositionView.style.height=o+"px",this._compositionView.style.lineHeight=o+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const g=this._compositionView.getBoundingClientRect();this._textarea.style.left=h+"px",this._textarea.style.top=a+"px",this._textarea.style.width=Math.max(g.width,1)+"px",this._textarea.style.height=Math.max(g.height,1)+"px",this._textarea.style.lineHeight=g.height+"px"}f||setTimeout(()=>this.updateCompositionElements(!0),0)}}};s.CompositionHelper=w=_([v(2,p.IBufferService),v(3,p.IOptionsService),v(4,p.ICoreService),v(5,u.IRenderService)],w)},9806:(m,s)=>{function n(_,v,u){const p=u.getBoundingClientRect(),C=_.getComputedStyle(u),w=parseInt(C.getPropertyValue("padding-left")),f=parseInt(C.getPropertyValue("padding-top"));return[v.clientX-p.left-w,v.clientY-p.top-f]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=n,s.getCoords=function(_,v,u,p,C,w,f,l,o){if(!w)return;const a=n(_,v,u);return a?(a[0]=Math.ceil((a[0]+(o?f/2:0))/f),a[1]=Math.ceil(a[1]/l),a[0]=Math.min(Math.max(a[0],1),p+(o?1:0)),a[1]=Math.min(Math.max(a[1],1),C),a):void 0}},9504:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const _=n(2584);function v(l,o,a,h){const g=l-u(l,a),x=o-u(o,a),y=Math.abs(g-x)-function(b,S,E){let L=0;const A=b-u(b,E),R=S-u(S,E);for(let D=0;D<Math.abs(A-R);D++){const P=p(b,S)==="A"?-1:1;E.buffer.lines.get(A+P*D)?.isWrapped&&L++}return L}(l,o,a);return f(y,w(p(l,o),h))}function u(l,o){let a=0,h=o.buffer.lines.get(l),g=h?.isWrapped;for(;g&&l>=0&&l<o.rows;)a++,h=o.buffer.lines.get(--l),g=h?.isWrapped;return a}function p(l,o){return l>o?"A":"B"}function C(l,o,a,h,g,x){let y=l,b=o,S="";for(;y!==a||b!==h;)y+=g?1:-1,g&&y>x.cols-1?(S+=x.buffer.translateBufferLineToString(b,!1,l,y),y=0,l=0,b++):!g&&y<0&&(S+=x.buffer.translateBufferLineToString(b,!1,0,l+1),y=x.cols-1,l=y,b--);return S+x.buffer.translateBufferLineToString(b,!1,l,y)}function w(l,o){const a=o?"O":"[";return _.C0.ESC+a+l}function f(l,o){l=Math.floor(l);let a="";for(let h=0;h<l;h++)a+=o;return a}s.moveToCellSequence=function(l,o,a,h){const g=a.buffer.x,x=a.buffer.y;if(!a.buffer.hasScrollback)return function(S,E,L,A,R,D){return v(E,A,R,D).length===0?"":f(C(S,E,S,E-u(E,R),!1,R).length,w("D",D))}(g,x,0,o,a,h)+v(x,o,a,h)+function(S,E,L,A,R,D){let P;P=v(E,A,R,D).length>0?A-u(A,R):E;const H=A,$=function(j,O,k,M,B,I){let z;return z=v(k,M,B,I).length>0?M-u(M,B):O,j<k&&z<=M||j>=k&&z<M?"C":"D"}(S,E,L,A,R,D);return f(C(S,P,L,H,$==="C",R).length,w($,D))}(g,x,l,o,a,h);let y;if(x===o)return y=g>l?"D":"C",f(Math.abs(g-l),w(y,h));y=x>o?"D":"C";const b=Math.abs(x-o);return f(function(S,E){return E.cols-S}(x>o?l:g,a)+(b-1)*a.cols+1+((x>o?g:l)-1),w(y,h))}},1296:function(m,s,n){var _=this&&this.__decorate||function(D,P,H,$){var j,O=arguments.length,k=O<3?P:$===null?$=Object.getOwnPropertyDescriptor(P,H):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(D,P,H,$);else for(var M=D.length-1;M>=0;M--)(j=D[M])&&(k=(O<3?j(k):O>3?j(P,H,k):j(P,H))||k);return O>3&&k&&Object.defineProperty(P,H,k),k},v=this&&this.__param||function(D,P){return function(H,$){P(H,$,D)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const u=n(3787),p=n(2550),C=n(2223),w=n(6171),f=n(6052),l=n(4725),o=n(8055),a=n(8460),h=n(844),g=n(2585),x="xterm-dom-renderer-owner-",y="xterm-rows",b="xterm-fg-",S="xterm-bg-",E="xterm-focus",L="xterm-selection";let A=1,R=s.DomRenderer=class extends h.Disposable{constructor(D,P,H,$,j,O,k,M,B,I,z,U,J){super(),this._terminal=D,this._document=P,this._element=H,this._screenElement=$,this._viewportElement=j,this._helperContainer=O,this._linkifier2=k,this._charSizeService=B,this._optionsService=I,this._bufferService=z,this._coreBrowserService=U,this._themeService=J,this._terminalClass=A++,this._rowElements=[],this._selectionRenderModel=(0,f.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new a.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(y),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(L),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,w.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(q=>this._injectCss(q))),this._injectCss(this._themeService.colors),this._rowFactory=M.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(x+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(q=>this._handleLinkHover(q))),this.register(this._linkifier2.onHideLinkUnderline(q=>this._handleLinkLeave(q))),this.register((0,h.toDisposable)(()=>{this._element.classList.remove(x+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new p.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const D=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*D,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*D),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/D),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/D),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const H of this._rowElements)H.style.width=`${this.dimensions.css.canvas.width}px`,H.style.height=`${this.dimensions.css.cell.height}px`,H.style.lineHeight=`${this.dimensions.css.cell.height}px`,H.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const P=`${this._terminalSelector} .${y} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=P,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(D){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let P=`${this._terminalSelector} .${y} { color: ${D.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;P+=`${this._terminalSelector} .${y} .xterm-dim { color: ${o.color.multiplyOpacity(D.foreground,.5).css};}`,P+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const H=`blink_underline_${this._terminalClass}`,$=`blink_bar_${this._terminalClass}`,j=`blink_block_${this._terminalClass}`;P+=`@keyframes ${H} { 50% {  border-bottom-style: hidden; }}`,P+=`@keyframes ${$} { 50% {  box-shadow: none; }}`,P+=`@keyframes ${j} { 0% {  background-color: ${D.cursor.css};  color: ${D.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${D.cursor.css}; }}`,P+=`${this._terminalSelector} .${y}.${E} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${H} 1s step-end infinite;}${this._terminalSelector} .${y}.${E} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${$} 1s step-end infinite;}${this._terminalSelector} .${y}.${E} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${j} 1s step-end infinite;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-block { background-color: ${D.cursor.css}; color: ${D.cursorAccent.css};}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${D.cursor.css} !important; color: ${D.cursorAccent.css} !important;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${D.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${D.cursor.css} inset;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${D.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,P+=`${this._terminalSelector} .${L} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${L} div { position: absolute; background-color: ${D.selectionBackgroundOpaque.css};}${this._terminalSelector} .${L} div { position: absolute; background-color: ${D.selectionInactiveBackgroundOpaque.css};}`;for(const[O,k]of D.ansi.entries())P+=`${this._terminalSelector} .${b}${O} { color: ${k.css}; }${this._terminalSelector} .${b}${O}.xterm-dim { color: ${o.color.multiplyOpacity(k,.5).css}; }${this._terminalSelector} .${S}${O} { background-color: ${k.css}; }`;P+=`${this._terminalSelector} .${b}${C.INVERTED_DEFAULT_COLOR} { color: ${o.color.opaque(D.background).css}; }${this._terminalSelector} .${b}${C.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${o.color.multiplyOpacity(o.color.opaque(D.background),.5).css}; }${this._terminalSelector} .${S}${C.INVERTED_DEFAULT_COLOR} { background-color: ${D.foreground.css}; }`,this._themeStyleElement.textContent=P}_setDefaultSpacing(){const D=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${D}px`,this._rowFactory.defaultSpacing=D}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(D,P){for(let H=this._rowElements.length;H<=P;H++){const $=this._document.createElement("div");this._rowContainer.appendChild($),this._rowElements.push($)}for(;this._rowElements.length>P;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(D,P){this._refreshRowElements(D,P),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(E),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(E),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(D,P,H){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(D,P,H),this.renderRows(0,this._bufferService.rows-1),!D||!P)return;this._selectionRenderModel.update(this._terminal,D,P,H);const $=this._selectionRenderModel.viewportStartRow,j=this._selectionRenderModel.viewportEndRow,O=this._selectionRenderModel.viewportCappedStartRow,k=this._selectionRenderModel.viewportCappedEndRow;if(O>=this._bufferService.rows||k<0)return;const M=this._document.createDocumentFragment();if(H){const B=D[0]>P[0];M.appendChild(this._createSelectionElement(O,B?P[0]:D[0],B?D[0]:P[0],k-O+1))}else{const B=$===O?D[0]:0,I=O===j?P[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(O,B,I));const z=k-O-1;if(M.appendChild(this._createSelectionElement(O+1,0,this._bufferService.cols,z)),O!==k){const U=j===k?P[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(k,0,U))}}this._selectionContainer.appendChild(M)}_createSelectionElement(D,P,H,$=1){const j=this._document.createElement("div"),O=P*this.dimensions.css.cell.width;let k=this.dimensions.css.cell.width*(H-P);return O+k>this.dimensions.css.canvas.width&&(k=this.dimensions.css.canvas.width-O),j.style.height=$*this.dimensions.css.cell.height+"px",j.style.top=D*this.dimensions.css.cell.height+"px",j.style.left=`${O}px`,j.style.width=`${k}px`,j}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const D of this._rowElements)D.replaceChildren()}renderRows(D,P){const H=this._bufferService.buffer,$=H.ybase+H.y,j=Math.min(H.x,this._bufferService.cols-1),O=this._optionsService.rawOptions.cursorBlink,k=this._optionsService.rawOptions.cursorStyle,M=this._optionsService.rawOptions.cursorInactiveStyle;for(let B=D;B<=P;B++){const I=B+H.ydisp,z=this._rowElements[B],U=H.lines.get(I);if(!z||!U)break;z.replaceChildren(...this._rowFactory.createRow(U,I,I===$,k,M,j,O,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${x}${this._terminalClass}`}_handleLinkHover(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!0)}_handleLinkLeave(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!1)}_setCellUnderline(D,P,H,$,j,O){H<0&&(D=0),$<0&&(P=0);const k=this._bufferService.rows-1;H=Math.max(Math.min(H,k),0),$=Math.max(Math.min($,k),0),j=Math.min(j,this._bufferService.cols);const M=this._bufferService.buffer,B=M.ybase+M.y,I=Math.min(M.x,j-1),z=this._optionsService.rawOptions.cursorBlink,U=this._optionsService.rawOptions.cursorStyle,J=this._optionsService.rawOptions.cursorInactiveStyle;for(let q=H;q<=$;++q){const F=q+M.ydisp,T=this._rowElements[q],W=M.lines.get(F);if(!T||!W)break;T.replaceChildren(...this._rowFactory.createRow(W,F,F===B,U,J,I,z,this.dimensions.css.cell.width,this._widthCache,O?q===H?D:0:-1,O?(q===$?P:j)-1:-1))}}};s.DomRenderer=R=_([v(7,g.IInstantiationService),v(8,l.ICharSizeService),v(9,g.IOptionsService),v(10,g.IBufferService),v(11,l.ICoreBrowserService),v(12,l.IThemeService)],R)},3787:function(m,s,n){var _=this&&this.__decorate||function(y,b,S,E){var L,A=arguments.length,R=A<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,S):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,b,S,E);else for(var D=y.length-1;D>=0;D--)(L=y[D])&&(R=(A<3?L(R):A>3?L(b,S,R):L(b,S))||R);return A>3&&R&&Object.defineProperty(b,S,R),R},v=this&&this.__param||function(y,b){return function(S,E){b(S,E,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=void 0;const u=n(2223),p=n(643),C=n(511),w=n(2585),f=n(8055),l=n(4725),o=n(4269),a=n(6171),h=n(3734);let g=s.DomRendererRowFactory=class{constructor(y,b,S,E,L,A,R){this._document=y,this._characterJoinerService=b,this._optionsService=S,this._coreBrowserService=E,this._coreService=L,this._decorationService=A,this._themeService=R,this._workCell=new C.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(y,b,S){this._selectionStart=y,this._selectionEnd=b,this._columnSelectMode=S}createRow(y,b,S,E,L,A,R,D,P,H,$){const j=[],O=this._characterJoinerService.getJoinedCharacters(b),k=this._themeService.colors;let M,B=y.getNoBgTrimmedLength();S&&B<A+1&&(B=A+1);let I=0,z="",U=0,J=0,q=0,F=!1,T=0,W=!1,V=0;const X=[],K=H!==-1&&$!==-1;for(let re=0;re<B;re++){y.loadCell(re,this._workCell);let ee=this._workCell.getWidth();if(ee===0)continue;let de=!1,Le=re,te=this._workCell;if(O.length>0&&re===O[0][0]){de=!0;const ie=O.shift();te=new o.JoinedCellData(this._workCell,y.translateToString(!0,ie[0],ie[1]),ie[1]-ie[0]),Le=ie[1]-1,ee=te.getWidth()}const xt=this._isCellInSelection(re,b),Mr=S&&re===A,ce=K&&re>=H&&re<=$;let ne=!1;this._decorationService.forEachDecorationAtCell(re,b,void 0,ie=>{ne=!0});let oe=te.getChars()||p.WHITESPACE_CELL_CHAR;if(oe===" "&&(te.isUnderline()||te.isOverline())&&(oe=""),V=ee*D-P.get(oe,te.isBold(),te.isItalic()),M){if(I&&(xt&&W||!xt&&!W&&te.bg===U)&&(xt&&W&&k.selectionForeground||te.fg===J)&&te.extended.ext===q&&ce===F&&V===T&&!Mr&&!de&&!ne){te.isInvisible()?z+=p.WHITESPACE_CELL_CHAR:z+=oe,I++;continue}I&&(M.textContent=z),M=this._document.createElement("span"),I=0,z=""}else M=this._document.createElement("span");if(U=te.bg,J=te.fg,q=te.extended.ext,F=ce,T=V,W=xt,de&&A>=re&&A<=Le&&(A=re),!this._coreService.isCursorHidden&&Mr&&this._coreService.isCursorInitialized){if(X.push("xterm-cursor"),this._coreBrowserService.isFocused)R&&X.push("xterm-cursor-blink"),X.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(L)switch(L){case"outline":X.push("xterm-cursor-outline");break;case"block":X.push("xterm-cursor-block");break;case"bar":X.push("xterm-cursor-bar");break;case"underline":X.push("xterm-cursor-underline")}}if(te.isBold()&&X.push("xterm-bold"),te.isItalic()&&X.push("xterm-italic"),te.isDim()&&X.push("xterm-dim"),z=te.isInvisible()?p.WHITESPACE_CELL_CHAR:te.getChars()||p.WHITESPACE_CELL_CHAR,te.isUnderline()&&(X.push(`xterm-underline-${te.extended.underlineStyle}`),z===" "&&(z=""),!te.isUnderlineColorDefault()))if(te.isUnderlineColorRGB())M.style.textDecorationColor=`rgb(${h.AttributeData.toColorRGB(te.getUnderlineColor()).join(",")})`;else{let ie=te.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&te.isBold()&&ie<8&&(ie+=8),M.style.textDecorationColor=k.ansi[ie].css}te.isOverline()&&(X.push("xterm-overline"),z===" "&&(z="")),te.isStrikethrough()&&X.push("xterm-strikethrough"),ce&&(M.style.textDecoration="underline");let Z=te.getFgColor(),ae=te.getFgColorMode(),xe=te.getBgColor(),ve=te.getBgColorMode();const Mt=!!te.isInverse();if(Mt){const ie=Z;Z=xe,xe=ie;const fi=ae;ae=ve,ve=fi}let qe,lt,ke,_e=!1;switch(this._decorationService.forEachDecorationAtCell(re,b,void 0,ie=>{ie.options.layer!=="top"&&_e||(ie.backgroundColorRGB&&(ve=50331648,xe=ie.backgroundColorRGB.rgba>>8&16777215,qe=ie.backgroundColorRGB),ie.foregroundColorRGB&&(ae=50331648,Z=ie.foregroundColorRGB.rgba>>8&16777215,lt=ie.foregroundColorRGB),_e=ie.options.layer==="top")}),!_e&&xt&&(qe=this._coreBrowserService.isFocused?k.selectionBackgroundOpaque:k.selectionInactiveBackgroundOpaque,xe=qe.rgba>>8&16777215,ve=50331648,_e=!0,k.selectionForeground&&(ae=50331648,Z=k.selectionForeground.rgba>>8&16777215,lt=k.selectionForeground)),_e&&X.push("xterm-decoration-top"),ve){case 16777216:case 33554432:ke=k.ansi[xe],X.push(`xterm-bg-${xe}`);break;case 50331648:ke=f.channels.toColor(xe>>16,xe>>8&255,255&xe),this._addStyle(M,`background-color:#${x((xe>>>0).toString(16),"0",6)}`);break;default:Mt?(ke=k.foreground,X.push(`xterm-bg-${u.INVERTED_DEFAULT_COLOR}`)):ke=k.background}switch(qe||te.isDim()&&(qe=f.color.multiplyOpacity(ke,.5)),ae){case 16777216:case 33554432:te.isBold()&&Z<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Z+=8),this._applyMinimumContrast(M,ke,k.ansi[Z],te,qe,void 0)||X.push(`xterm-fg-${Z}`);break;case 50331648:const ie=f.channels.toColor(Z>>16&255,Z>>8&255,255&Z);this._applyMinimumContrast(M,ke,ie,te,qe,lt)||this._addStyle(M,`color:#${x(Z.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(M,ke,k.foreground,te,qe,lt)||Mt&&X.push(`xterm-fg-${u.INVERTED_DEFAULT_COLOR}`)}X.length&&(M.className=X.join(" "),X.length=0),Mr||de||ne?M.textContent=z:I++,V!==this.defaultSpacing&&(M.style.letterSpacing=`${V}px`),j.push(M),re=Le}return M&&I&&(M.textContent=z),j}_applyMinimumContrast(y,b,S,E,L,A){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,a.treatGlyphAsBackgroundColor)(E.getCode()))return!1;const R=this._getContrastCache(E);let D;if(L||A||(D=R.getColor(b.rgba,S.rgba)),D===void 0){const P=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);D=f.color.ensureContrastRatio(L||b,A||S,P),R.setColor((L||b).rgba,(A||S).rgba,D??null)}return!!D&&(this._addStyle(y,`color:${D.css}`),!0)}_getContrastCache(y){return y.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(y,b){y.setAttribute("style",`${y.getAttribute("style")||""}${b};`)}_isCellInSelection(y,b){const S=this._selectionStart,E=this._selectionEnd;return!(!S||!E)&&(this._columnSelectMode?S[0]<=E[0]?y>=S[0]&&b>=S[1]&&y<E[0]&&b<=E[1]:y<S[0]&&b>=S[1]&&y>=E[0]&&b<=E[1]:b>S[1]&&b<E[1]||S[1]===E[1]&&b===S[1]&&y>=S[0]&&y<E[0]||S[1]<E[1]&&b===E[1]&&y<E[0]||S[1]<E[1]&&b===S[1]&&y>=S[0])}};function x(y,b,S){for(;y.length<S;)y=b+y;return y}s.DomRendererRowFactory=g=_([v(1,l.ICharacterJoinerService),v(2,w.IOptionsService),v(3,l.ICoreBrowserService),v(4,w.ICoreService),v(5,w.IDecorationService),v(6,l.IThemeService)],g)},2550:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WidthCache=void 0,s.WidthCache=class{constructor(n,_){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=n.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const v=n.createElement("span");v.classList.add("xterm-char-measure-element");const u=n.createElement("span");u.classList.add("xterm-char-measure-element"),u.style.fontWeight="bold";const p=n.createElement("span");p.classList.add("xterm-char-measure-element"),p.style.fontStyle="italic";const C=n.createElement("span");C.classList.add("xterm-char-measure-element"),C.style.fontWeight="bold",C.style.fontStyle="italic",this._measureElements=[v,u,p,C],this._container.appendChild(v),this._container.appendChild(u),this._container.appendChild(p),this._container.appendChild(C),_.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(n,_,v,u){n===this._font&&_===this._fontSize&&v===this._weight&&u===this._weightBold||(this._font=n,this._fontSize=_,this._weight=v,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${u}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${u}`,this.clear())}get(n,_,v){let u=0;if(!_&&!v&&n.length===1&&(u=n.charCodeAt(0))<256){if(this._flat[u]!==-9999)return this._flat[u];const w=this._measure(n,0);return w>0&&(this._flat[u]=w),w}let p=n;_&&(p+="B"),v&&(p+="I");let C=this._holey.get(p);if(C===void 0){let w=0;_&&(w|=1),v&&(w|=2),C=this._measure(n,w),C>0&&this._holey.set(p,C)}return C}_measure(n,_){const v=this._measureElements[_];return v.textContent=n.repeat(32),v.offsetWidth/32}}},2223:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const _=n(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=_.isFirefox||_.isLegacyEdge?"bottom":"ideographic"},6171:(m,s)=>{function n(v){return 57508<=v&&v<=57558}function _(v){return v>=128512&&v<=128591||v>=127744&&v<=128511||v>=128640&&v<=128767||v>=9728&&v<=9983||v>=9984&&v<=10175||v>=65024&&v<=65039||v>=129280&&v<=129535||v>=127462&&v<=127487}Object.defineProperty(s,"__esModule",{value:!0}),s.computeNextVariantOffset=s.createRenderDimensions=s.treatGlyphAsBackgroundColor=s.allowRescaling=s.isEmoji=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},s.isPowerlineGlyph=n,s.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},s.isEmoji=_,s.allowRescaling=function(v,u,p,C){return u===1&&p>Math.ceil(1.5*C)&&v!==void 0&&v>255&&!_(v)&&!n(v)&&!function(w){return 57344<=w&&w<=63743}(v)},s.treatGlyphAsBackgroundColor=function(v){return n(v)||function(u){return 9472<=u&&u<=9631}(v)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},s.computeNextVariantOffset=function(v,u,p=0){return(v-(2*Math.round(u)-p))%(2*Math.round(u))}},6052:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createSelectionRenderModel=void 0;class n{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(v,u,p,C=!1){if(this.selectionStart=u,this.selectionEnd=p,!u||!p||u[0]===p[0]&&u[1]===p[1])return void this.clear();const w=v.buffers.active.ydisp,f=u[1]-w,l=p[1]-w,o=Math.max(f,0),a=Math.min(l,v.rows-1);o>=v.rows||a<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=C,this.viewportStartRow=f,this.viewportEndRow=l,this.viewportCappedStartRow=o,this.viewportCappedEndRow=a,this.startCol=u[0],this.endCol=p[0])}isCellSelected(v,u,p){return!!this.hasSelection&&(p-=v.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?u>=this.startCol&&p>=this.viewportCappedStartRow&&u<this.endCol&&p<=this.viewportCappedEndRow:u<this.startCol&&p>=this.viewportCappedStartRow&&u>=this.endCol&&p<=this.viewportCappedEndRow:p>this.viewportStartRow&&p<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&p===this.viewportStartRow&&u>=this.startCol&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&p===this.viewportEndRow&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&p===this.viewportStartRow&&u>=this.startCol)}}s.createSelectionRenderModel=function(){return new n}},456:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(n){this._bufferService=n,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?n%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)-1]:[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[n,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[Math.max(n,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const n=this.selectionStart,_=this.selectionEnd;return!(!n||!_)&&(n[1]>_[1]||n[1]===_[1]&&n[0]>_[0])}handleTrim(n){return this.selectionStart&&(this.selectionStart[1]-=n),this.selectionEnd&&(this.selectionEnd[1]-=n),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(m,s,n){var _=this&&this.__decorate||function(a,h,g,x){var y,b=arguments.length,S=b<3?h:x===null?x=Object.getOwnPropertyDescriptor(h,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(a,h,g,x);else for(var E=a.length-1;E>=0;E--)(y=a[E])&&(S=(b<3?y(S):b>3?y(h,g,S):y(h,g))||S);return b>3&&S&&Object.defineProperty(h,g,S),S},v=this&&this.__param||function(a,h){return function(g,x){h(g,x,a)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const u=n(2585),p=n(8460),C=n(844);let w=s.CharSizeService=class extends C.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(a,h,g){super(),this._optionsService=g,this.width=0,this.height=0,this._onCharSizeChange=this.register(new p.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new o(this._optionsService))}catch{this._measureStrategy=this.register(new l(a,h,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};s.CharSizeService=w=_([v(2,u.IOptionsService)],w);class f extends C.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(h,g){h!==void 0&&h>0&&g!==void 0&&g>0&&(this._result.width=h,this._result.height=g)}}class l extends f{constructor(h,g,x){super(),this._document=h,this._parentElement=g,this._optionsService=x,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class o extends f{constructor(h){super(),this._optionsService=h,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const g=this._ctx.measureText("W");if(!("width"in g&&"fontBoundingBoxAscent"in g&&"fontBoundingBoxDescent"in g))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const h=this._ctx.measureText("W");return this._validateAndSet(h.width,h.fontBoundingBoxAscent+h.fontBoundingBoxDescent),this._result}}},4269:function(m,s,n){var _=this&&this.__decorate||function(o,a,h,g){var x,y=arguments.length,b=y<3?a:g===null?g=Object.getOwnPropertyDescriptor(a,h):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,a,h,g);else for(var S=o.length-1;S>=0;S--)(x=o[S])&&(b=(y<3?x(b):y>3?x(a,h,b):x(a,h))||b);return y>3&&b&&Object.defineProperty(a,h,b),b},v=this&&this.__param||function(o,a){return function(h,g){a(h,g,o)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const u=n(3734),p=n(643),C=n(511),w=n(2585);class f extends u.AttributeData{constructor(a,h,g){super(),this.content=0,this.combinedData="",this.fg=a.fg,this.bg=a.bg,this.combinedData=h,this._width=g}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(a){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=f;let l=s.CharacterJoinerService=class af{constructor(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new C.CellData}register(a){const h={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(h),h.id}deregister(a){for(let h=0;h<this._characterJoiners.length;h++)if(this._characterJoiners[h].id===a)return this._characterJoiners.splice(h,1),!0;return!1}getJoinedCharacters(a){if(this._characterJoiners.length===0)return[];const h=this._bufferService.buffer.lines.get(a);if(!h||h.length===0)return[];const g=[],x=h.translateToString(!0);let y=0,b=0,S=0,E=h.getFg(0),L=h.getBg(0);for(let A=0;A<h.getTrimmedLength();A++)if(h.loadCell(A,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==L){if(A-y>1){const R=this._getJoinedRanges(x,S,b,h,y);for(let D=0;D<R.length;D++)g.push(R[D])}y=A,S=b,E=this._workCell.fg,L=this._workCell.bg}b+=this._workCell.getChars().length||p.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-y>1){const A=this._getJoinedRanges(x,S,b,h,y);for(let R=0;R<A.length;R++)g.push(A[R])}return g}_getJoinedRanges(a,h,g,x,y){const b=a.substring(h,g);let S=[];try{S=this._characterJoiners[0].handler(b)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const L=this._characterJoiners[E].handler(b);for(let A=0;A<L.length;A++)af._mergeRanges(S,L[A])}catch(L){console.error(L)}return this._stringRangesToCellRanges(S,x,y),S}_stringRangesToCellRanges(a,h,g){let x=0,y=!1,b=0,S=a[x];if(S){for(let E=g;E<this._bufferService.cols;E++){const L=h.getWidth(E),A=h.getString(E).length||p.WHITESPACE_CELL_CHAR.length;if(L!==0){if(!y&&S[0]<=b&&(S[0]=E,y=!0),S[1]<=b){if(S[1]=E,S=a[++x],!S)break;S[0]<=b?(S[0]=E,y=!0):y=!1}b+=A}}S&&(S[1]=this._bufferService.cols)}}static _mergeRanges(a,h){let g=!1;for(let x=0;x<a.length;x++){const y=a[x];if(g){if(h[1]<=y[0])return a[x-1][1]=h[1],a;if(h[1]<=y[1])return a[x-1][1]=Math.max(h[1],y[1]),a.splice(x,1),a;a.splice(x,1),x--}else{if(h[1]<=y[0])return a.splice(x,0,h),a;if(h[1]<=y[1])return y[0]=Math.min(h[0],y[0]),a;h[0]<y[1]&&(y[0]=Math.min(h[0],y[0]),g=!0)}}return g?a[a.length-1][1]=h[1]:a.push(h),a}};s.CharacterJoinerService=l=_([v(0,w.IBufferService)],l)},5114:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0;const _=n(844),v=n(8460),u=n(3656);class p extends _.Disposable{constructor(f,l,o){super(),this._textarea=f,this._window=l,this.mainDocument=o,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new C(this._window),this._onDprChange=this.register(new v.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new v.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(a=>this._screenDprMonitor.setWindow(a))),this.register((0,v.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(f){this._window!==f&&(this._window=f,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}s.CoreBrowserService=p;class C extends _.Disposable{constructor(f){super(),this._parentWindow=f,this._windowResizeListener=this.register(new _.MutableDisposable),this._onDprChange=this.register(new v.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,_.toDisposable)(()=>this.clearListener()))}setWindow(f){this._parentWindow=f,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,u.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkProviderService=void 0;const _=n(844);class v extends _.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,_.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(p){return this.linkProviders.push(p),{dispose:()=>{const C=this.linkProviders.indexOf(p);C!==-1&&this.linkProviders.splice(C,1)}}}}s.LinkProviderService=v},8934:function(m,s,n){var _=this&&this.__decorate||function(w,f,l,o){var a,h=arguments.length,g=h<3?f:o===null?o=Object.getOwnPropertyDescriptor(f,l):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(w,f,l,o);else for(var x=w.length-1;x>=0;x--)(a=w[x])&&(g=(h<3?a(g):h>3?a(f,l,g):a(f,l))||g);return h>3&&g&&Object.defineProperty(f,l,g),g},v=this&&this.__param||function(w,f){return function(l,o){f(l,o,w)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const u=n(4725),p=n(9806);let C=s.MouseService=class{constructor(w,f){this._renderService=w,this._charSizeService=f}getCoords(w,f,l,o,a){return(0,p.getCoords)(window,w,f,l,o,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,a)}getMouseReportCoords(w,f){const l=(0,p.getCoordsRelativeToElement)(window,w,f);if(this._charSizeService.hasValidSize)return l[0]=Math.min(Math.max(l[0],0),this._renderService.dimensions.css.canvas.width-1),l[1]=Math.min(Math.max(l[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(l[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(l[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(l[0]),y:Math.floor(l[1])}}};s.MouseService=C=_([v(0,u.IRenderService),v(1,u.ICharSizeService)],C)},3230:function(m,s,n){var _=this&&this.__decorate||function(a,h,g,x){var y,b=arguments.length,S=b<3?h:x===null?x=Object.getOwnPropertyDescriptor(h,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(a,h,g,x);else for(var E=a.length-1;E>=0;E--)(y=a[E])&&(S=(b<3?y(S):b>3?y(h,g,S):y(h,g))||S);return b>3&&S&&Object.defineProperty(h,g,S),S},v=this&&this.__param||function(a,h){return function(g,x){h(g,x,a)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const u=n(6193),p=n(4725),C=n(8460),w=n(844),f=n(7226),l=n(2585);let o=s.RenderService=class extends w.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(a,h,g,x,y,b,S,E){super(),this._rowCount=a,this._charSizeService=x,this._renderer=this.register(new w.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._observerDisposable=this.register(new w.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new C.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new C.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new C.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new C.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new u.RenderDebouncer((L,A)=>this._renderRows(L,A),S),this.register(this._renderDebouncer),this.register(S.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(b.onResize(()=>this._fullRefresh())),this.register(b.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this.register(g.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(y.onDecorationRegistered(()=>this._fullRefresh())),this.register(y.onDecorationRemoved(()=>this._fullRefresh())),this.register(g.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(b.cols,b.rows),this._fullRefresh()})),this.register(g.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(b.buffer.y,b.buffer.y,!0))),this.register(E.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(S.window,h),this.register(S.onWindowChange(L=>this._registerIntersectionObserver(L,h)))}_registerIntersectionObserver(a,h){if("IntersectionObserver"in a){const g=new a.IntersectionObserver(x=>this._handleIntersectionChange(x[x.length-1]),{threshold:0});g.observe(h),this._observerDisposable.value=(0,w.toDisposable)(()=>g.disconnect())}}_handleIntersectionChange(a){this._isPaused=a.isIntersecting===void 0?a.intersectionRatio===0:!a.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(a,h,g=!1){this._isPaused?this._needsFullRefresh=!0:(g||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(a,h,this._rowCount))}_renderRows(a,h){this._renderer.value&&(a=Math.min(a,this._rowCount-1),h=Math.min(h,this._rowCount-1),this._renderer.value.renderRows(a,h),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:a,end:h}),this._onRender.fire({start:a,end:h}),this._isNextRenderRedrawOnly=!0)}resize(a,h){this._rowCount=h,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(a){this._renderer.value=a,this._renderer.value&&(this._renderer.value.onRequestRedraw(h=>this.refreshRows(h.start,h.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(a){return this._renderDebouncer.addRefreshCallback(a)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(a,h){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(a,h)):this._renderer.value.handleResize(a,h),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(a,h,g){this._selectionState.start=a,this._selectionState.end=h,this._selectionState.columnSelectMode=g,this._renderer.value?.handleSelectionChanged(a,h,g)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};s.RenderService=o=_([v(2,l.IOptionsService),v(3,p.ICharSizeService),v(4,l.IDecorationService),v(5,l.IBufferService),v(6,p.ICoreBrowserService),v(7,p.IThemeService)],o)},9312:function(m,s,n){var _=this&&this.__decorate||function(S,E,L,A){var R,D=arguments.length,P=D<3?E:A===null?A=Object.getOwnPropertyDescriptor(E,L):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(S,E,L,A);else for(var H=S.length-1;H>=0;H--)(R=S[H])&&(P=(D<3?R(P):D>3?R(E,L,P):R(E,L))||P);return D>3&&P&&Object.defineProperty(E,L,P),P},v=this&&this.__param||function(S,E){return function(L,A){E(L,A,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const u=n(9806),p=n(9504),C=n(456),w=n(4725),f=n(8460),l=n(844),o=n(6114),a=n(4841),h=n(511),g=n(2585),x="",y=new RegExp(x,"g");let b=s.SelectionService=class extends l.Disposable{constructor(S,E,L,A,R,D,P,H,$){super(),this._element=S,this._screenElement=E,this._linkifier=L,this._bufferService=A,this._coreService=R,this._mouseService=D,this._optionsService=P,this._renderService=H,this._coreBrowserService=$,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new h.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new f.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new f.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new f.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new f.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=j=>this._handleMouseMove(j),this._mouseUpListener=j=>this._handleMouseUp(j),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(j=>this._handleTrim(j)),this.register(this._bufferService.buffers.onBufferActivate(j=>this._handleBufferActivate(j))),this.enable(),this._model=new C.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,l.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const S=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!S||!E||S[0]===E[0]&&S[1]===E[1])}get selectionText(){const S=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!S||!E)return"";const L=this._bufferService.buffer,A=[];if(this._activeSelectionMode===3){if(S[0]===E[0])return"";const R=S[0]<E[0]?S[0]:E[0],D=S[0]<E[0]?E[0]:S[0];for(let P=S[1];P<=E[1];P++){const H=L.translateBufferLineToString(P,!0,R,D);A.push(H)}}else{const R=S[1]===E[1]?E[0]:void 0;A.push(L.translateBufferLineToString(S[1],!0,S[0],R));for(let D=S[1]+1;D<=E[1]-1;D++){const P=L.lines.get(D),H=L.translateBufferLineToString(D,!0);P?.isWrapped?A[A.length-1]+=H:A.push(H)}if(S[1]!==E[1]){const D=L.lines.get(E[1]),P=L.translateBufferLineToString(E[1],!0,0,E[0]);D&&D.isWrapped?A[A.length-1]+=P:A.push(P)}}return A.map(R=>R.replace(y," ")).join(o.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(S){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),o.isLinux&&S&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(S){const E=this._getMouseBufferCoords(S),L=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!!(L&&A&&E)&&this._areCoordsInSelection(E,L,A)}isCellInSelection(S,E){const L=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!L||!A)&&this._areCoordsInSelection([S,E],L,A)}_areCoordsInSelection(S,E,L){return S[1]>E[1]&&S[1]<L[1]||E[1]===L[1]&&S[1]===E[1]&&S[0]>=E[0]&&S[0]<L[0]||E[1]<L[1]&&S[1]===L[1]&&S[0]<L[0]||E[1]<L[1]&&S[1]===E[1]&&S[0]>=E[0]}_selectWordAtCursor(S,E){const L=this._linkifier.currentLink?.link?.range;if(L)return this._model.selectionStart=[L.start.x-1,L.start.y-1],this._model.selectionStartLength=(0,a.getRangeLength)(L,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const A=this._getMouseBufferCoords(S);return!!A&&(this._selectWordAt(A,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(S,E){this._model.clearSelection(),S=Math.max(S,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,S],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(S){this._model.handleTrim(S)&&this.refresh()}_getMouseBufferCoords(S){const E=this._mouseService.getCoords(S,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(S){let E=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,S,this._screenElement)[1];const L=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=L?0:(E>L&&(E-=L),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(S){return o.isMac?S.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:S.shiftKey}handleMouseDown(S){if(this._mouseDownTimeStamp=S.timeStamp,(S.button!==2||!this.hasSelection)&&S.button===0){if(!this._enabled){if(!this.shouldForceSelection(S))return;S.stopPropagation()}S.preventDefault(),this._dragScrollAmount=0,this._enabled&&S.shiftKey?this._handleIncrementalClick(S):S.detail===1?this._handleSingleClick(S):S.detail===2?this._handleDoubleClick(S):S.detail===3&&this._handleTripleClick(S),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(S){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(S))}_handleSingleClick(S){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(S)?3:0,this._model.selectionStart=this._getMouseBufferCoords(S),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(S){this._selectWordAtCursor(S,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(S){const E=this._getMouseBufferCoords(S);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(S){return S.altKey&&!(o.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(S){if(S.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(S),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(S),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const L=this._bufferService.buffer;if(this._model.selectionEnd[1]<L.lines.length){const A=L.lines.get(this._model.selectionEnd[1]);A&&A.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const S=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(S.ydisp+this._bufferService.rows,S.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=S.ydisp),this.refresh()}}_handleMouseUp(S){const E=S.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&S.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const L=this._mouseService.getCoords(S,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(L&&L[0]!==void 0&&L[1]!==void 0){const A=(0,p.moveToCellSequence)(L[0]-1,L[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(A,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const S=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,L=!(!S||!E||S[0]===E[0]&&S[1]===E[1]);L?S&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&S[0]===this._oldSelectionStart[0]&&S[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(S,E,L)):this._oldHasSelection&&this._fireOnSelectionChange(S,E,L)}_fireOnSelectionChange(S,E,L){this._oldSelectionStart=S,this._oldSelectionEnd=E,this._oldHasSelection=L,this._onSelectionChange.fire()}_handleBufferActivate(S){this.clearSelection(),this._trimListener.dispose(),this._trimListener=S.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(S,E){let L=E;for(let A=0;E>=A;A++){const R=S.loadCell(A,this._workCell).getChars().length;this._workCell.getWidth()===0?L--:R>1&&E!==A&&(L+=R-1)}return L}setSelection(S,E,L){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[S,E],this._model.selectionStartLength=L,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(S){this._isClickInSelection(S)||(this._selectWordAtCursor(S,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(S,E,L=!0,A=!0){if(S[0]>=this._bufferService.cols)return;const R=this._bufferService.buffer,D=R.lines.get(S[1]);if(!D)return;const P=R.translateBufferLineToString(S[1],!1);let H=this._convertViewportColToCharacterIndex(D,S[0]),$=H;const j=S[0]-H;let O=0,k=0,M=0,B=0;if(P.charAt(H)===" "){for(;H>0&&P.charAt(H-1)===" ";)H--;for(;$<P.length&&P.charAt($+1)===" ";)$++}else{let U=S[0],J=S[0];D.getWidth(U)===0&&(O++,U--),D.getWidth(J)===2&&(k++,J++);const q=D.getString(J).length;for(q>1&&(B+=q-1,$+=q-1);U>0&&H>0&&!this._isCharWordSeparator(D.loadCell(U-1,this._workCell));){D.loadCell(U-1,this._workCell);const F=this._workCell.getChars().length;this._workCell.getWidth()===0?(O++,U--):F>1&&(M+=F-1,H-=F-1),H--,U--}for(;J<D.length&&$+1<P.length&&!this._isCharWordSeparator(D.loadCell(J+1,this._workCell));){D.loadCell(J+1,this._workCell);const F=this._workCell.getChars().length;this._workCell.getWidth()===2?(k++,J++):F>1&&(B+=F-1,$+=F-1),$++,J++}}$++;let I=H+j-O+M,z=Math.min(this._bufferService.cols,$-H+O+k-M-B);if(E||P.slice(H,$).trim()!==""){if(L&&I===0&&D.getCodePoint(0)!==32){const U=R.lines.get(S[1]-1);if(U&&D.isWrapped&&U.getCodePoint(this._bufferService.cols-1)!==32){const J=this._getWordAt([this._bufferService.cols-1,S[1]-1],!1,!0,!1);if(J){const q=this._bufferService.cols-J.start;I-=q,z+=q}}}if(A&&I+z===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const U=R.lines.get(S[1]+1);if(U?.isWrapped&&U.getCodePoint(0)!==32){const J=this._getWordAt([0,S[1]+1],!1,!1,!0);J&&(z+=J.length)}}return{start:I,length:z}}}_selectWordAt(S,E){const L=this._getWordAt(S,E);if(L){for(;L.start<0;)L.start+=this._bufferService.cols,S[1]--;this._model.selectionStart=[L.start,S[1]],this._model.selectionStartLength=L.length}}_selectToWordAt(S){const E=this._getWordAt(S,!0);if(E){let L=S[1];for(;E.start<0;)E.start+=this._bufferService.cols,L--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,L++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,L]}}_isCharWordSeparator(S){return S.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(S.getChars())>=0}_selectLineAt(S){const E=this._bufferService.buffer.getWrappedRangeForLine(S),L={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,a.getRangeLength)(L,this._bufferService.cols)}};s.SelectionService=b=_([v(3,g.IBufferService),v(4,g.ICoreService),v(5,w.IMouseService),v(6,g.IOptionsService),v(7,w.IRenderService),v(8,w.ICoreBrowserService)],b)},4725:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ILinkProviderService=s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const _=n(8343);s.ICharSizeService=(0,_.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,_.createDecorator)("CoreBrowserService"),s.IMouseService=(0,_.createDecorator)("MouseService"),s.IRenderService=(0,_.createDecorator)("RenderService"),s.ISelectionService=(0,_.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,_.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,_.createDecorator)("ThemeService"),s.ILinkProviderService=(0,_.createDecorator)("LinkProviderService")},6731:function(m,s,n){var _=this&&this.__decorate||function(b,S,E,L){var A,R=arguments.length,D=R<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,E):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(b,S,E,L);else for(var P=b.length-1;P>=0;P--)(A=b[P])&&(D=(R<3?A(D):R>3?A(S,E,D):A(S,E))||D);return R>3&&D&&Object.defineProperty(S,E,D),D},v=this&&this.__param||function(b,S){return function(E,L){S(E,L,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const u=n(7239),p=n(8055),C=n(8460),w=n(844),f=n(2585),l=p.css.toColor("#ffffff"),o=p.css.toColor("#000000"),a=p.css.toColor("#ffffff"),h=p.css.toColor("#000000"),g={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const b=[p.css.toColor("#2e3436"),p.css.toColor("#cc0000"),p.css.toColor("#4e9a06"),p.css.toColor("#c4a000"),p.css.toColor("#3465a4"),p.css.toColor("#75507b"),p.css.toColor("#06989a"),p.css.toColor("#d3d7cf"),p.css.toColor("#555753"),p.css.toColor("#ef2929"),p.css.toColor("#8ae234"),p.css.toColor("#fce94f"),p.css.toColor("#729fcf"),p.css.toColor("#ad7fa8"),p.css.toColor("#34e2e2"),p.css.toColor("#eeeeec")],S=[0,95,135,175,215,255];for(let E=0;E<216;E++){const L=S[E/36%6|0],A=S[E/6%6|0],R=S[E%6];b.push({css:p.channels.toCss(L,A,R),rgba:p.channels.toRgba(L,A,R)})}for(let E=0;E<24;E++){const L=8+10*E;b.push({css:p.channels.toCss(L,L,L),rgba:p.channels.toRgba(L,L,L)})}return b})());let x=s.ThemeService=class extends w.Disposable{get colors(){return this._colors}constructor(b){super(),this._optionsService=b,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new C.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:l,background:o,cursor:a,cursorAccent:h,selectionForeground:void 0,selectionBackgroundTransparent:g,selectionBackgroundOpaque:p.color.blend(o,g),selectionInactiveBackgroundTransparent:g,selectionInactiveBackgroundOpaque:p.color.blend(o,g),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(b={}){const S=this._colors;if(S.foreground=y(b.foreground,l),S.background=y(b.background,o),S.cursor=y(b.cursor,a),S.cursorAccent=y(b.cursorAccent,h),S.selectionBackgroundTransparent=y(b.selectionBackground,g),S.selectionBackgroundOpaque=p.color.blend(S.background,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundTransparent=y(b.selectionInactiveBackground,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundOpaque=p.color.blend(S.background,S.selectionInactiveBackgroundTransparent),S.selectionForeground=b.selectionForeground?y(b.selectionForeground,p.NULL_COLOR):void 0,S.selectionForeground===p.NULL_COLOR&&(S.selectionForeground=void 0),p.color.isOpaque(S.selectionBackgroundTransparent)&&(S.selectionBackgroundTransparent=p.color.opacity(S.selectionBackgroundTransparent,.3)),p.color.isOpaque(S.selectionInactiveBackgroundTransparent)&&(S.selectionInactiveBackgroundTransparent=p.color.opacity(S.selectionInactiveBackgroundTransparent,.3)),S.ansi=s.DEFAULT_ANSI_COLORS.slice(),S.ansi[0]=y(b.black,s.DEFAULT_ANSI_COLORS[0]),S.ansi[1]=y(b.red,s.DEFAULT_ANSI_COLORS[1]),S.ansi[2]=y(b.green,s.DEFAULT_ANSI_COLORS[2]),S.ansi[3]=y(b.yellow,s.DEFAULT_ANSI_COLORS[3]),S.ansi[4]=y(b.blue,s.DEFAULT_ANSI_COLORS[4]),S.ansi[5]=y(b.magenta,s.DEFAULT_ANSI_COLORS[5]),S.ansi[6]=y(b.cyan,s.DEFAULT_ANSI_COLORS[6]),S.ansi[7]=y(b.white,s.DEFAULT_ANSI_COLORS[7]),S.ansi[8]=y(b.brightBlack,s.DEFAULT_ANSI_COLORS[8]),S.ansi[9]=y(b.brightRed,s.DEFAULT_ANSI_COLORS[9]),S.ansi[10]=y(b.brightGreen,s.DEFAULT_ANSI_COLORS[10]),S.ansi[11]=y(b.brightYellow,s.DEFAULT_ANSI_COLORS[11]),S.ansi[12]=y(b.brightBlue,s.DEFAULT_ANSI_COLORS[12]),S.ansi[13]=y(b.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),S.ansi[14]=y(b.brightCyan,s.DEFAULT_ANSI_COLORS[14]),S.ansi[15]=y(b.brightWhite,s.DEFAULT_ANSI_COLORS[15]),b.extendedAnsi){const E=Math.min(S.ansi.length-16,b.extendedAnsi.length);for(let L=0;L<E;L++)S.ansi[L+16]=y(b.extendedAnsi[L],s.DEFAULT_ANSI_COLORS[L+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(b){this._restoreColor(b),this._onChangeColors.fire(this.colors)}_restoreColor(b){if(b!==void 0)switch(b){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[b]=this._restoreColors.ansi[b]}else for(let S=0;S<this._restoreColors.ansi.length;++S)this._colors.ansi[S]=this._restoreColors.ansi[S]}modifyColors(b){b(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function y(b,S){if(b!==void 0)try{return p.css.toColor(b)}catch{}return S}s.ThemeService=x=_([v(0,f.IOptionsService)],x)},6349:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const _=n(8460),v=n(844);class u extends v.Disposable{constructor(C){super(),this._maxLength=C,this.onDeleteEmitter=this.register(new _.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new _.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new _.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(C){if(this._maxLength===C)return;const w=new Array(C);for(let f=0;f<Math.min(C,this.length);f++)w[f]=this._array[this._getCyclicIndex(f)];this._array=w,this._maxLength=C,this._startIndex=0}get length(){return this._length}set length(C){if(C>this._length)for(let w=this._length;w<C;w++)this._array[w]=void 0;this._length=C}get(C){return this._array[this._getCyclicIndex(C)]}set(C,w){this._array[this._getCyclicIndex(C)]=w}push(C){this._array[this._getCyclicIndex(this._length)]=C,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(C,w,...f){if(w){for(let l=C;l<this._length-w;l++)this._array[this._getCyclicIndex(l)]=this._array[this._getCyclicIndex(l+w)];this._length-=w,this.onDeleteEmitter.fire({index:C,amount:w})}for(let l=this._length-1;l>=C;l--)this._array[this._getCyclicIndex(l+f.length)]=this._array[this._getCyclicIndex(l)];for(let l=0;l<f.length;l++)this._array[this._getCyclicIndex(C+l)]=f[l];if(f.length&&this.onInsertEmitter.fire({index:C,amount:f.length}),this._length+f.length>this._maxLength){const l=this._length+f.length-this._maxLength;this._startIndex+=l,this._length=this._maxLength,this.onTrimEmitter.fire(l)}else this._length+=f.length}trimStart(C){C>this._length&&(C=this._length),this._startIndex+=C,this._length-=C,this.onTrimEmitter.fire(C)}shiftElements(C,w,f){if(!(w<=0)){if(C<0||C>=this._length)throw new Error("start argument out of range");if(C+f<0)throw new Error("Cannot shift elements in list beyond index 0");if(f>0){for(let o=w-1;o>=0;o--)this.set(C+o+f,this.get(C+o));const l=C+w+f-this._length;if(l>0)for(this._length+=l;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let l=0;l<w;l++)this.set(C+l+f,this.get(C+l))}}_getCyclicIndex(C){return(this._startIndex+C)%this._maxLength}}s.CircularList=u},1439:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function n(_,v=5){if(typeof _!="object")return _;const u=Array.isArray(_)?[]:{};for(const p in _)u[p]=v<=1?_[p]:_[p]&&n(_[p],v-1);return u}},8055:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;let n=0,_=0,v=0,u=0;var p,C,w,f,l;function o(h){const g=h.toString(16);return g.length<2?"0"+g:g}function a(h,g){return h<g?(g+.05)/(h+.05):(h+.05)/(g+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(h){h.toCss=function(g,x,y,b){return b!==void 0?`#${o(g)}${o(x)}${o(y)}${o(b)}`:`#${o(g)}${o(x)}${o(y)}`},h.toRgba=function(g,x,y,b=255){return(g<<24|x<<16|y<<8|b)>>>0},h.toColor=function(g,x,y,b){return{css:h.toCss(g,x,y,b),rgba:h.toRgba(g,x,y,b)}}}(p||(s.channels=p={})),function(h){function g(x,y){return u=Math.round(255*y),[n,_,v]=l.toChannels(x.rgba),{css:p.toCss(n,_,v,u),rgba:p.toRgba(n,_,v,u)}}h.blend=function(x,y){if(u=(255&y.rgba)/255,u===1)return{css:y.css,rgba:y.rgba};const b=y.rgba>>24&255,S=y.rgba>>16&255,E=y.rgba>>8&255,L=x.rgba>>24&255,A=x.rgba>>16&255,R=x.rgba>>8&255;return n=L+Math.round((b-L)*u),_=A+Math.round((S-A)*u),v=R+Math.round((E-R)*u),{css:p.toCss(n,_,v),rgba:p.toRgba(n,_,v)}},h.isOpaque=function(x){return(255&x.rgba)==255},h.ensureContrastRatio=function(x,y,b){const S=l.ensureContrastRatio(x.rgba,y.rgba,b);if(S)return p.toColor(S>>24&255,S>>16&255,S>>8&255)},h.opaque=function(x){const y=(255|x.rgba)>>>0;return[n,_,v]=l.toChannels(y),{css:p.toCss(n,_,v),rgba:y}},h.opacity=g,h.multiplyOpacity=function(x,y){return u=255&x.rgba,g(x,u*y/255)},h.toColorRGB=function(x){return[x.rgba>>24&255,x.rgba>>16&255,x.rgba>>8&255]}}(C||(s.color=C={})),function(h){let g,x;try{const y=document.createElement("canvas");y.width=1,y.height=1;const b=y.getContext("2d",{willReadFrequently:!0});b&&(g=b,g.globalCompositeOperation="copy",x=g.createLinearGradient(0,0,1,1))}catch{}h.toColor=function(y){if(y.match(/#[\da-f]{3,8}/i))switch(y.length){case 4:return n=parseInt(y.slice(1,2).repeat(2),16),_=parseInt(y.slice(2,3).repeat(2),16),v=parseInt(y.slice(3,4).repeat(2),16),p.toColor(n,_,v);case 5:return n=parseInt(y.slice(1,2).repeat(2),16),_=parseInt(y.slice(2,3).repeat(2),16),v=parseInt(y.slice(3,4).repeat(2),16),u=parseInt(y.slice(4,5).repeat(2),16),p.toColor(n,_,v,u);case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}const b=y.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(b)return n=parseInt(b[1]),_=parseInt(b[2]),v=parseInt(b[3]),u=Math.round(255*(b[5]===void 0?1:parseFloat(b[5]))),p.toColor(n,_,v,u);if(!g||!x)throw new Error("css.toColor: Unsupported css format");if(g.fillStyle=x,g.fillStyle=y,typeof g.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(g.fillRect(0,0,1,1),[n,_,v,u]=g.getImageData(0,0,1,1).data,u!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:p.toRgba(n,_,v,u),css:y}}}(w||(s.css=w={})),function(h){function g(x,y,b){const S=x/255,E=y/255,L=b/255;return .2126*(S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4))+.7152*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))+.0722*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))}h.relativeLuminance=function(x){return g(x>>16&255,x>>8&255,255&x)},h.relativeLuminance2=g}(f||(s.rgb=f={})),function(h){function g(y,b,S){const E=y>>24&255,L=y>>16&255,A=y>>8&255;let R=b>>24&255,D=b>>16&255,P=b>>8&255,H=a(f.relativeLuminance2(R,D,P),f.relativeLuminance2(E,L,A));for(;H<S&&(R>0||D>0||P>0);)R-=Math.max(0,Math.ceil(.1*R)),D-=Math.max(0,Math.ceil(.1*D)),P-=Math.max(0,Math.ceil(.1*P)),H=a(f.relativeLuminance2(R,D,P),f.relativeLuminance2(E,L,A));return(R<<24|D<<16|P<<8|255)>>>0}function x(y,b,S){const E=y>>24&255,L=y>>16&255,A=y>>8&255;let R=b>>24&255,D=b>>16&255,P=b>>8&255,H=a(f.relativeLuminance2(R,D,P),f.relativeLuminance2(E,L,A));for(;H<S&&(R<255||D<255||P<255);)R=Math.min(255,R+Math.ceil(.1*(255-R))),D=Math.min(255,D+Math.ceil(.1*(255-D))),P=Math.min(255,P+Math.ceil(.1*(255-P))),H=a(f.relativeLuminance2(R,D,P),f.relativeLuminance2(E,L,A));return(R<<24|D<<16|P<<8|255)>>>0}h.blend=function(y,b){if(u=(255&b)/255,u===1)return b;const S=b>>24&255,E=b>>16&255,L=b>>8&255,A=y>>24&255,R=y>>16&255,D=y>>8&255;return n=A+Math.round((S-A)*u),_=R+Math.round((E-R)*u),v=D+Math.round((L-D)*u),p.toRgba(n,_,v)},h.ensureContrastRatio=function(y,b,S){const E=f.relativeLuminance(y>>8),L=f.relativeLuminance(b>>8);if(a(E,L)<S){if(L<E){const D=g(y,b,S),P=a(E,f.relativeLuminance(D>>8));if(P<S){const H=x(y,b,S);return P>a(E,f.relativeLuminance(H>>8))?D:H}return D}const A=x(y,b,S),R=a(E,f.relativeLuminance(A>>8));if(R<S){const D=g(y,b,S);return R>a(E,f.relativeLuminance(D>>8))?A:D}return A}},h.reduceLuminance=g,h.increaseLuminance=x,h.toChannels=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]}}(l||(s.rgba=l={})),s.toPaddedHex=o,s.contrastRatio=a},8969:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const _=n(844),v=n(2585),u=n(4348),p=n(7866),C=n(744),w=n(7302),f=n(6975),l=n(8460),o=n(1753),a=n(1480),h=n(7994),g=n(9282),x=n(5435),y=n(5981),b=n(2660);let S=!1;class E extends _.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new l.EventEmitter),this._onScroll.event(A=>{this._onScrollApi?.fire(A.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(A){for(const R in A)this.optionsService.options[R]=A[R]}constructor(A){super(),this._windowsWrappingHeuristics=this.register(new _.MutableDisposable),this._onBinary=this.register(new l.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new l.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new l.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new l.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new l.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new w.OptionsService(A)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(C.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(p.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(f.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(o.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(a.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(h.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(b.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new x.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,l.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,l.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,l.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,l.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(R=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(R=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new y.WriteBuffer((R,D)=>this._inputHandler.parse(R,D))),this.register((0,l.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(A,R){this._writeBuffer.write(A,R)}writeSync(A,R){this._logService.logLevel<=v.LogLevelEnum.WARN&&!S&&(this._logService.warn("writeSync is unreliable and will be removed soon."),S=!0),this._writeBuffer.writeSync(A,R)}input(A,R=!0){this.coreService.triggerDataEvent(A,R)}resize(A,R){isNaN(A)||isNaN(R)||(A=Math.max(A,C.MINIMUM_COLS),R=Math.max(R,C.MINIMUM_ROWS),this._bufferService.resize(A,R))}scroll(A,R=!1){this._bufferService.scroll(A,R)}scrollLines(A,R,D){this._bufferService.scrollLines(A,R,D)}scrollPages(A){this.scrollLines(A*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(A){const R=A-this._bufferService.buffer.ydisp;R!==0&&this.scrollLines(R)}registerEscHandler(A,R){return this._inputHandler.registerEscHandler(A,R)}registerDcsHandler(A,R){return this._inputHandler.registerDcsHandler(A,R)}registerCsiHandler(A,R){return this._inputHandler.registerCsiHandler(A,R)}registerOscHandler(A,R){return this._inputHandler.registerOscHandler(A,R)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let A=!1;const R=this.optionsService.rawOptions.windowsPty;R&&R.buildNumber!==void 0&&R.buildNumber!==void 0?A=R.backend==="conpty"&&R.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(A=!0),A?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const A=[];A.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),A.push(this.registerCsiHandler({final:"H"},()=>((0,g.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,_.toDisposable)(()=>{for(const R of A)R.dispose()})}}}s.CoreTerminal=E},8460:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runAndSubscribe=s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let _=0;_<this._listeners.length;_++)if(this._listeners[_]===n)return void this._listeners.splice(_,1)}}})),this._event}fire(n,_){const v=[];for(let u=0;u<this._listeners.length;u++)v.push(this._listeners[u]);for(let u=0;u<v.length;u++)v[u].call(void 0,n,_)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(n,_){return n(v=>_.fire(v))},s.runAndSubscribe=function(n,_){return _(void 0),n(v=>_(v))}},5435:function(m,s,n){var _=this&&this.__decorate||function(O,k,M,B){var I,z=arguments.length,U=z<3?k:B===null?B=Object.getOwnPropertyDescriptor(k,M):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(O,k,M,B);else for(var J=O.length-1;J>=0;J--)(I=O[J])&&(U=(z<3?I(U):z>3?I(k,M,U):I(k,M))||U);return z>3&&U&&Object.defineProperty(k,M,U),U},v=this&&this.__param||function(O,k){return function(M,B){k(M,B,O)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const u=n(2584),p=n(7116),C=n(2015),w=n(844),f=n(482),l=n(8437),o=n(8460),a=n(643),h=n(511),g=n(3734),x=n(2585),y=n(1480),b=n(6242),S=n(6351),E=n(5941),L={"(":0,")":1,"*":2,"+":3,"-":1,".":2},A=131072;function R(O,k){if(O>24)return k.setWinLines||!1;switch(O){case 1:return!!k.restoreWin;case 2:return!!k.minimizeWin;case 3:return!!k.setWinPosition;case 4:return!!k.setWinSizePixels;case 5:return!!k.raiseWin;case 6:return!!k.lowerWin;case 7:return!!k.refreshWin;case 8:return!!k.setWinSizeChars;case 9:return!!k.maximizeWin;case 10:return!!k.fullscreenWin;case 11:return!!k.getWinState;case 13:return!!k.getWinPosition;case 14:return!!k.getWinSizePixels;case 15:return!!k.getScreenSizePixels;case 16:return!!k.getCellSizePixels;case 18:return!!k.getWinSizeChars;case 19:return!!k.getScreenSizeChars;case 20:return!!k.getIconTitle;case 21:return!!k.getWinTitle;case 22:return!!k.pushTitle;case 23:return!!k.popTitle;case 24:return!!k.setWinLines}return!1}var D;(function(O){O[O.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",O[O.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D||(s.WindowsOptionsReportType=D={}));let P=0;class H extends w.Disposable{getAttrData(){return this._curAttrData}constructor(k,M,B,I,z,U,J,q,F=new C.EscapeSequenceParser){super(),this._bufferService=k,this._charsetService=M,this._coreService=B,this._logService=I,this._optionsService=z,this._oscLinkService=U,this._coreMouseService=J,this._unicodeService=q,this._parser=F,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new f.StringToUtf32,this._utf8Decoder=new f.Utf8ToUtf32,this._workCell=new h.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new o.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new o.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new o.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new o.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new o.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new o.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new o.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new o.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new o.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new o.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new o.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new o.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new $(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(T=>this._activeBuffer=T.activeBuffer)),this._parser.setCsiHandlerFallback((T,W)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(T),params:W.toArray()})}),this._parser.setEscHandlerFallback(T=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(T)})}),this._parser.setExecuteHandlerFallback(T=>{this._logService.debug("Unknown EXECUTE code: ",{code:T})}),this._parser.setOscHandlerFallback((T,W,V)=>{this._logService.debug("Unknown OSC code: ",{identifier:T,action:W,data:V})}),this._parser.setDcsHandlerFallback((T,W,V)=>{W==="HOOK"&&(V=V.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(T),action:W,payload:V})}),this._parser.setPrintHandler((T,W,V)=>this.print(T,W,V)),this._parser.registerCsiHandler({final:"@"},T=>this.insertChars(T)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},T=>this.scrollLeft(T)),this._parser.registerCsiHandler({final:"A"},T=>this.cursorUp(T)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},T=>this.scrollRight(T)),this._parser.registerCsiHandler({final:"B"},T=>this.cursorDown(T)),this._parser.registerCsiHandler({final:"C"},T=>this.cursorForward(T)),this._parser.registerCsiHandler({final:"D"},T=>this.cursorBackward(T)),this._parser.registerCsiHandler({final:"E"},T=>this.cursorNextLine(T)),this._parser.registerCsiHandler({final:"F"},T=>this.cursorPrecedingLine(T)),this._parser.registerCsiHandler({final:"G"},T=>this.cursorCharAbsolute(T)),this._parser.registerCsiHandler({final:"H"},T=>this.cursorPosition(T)),this._parser.registerCsiHandler({final:"I"},T=>this.cursorForwardTab(T)),this._parser.registerCsiHandler({final:"J"},T=>this.eraseInDisplay(T,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},T=>this.eraseInDisplay(T,!0)),this._parser.registerCsiHandler({final:"K"},T=>this.eraseInLine(T,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},T=>this.eraseInLine(T,!0)),this._parser.registerCsiHandler({final:"L"},T=>this.insertLines(T)),this._parser.registerCsiHandler({final:"M"},T=>this.deleteLines(T)),this._parser.registerCsiHandler({final:"P"},T=>this.deleteChars(T)),this._parser.registerCsiHandler({final:"S"},T=>this.scrollUp(T)),this._parser.registerCsiHandler({final:"T"},T=>this.scrollDown(T)),this._parser.registerCsiHandler({final:"X"},T=>this.eraseChars(T)),this._parser.registerCsiHandler({final:"Z"},T=>this.cursorBackwardTab(T)),this._parser.registerCsiHandler({final:"`"},T=>this.charPosAbsolute(T)),this._parser.registerCsiHandler({final:"a"},T=>this.hPositionRelative(T)),this._parser.registerCsiHandler({final:"b"},T=>this.repeatPrecedingCharacter(T)),this._parser.registerCsiHandler({final:"c"},T=>this.sendDeviceAttributesPrimary(T)),this._parser.registerCsiHandler({prefix:">",final:"c"},T=>this.sendDeviceAttributesSecondary(T)),this._parser.registerCsiHandler({final:"d"},T=>this.linePosAbsolute(T)),this._parser.registerCsiHandler({final:"e"},T=>this.vPositionRelative(T)),this._parser.registerCsiHandler({final:"f"},T=>this.hVPosition(T)),this._parser.registerCsiHandler({final:"g"},T=>this.tabClear(T)),this._parser.registerCsiHandler({final:"h"},T=>this.setMode(T)),this._parser.registerCsiHandler({prefix:"?",final:"h"},T=>this.setModePrivate(T)),this._parser.registerCsiHandler({final:"l"},T=>this.resetMode(T)),this._parser.registerCsiHandler({prefix:"?",final:"l"},T=>this.resetModePrivate(T)),this._parser.registerCsiHandler({final:"m"},T=>this.charAttributes(T)),this._parser.registerCsiHandler({final:"n"},T=>this.deviceStatus(T)),this._parser.registerCsiHandler({prefix:"?",final:"n"},T=>this.deviceStatusPrivate(T)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},T=>this.softReset(T)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},T=>this.setCursorStyle(T)),this._parser.registerCsiHandler({final:"r"},T=>this.setScrollRegion(T)),this._parser.registerCsiHandler({final:"s"},T=>this.saveCursor(T)),this._parser.registerCsiHandler({final:"t"},T=>this.windowOptions(T)),this._parser.registerCsiHandler({final:"u"},T=>this.restoreCursor(T)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},T=>this.insertColumns(T)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},T=>this.deleteColumns(T)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},T=>this.selectProtected(T)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},T=>this.requestMode(T,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},T=>this.requestMode(T,!1)),this._parser.setExecuteHandler(u.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(u.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(u.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(u.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(u.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(u.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(u.C1.IND,()=>this.index()),this._parser.setExecuteHandler(u.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(u.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new b.OscHandler(T=>(this.setTitle(T),this.setIconName(T),!0))),this._parser.registerOscHandler(1,new b.OscHandler(T=>this.setIconName(T))),this._parser.registerOscHandler(2,new b.OscHandler(T=>this.setTitle(T))),this._parser.registerOscHandler(4,new b.OscHandler(T=>this.setOrReportIndexedColor(T))),this._parser.registerOscHandler(8,new b.OscHandler(T=>this.setHyperlink(T))),this._parser.registerOscHandler(10,new b.OscHandler(T=>this.setOrReportFgColor(T))),this._parser.registerOscHandler(11,new b.OscHandler(T=>this.setOrReportBgColor(T))),this._parser.registerOscHandler(12,new b.OscHandler(T=>this.setOrReportCursorColor(T))),this._parser.registerOscHandler(104,new b.OscHandler(T=>this.restoreIndexedColor(T))),this._parser.registerOscHandler(110,new b.OscHandler(T=>this.restoreFgColor(T))),this._parser.registerOscHandler(111,new b.OscHandler(T=>this.restoreBgColor(T))),this._parser.registerOscHandler(112,new b.OscHandler(T=>this.restoreCursorColor(T))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const T in p.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:T},()=>this.selectCharset("("+T)),this._parser.registerEscHandler({intermediates:")",final:T},()=>this.selectCharset(")"+T)),this._parser.registerEscHandler({intermediates:"*",final:T},()=>this.selectCharset("*"+T)),this._parser.registerEscHandler({intermediates:"+",final:T},()=>this.selectCharset("+"+T)),this._parser.registerEscHandler({intermediates:"-",final:T},()=>this.selectCharset("-"+T)),this._parser.registerEscHandler({intermediates:".",final:T},()=>this.selectCharset("."+T)),this._parser.registerEscHandler({intermediates:"/",final:T},()=>this.selectCharset("/"+T));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(T=>(this._logService.error("Parsing error: ",T),T)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new S.DcsHandler((T,W)=>this.requestStatusString(T,W)))}_preserveStack(k,M,B,I){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=B,this._parseStack.position=I}_logSlowResolvingAsync(k){this._logService.logLevel<=x.LogLevelEnum.WARN&&Promise.race([k,new Promise((M,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(M=>{if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(k,M){let B,I=this._activeBuffer.x,z=this._activeBuffer.y,U=0;const J=this._parseStack.paused;if(J){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(B),B;I=this._parseStack.cursorStartX,z=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>A&&(U=this._parseStack.position+A)}if(this._logService.logLevel<=x.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?` "${k}"`:` "${Array.prototype.map.call(k,T=>String.fromCharCode(T)).join("")}"`),typeof k=="string"?k.split("").map(T=>T.charCodeAt(0)):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<A&&(this._parseBuffer=new Uint32Array(Math.min(k.length,A))),J||this._dirtyRowTracker.clearRange(),k.length>A)for(let T=U;T<k.length;T+=A){const W=T+A<k.length?T+A:k.length,V=typeof k=="string"?this._stringDecoder.decode(k.substring(T,W),this._parseBuffer):this._utf8Decoder.decode(k.subarray(T,W),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,V))return this._preserveStack(I,z,V,T),this._logSlowResolvingAsync(B),B}else if(!J){const T=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,T))return this._preserveStack(I,z,T,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===I&&this._activeBuffer.y===z||this._onCursorMove.fire();const q=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),F=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);F<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(F,this._bufferService.rows-1),Math.min(q,this._bufferService.rows-1))}print(k,M,B){let I,z;const U=this._charsetService.charset,J=this._optionsService.rawOptions.screenReaderMode,q=this._bufferService.cols,F=this._coreService.decPrivateModes.wraparound,T=this._coreService.modes.insertMode,W=this._curAttrData;let V=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-M>0&&V.getWidth(this._activeBuffer.x-1)===2&&V.setCellFromCodepoint(this._activeBuffer.x-1,0,1,W);let X=this._parser.precedingJoinState;for(let K=M;K<B;++K){if(I=k[K],I<127&&U){const Le=U[String.fromCharCode(I)];Le&&(I=Le.charCodeAt(0))}const re=this._unicodeService.charProperties(I,X);z=y.UnicodeService.extractWidth(re);const ee=y.UnicodeService.extractShouldJoin(re),de=ee?y.UnicodeService.extractWidth(X):0;if(X=re,J&&this._onA11yChar.fire((0,f.stringFromCodePoint)(I)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+z-de>q){if(F){const Le=V;let te=this._activeBuffer.x-de;for(this._activeBuffer.x=de,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),V=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),de>0&&V instanceof l.BufferLine&&V.copyCellsFrom(Le,te,0,de,!1);te<q;)Le.setCellFromCodepoint(te++,0,1,W)}else if(this._activeBuffer.x=q-1,z===2)continue}if(ee&&this._activeBuffer.x){const Le=V.getWidth(this._activeBuffer.x-1)?1:2;V.addCodepointToCell(this._activeBuffer.x-Le,I,z);for(let te=z-de;--te>=0;)V.setCellFromCodepoint(this._activeBuffer.x++,0,0,W)}else if(T&&(V.insertCells(this._activeBuffer.x,z-de,this._activeBuffer.getNullCell(W)),V.getWidth(q-1)===2&&V.setCellFromCodepoint(q-1,a.NULL_CELL_CODE,a.NULL_CELL_WIDTH,W)),V.setCellFromCodepoint(this._activeBuffer.x++,I,z,W),z>0)for(;--z;)V.setCellFromCodepoint(this._activeBuffer.x++,0,0,W)}this._parser.precedingJoinState=X,this._activeBuffer.x<q&&B-M>0&&V.getWidth(this._activeBuffer.x)===0&&!V.hasContent(this._activeBuffer.x)&&V.setCellFromCodepoint(this._activeBuffer.x,0,1,W),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(k,M){return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,M):this._parser.registerCsiHandler(k,B=>!R(B.params[0],this._optionsService.rawOptions.windowOptions)||M(B))}registerDcsHandler(k,M){return this._parser.registerDcsHandler(k,new S.DcsHandler(M))}registerEscHandler(k,M){return this._parser.registerEscHandler(k,M)}registerOscHandler(k,M){return this._parser.registerOscHandler(k,new b.OscHandler(M))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);k.hasWidth(this._activeBuffer.x)&&!k.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(k=this._bufferService.cols-1){this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(k,M){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=k,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(k,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+M)}cursorUp(k){const M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0}cursorDown(k){const M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0}cursorForward(k){return this._moveCursor(k.params[0]||1,0),!0}cursorBackward(k){return this._moveCursor(-(k.params[0]||1),0),!0}cursorNextLine(k){return this.cursorDown(k),this._activeBuffer.x=0,!0}cursorPrecedingLine(k){return this.cursorUp(k),this._activeBuffer.x=0,!0}cursorCharAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0}charPosAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(k){return this._moveCursor(k.params[0]||1,0),!0}linePosAbsolute(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0}vPositionRelative(k){return this._moveCursor(0,k.params[0]||1),!0}hVPosition(k){return this.cursorPosition(k),!0}tabClear(k){const M=k.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=k.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=k.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(k){const M=k.params[0];return M===1&&(this._curAttrData.bg|=536870912),M!==2&&M!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(k,M,B,I=!1,z=!1){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);U.replaceCells(M,B,this._activeBuffer.getNullCell(this._eraseAttrData()),z),I&&(U.isWrapped=!1)}_resetBufferLine(k,M=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),M),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+k),B.isWrapped=!1)}eraseInDisplay(k,M=!1){let B;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);B<this._bufferService.rows;B++)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,M),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(0);break;case 3:const I=this._activeBuffer.lines.length-this._bufferService.rows;I>0&&(this._activeBuffer.lines.trimStart(I),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-I,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-I,0),this._onScroll.fire(0))}return!0}eraseInLine(k,M=!1){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,M);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,M)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(k){this._restrictCursor();let M=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,I=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-I+1;for(;M--;)this._activeBuffer.lines.splice(z-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(k){this._restrictCursor();let M=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let I;for(I=this._bufferService.rows-1-this._activeBuffer.scrollBottom,I=this._bufferService.rows-1+this._activeBuffer.ybase-I;M--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(k){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(k){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(k){let M=k.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(k){let M=k.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(l.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=k.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);I.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData())),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=k.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);I.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData())),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=k.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);I.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData())),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=k.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);I.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData())),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(k){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(k){const M=this._parser.precedingJoinState;if(!M)return!0;const B=k.params[0]||1,I=y.UnicodeService.extractWidth(M),z=this._activeBuffer.x-I,U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(z),J=new Uint32Array(U.length*B);let q=0;for(let T=0;T<U.length;){const W=U.codePointAt(T)||0;J[q++]=W,T+=W>65535?2:1}let F=q;for(let T=1;T<B;++T)J.copyWithin(F,0,q),F+=q;return this.print(J,0,F),!0}sendDeviceAttributesPrimary(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(k){return(this._optionsService.rawOptions.termName+"").indexOf(k)===0}setMode(k){for(let M=0;M<k.length;M++)switch(k.params[M]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(k){for(let M=0;M<k.length;M++)switch(k.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),this._charsetService.setgCharset(1,p.DEFAULT_CHARSET),this._charsetService.setgCharset(2,p.DEFAULT_CHARSET),this._charsetService.setgCharset(3,p.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(k){for(let M=0;M<k.length;M++)switch(k.params[M]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(k){for(let M=0;M<k.length;M++)switch(k.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(k,M){const B=this._coreService.decPrivateModes,{activeProtocol:I,activeEncoding:z}=this._coreMouseService,U=this._coreService,{buffers:J,cols:q}=this._bufferService,{active:F,alt:T}=J,W=this._optionsService.rawOptions,V=ee=>ee?1:2,X=k.params[0];return K=X,re=M?X===2?4:X===4?V(U.modes.insertMode):X===12?3:X===20?V(W.convertEol):0:X===1?V(B.applicationCursorKeys):X===3?W.windowOptions.setWinLines?q===80?2:q===132?1:0:0:X===6?V(B.origin):X===7?V(B.wraparound):X===8?3:X===9?V(I==="X10"):X===12?V(W.cursorBlink):X===25?V(!U.isCursorHidden):X===45?V(B.reverseWraparound):X===66?V(B.applicationKeypad):X===67?4:X===1e3?V(I==="VT200"):X===1002?V(I==="DRAG"):X===1003?V(I==="ANY"):X===1004?V(B.sendFocus):X===1005?4:X===1006?V(z==="SGR"):X===1015?4:X===1016?V(z==="SGR_PIXELS"):X===1048?1:X===47||X===1047||X===1049?V(F===T):X===2004?V(B.bracketedPasteMode):0,U.triggerDataEvent(`${u.C0.ESC}[${M?"":"?"}${K};${re}$y`),!0;var K,re}_updateAttrColor(k,M,B,I,z){return M===2?(k|=50331648,k&=-16777216,k|=g.AttributeData.fromColorRGB([B,I,z])):M===5&&(k&=-50331904,k|=33554432|255&B),k}_extractColor(k,M,B){const I=[0,0,-1,0,0,0];let z=0,U=0;do{if(I[U+z]=k.params[M+U],k.hasSubParams(M+U)){const J=k.getSubParams(M+U);let q=0;do I[1]===5&&(z=1),I[U+q+1+z]=J[q];while(++q<J.length&&q+U+1+z<I.length);break}if(I[1]===5&&U+z>=2||I[1]===2&&U+z>=5)break;I[1]&&(z=1)}while(++U+M<k.length&&U+z<I.length);for(let J=2;J<I.length;++J)I[J]===-1&&(I[J]=0);switch(I[0]){case 38:B.fg=this._updateAttrColor(B.fg,I[1],I[3],I[4],I[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,I[1],I[3],I[4],I[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,I[1],I[3],I[4],I[5])}return U}_processUnderline(k,M){M.extended=M.extended.clone(),(!~k||k>5)&&(k=1),M.extended.underlineStyle=k,M.fg|=268435456,k===0&&(M.fg&=-268435457),M.updateExtended()}_processSGR0(k){k.fg=l.DEFAULT_ATTR_DATA.fg,k.bg=l.DEFAULT_ATTR_DATA.bg,k.extended=k.extended.clone(),k.extended.underlineStyle=0,k.extended.underlineColor&=-67108864,k.updateExtended()}charAttributes(k){if(k.length===1&&k.params[0]===0)return this._processSGR0(this._curAttrData),!0;const M=k.length;let B;const I=this._curAttrData;for(let z=0;z<M;z++)B=k.params[z],B>=30&&B<=37?(I.fg&=-50331904,I.fg|=16777216|B-30):B>=40&&B<=47?(I.bg&=-50331904,I.bg|=16777216|B-40):B>=90&&B<=97?(I.fg&=-50331904,I.fg|=16777224|B-90):B>=100&&B<=107?(I.bg&=-50331904,I.bg|=16777224|B-100):B===0?this._processSGR0(I):B===1?I.fg|=134217728:B===3?I.bg|=67108864:B===4?(I.fg|=268435456,this._processUnderline(k.hasSubParams(z)?k.getSubParams(z)[0]:1,I)):B===5?I.fg|=536870912:B===7?I.fg|=67108864:B===8?I.fg|=1073741824:B===9?I.fg|=2147483648:B===2?I.bg|=134217728:B===21?this._processUnderline(2,I):B===22?(I.fg&=-134217729,I.bg&=-134217729):B===23?I.bg&=-67108865:B===24?(I.fg&=-268435457,this._processUnderline(0,I)):B===25?I.fg&=-536870913:B===27?I.fg&=-67108865:B===28?I.fg&=-1073741825:B===29?I.fg&=2147483647:B===39?(I.fg&=-67108864,I.fg|=16777215&l.DEFAULT_ATTR_DATA.fg):B===49?(I.bg&=-67108864,I.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?z+=this._extractColor(k,z,I):B===53?I.bg|=1073741824:B===55?I.bg&=-1073741825:B===59?(I.extended=I.extended.clone(),I.extended.underlineColor=-1,I.updateExtended()):B===100?(I.fg&=-67108864,I.fg|=16777215&l.DEFAULT_ATTR_DATA.fg,I.bg&=-67108864,I.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(`${u.C0.ESC}[0n`);break;case 6:const M=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[${M};${B}R`)}return!0}deviceStatusPrivate(k){if(k.params[0]===6){const M=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[?${M};${B}R`)}return!0}softReset(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(k){const M=k.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=M%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(k){const M=k.params[0]||1;let B;return(k.length<2||(B=k.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>M&&(this._activeBuffer.scrollTop=M-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(k){if(!R(k.params[0],this._optionsService.rawOptions.windowOptions))return!0;const M=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${u.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0}setIconName(k){return this._iconName=k,!0}setOrReportIndexedColor(k){const M=[],B=k.split(";");for(;B.length>1;){const I=B.shift(),z=B.shift();if(/^\d+$/.exec(I)){const U=parseInt(I);if(j(U))if(z==="?")M.push({type:0,index:U});else{const J=(0,E.parseColor)(z);J&&M.push({type:1,index:U,color:J})}}}return M.length&&this._onColor.fire(M),!0}setHyperlink(k){const M=k.split(";");return!(M.length<2)&&(M[1]?this._createHyperlink(M[0],M[1]):!M[0]&&this._finishHyperlink())}_createHyperlink(k,M){this._getCurrentLinkId()&&this._finishHyperlink();const B=k.split(":");let I;const z=B.findIndex(U=>U.startsWith("id="));return z!==-1&&(I=B[z].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:I,uri:M}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(k,M){const B=k.split(";");for(let I=0;I<B.length&&!(M>=this._specialColors.length);++I,++M)if(B[I]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{const z=(0,E.parseColor)(B[I]);z&&this._onColor.fire([{type:1,index:this._specialColors[M],color:z}])}return!0}setOrReportFgColor(k){return this._setOrReportSpecialColor(k,0)}setOrReportBgColor(k){return this._setOrReportSpecialColor(k,1)}setOrReportCursorColor(k){return this._setOrReportSpecialColor(k,2)}restoreIndexedColor(k){if(!k)return this._onColor.fire([{type:2}]),!0;const M=[],B=k.split(";");for(let I=0;I<B.length;++I)if(/^\d+$/.exec(B[I])){const z=parseInt(B[I]);j(z)&&M.push({type:2,index:z})}return M.length&&this._onColor.fire(M),!0}restoreFgColor(k){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(k){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(k){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),!0}selectCharset(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(L[k[0]],p.CHARSETS[k[1]]||p.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(k){return this._charsetService.setgLevel(k),!0}screenAlignmentPattern(){const k=new h.CellData;k.content=4194373,k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(let M=0;M<this._bufferService.rows;++M){const B=this._activeBuffer.ybase+this._activeBuffer.y+M,I=this._activeBuffer.lines.get(B);I&&(I.fill(k),I.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(k,M){const B=this._bufferService.buffer,I=this._optionsService.rawOptions;return(z=>(this._coreService.triggerDataEvent(`${u.C0.ESC}${z}${u.C0.ESC}\\`),!0))(k==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:k==='"p'?'P1$r61;1"p':k==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:k==="m"?"P1$r0m":k===" q"?`P1$r${{block:2,underline:4,bar:6}[I.cursorStyle]-(I.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(k,M){this._dirtyRowTracker.markRangeDirty(k,M)}}s.InputHandler=H;let $=class{constructor(O){this._bufferService=O,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(O){O<this.start?this.start=O:O>this.end&&(this.end=O)}markRangeDirty(O,k){O>k&&(P=O,O=k,k=P),O<this.start&&(this.start=O),k>this.end&&(this.end=k)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function j(O){return 0<=O&&O<256}$=_([v(0,x.IBufferService)],$)},844:(m,s)=>{function n(_){for(const v of _)v.dispose();_.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const _ of this._disposables)_.dispose();this._disposables.length=0}register(_){return this._disposables.push(_),_}unregister(_){const v=this._disposables.indexOf(_);v!==-1&&this._disposables.splice(v,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(_){this._isDisposed||_===this._value||(this._value?.dispose(),this._value=_)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},s.toDisposable=function(_){return{dispose:_}},s.disposeArray=n,s.getDisposeArrayDisposable=function(_){return{dispose:()=>n(_)}}},1505:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(v,u,p){this._data[v]||(this._data[v]={}),this._data[v][u]=p}get(v,u){return this._data[v]?this._data[v][u]:void 0}clear(){this._data={}}}s.TwoKeyMap=n,s.FourKeyMap=class{constructor(){this._data=new n}set(_,v,u,p,C){this._data.get(_,v)||this._data.set(_,v,new n),this._data.get(_,v).set(u,p,C)}get(_,v,u,p){return this._data.get(_,v)?.get(u,p)}clear(){this._data.clear()}}},6114:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof process<"u"&&"title"in process;const n=s.isNode?"node":navigator.userAgent,_=s.isNode?"node":navigator.platform;s.isFirefox=n.includes("Firefox"),s.isLegacyEdge=n.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(n),s.getSafariVersion=function(){if(!s.isSafari)return 0;const v=n.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(_),s.isIpad=_==="iPad",s.isIphone=_==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(_),s.isLinux=_.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(n)},6106:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let n=0;s.SortedList=class{constructor(_){this._getKey=_,this._array=[]}clear(){this._array.length=0}insert(_){this._array.length!==0?(n=this._search(this._getKey(_)),this._array.splice(n,0,_)):this._array.push(_)}delete(_){if(this._array.length===0)return!1;const v=this._getKey(_);if(v===void 0||(n=this._search(v),n===-1)||this._getKey(this._array[n])!==v)return!1;do if(this._array[n]===_)return this._array.splice(n,1),!0;while(++n<this._array.length&&this._getKey(this._array[n])===v);return!1}*getKeyIterator(_){if(this._array.length!==0&&(n=this._search(_),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===_))do yield this._array[n];while(++n<this._array.length&&this._getKey(this._array[n])===_)}forEachByKey(_,v){if(this._array.length!==0&&(n=this._search(_),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===_))do v(this._array[n]);while(++n<this._array.length&&this._getKey(this._array[n])===_)}values(){return[...this._array].values()}_search(_){let v=0,u=this._array.length-1;for(;u>=v;){let p=v+u>>1;const C=this._getKey(this._array[p]);if(C>_)u=p-1;else{if(!(C<_)){for(;p>0&&this._getKey(this._array[p-1])===_;)p--;return p}v=p+1}}return v}}},7226:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const _=n(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(C){this._tasks.push(C),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(C){this._idleCallback=void 0;let w=0,f=0,l=C.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),f=Math.max(w,f),o=C.timeRemaining(),1.5*f>o)return l-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(l-w))}ms`),void this._start();l=o}this.clear()}}class u extends v{_requestCallback(C){return setTimeout(()=>C(this._createDeadline(16)))}_cancelCallback(C){clearTimeout(C)}_createDeadline(C){const w=Date.now()+C;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}s.PriorityTaskQueue=u,s.IdleTaskQueue=!_.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(p){return requestIdleCallback(p)}_cancelCallback(p){cancelIdleCallback(p)}}:u,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(p){this._queue.clear(),this._queue.enqueue(p)}flush(){this._queue.flush()}}},9282:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const _=n(643);s.updateWindowsModeWrappedState=function(v){const u=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),p=u?.get(v.cols-1),C=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);C&&p&&(C.isWrapped=p[_.CHAR_DATA_CODE_INDEX]!==_.NULL_CELL_CODE&&p[_.CHAR_DATA_CODE_INDEX]!==_.WHITESPACE_CELL_CODE)}},3734:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new _}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new n;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}s.AttributeData=n;class _{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}get underlineVariantOffset(){const u=(3758096384&this._ext)>>29;return u<0?4294967288^u:u}set underlineVariantOffset(u){this._ext&=536870911,this._ext|=u<<29&3758096384}constructor(u=0,p=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=p}clone(){return new _(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=_},9092:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Buffer=s.MAX_BUFFER_SIZE=void 0;const _=n(6349),v=n(7226),u=n(3734),p=n(8437),C=n(4634),w=n(511),f=n(643),l=n(4863),o=n(7116);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(a,h,g){this._hasScrollback=a,this._optionsService=h,this._bufferService=g,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=p.DEFAULT_ATTR_DATA.clone(),this.savedCharset=o.DEFAULT_CHARSET,this.markers=[],this._nullCell=w.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),this._whitespaceCell=w.CellData.fromCharData([0,f.WHITESPACE_CELL_CHAR,f.WHITESPACE_CELL_WIDTH,f.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new _.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(a,h){return new p.BufferLine(this._bufferService.cols,this.getNullCell(a),h)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows}_getCorrectBufferLength(a){if(!this._hasScrollback)return a;const h=a+this._optionsService.rawOptions.scrollback;return h>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:h}fillViewportRows(a){if(this.lines.length===0){a===void 0&&(a=p.DEFAULT_ATTR_DATA);let h=this._rows;for(;h--;)this.lines.push(this.getBlankLine(a))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new _.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(a,h){const g=this.getNullCell(p.DEFAULT_ATTR_DATA);let x=0;const y=this._getCorrectBufferLength(h);if(y>this.lines.maxLength&&(this.lines.maxLength=y),this.lines.length>0){if(this._cols<a)for(let S=0;S<this.lines.length;S++)x+=+this.lines.get(S).resize(a,g);let b=0;if(this._rows<h)for(let S=this._rows;S<h;S++)this.lines.length<h+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new p.BufferLine(a,g)):this.ybase>0&&this.lines.length<=this.ybase+this.y+b+1?(this.ybase--,b++,this.ydisp>0&&this.ydisp--):this.lines.push(new p.BufferLine(a,g)));else for(let S=this._rows;S>h;S--)this.lines.length>h+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(y<this.lines.maxLength){const S=this.lines.length-y;S>0&&(this.lines.trimStart(S),this.ybase=Math.max(this.ybase-S,0),this.ydisp=Math.max(this.ydisp-S,0),this.savedY=Math.max(this.savedY-S,0)),this.lines.maxLength=y}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,h-1),b&&(this.y+=b),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=h-1,this._isReflowEnabled&&(this._reflow(a,h),this._cols>a))for(let b=0;b<this.lines.length;b++)x+=+this.lines.get(b).resize(a,g);this._cols=a,this._rows=h,this._memoryCleanupQueue.clear(),x>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let a=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,a=!1);let h=0;for(;this._memoryCleanupPosition<this.lines.length;)if(h+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),h>100)return!0;return a}get _isReflowEnabled(){const a=this._optionsService.rawOptions.windowsPty;return a&&a.buildNumber?this._hasScrollback&&a.backend==="conpty"&&a.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(a,h){this._cols!==a&&(a>this._cols?this._reflowLarger(a,h):this._reflowSmaller(a,h))}_reflowLarger(a,h){const g=(0,C.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(p.DEFAULT_ATTR_DATA));if(g.length>0){const x=(0,C.reflowLargerCreateNewLayout)(this.lines,g);(0,C.reflowLargerApplyNewLayout)(this.lines,x.layout),this._reflowLargerAdjustViewport(a,h,x.countRemoved)}}_reflowLargerAdjustViewport(a,h,g){const x=this.getNullCell(p.DEFAULT_ATTR_DATA);let y=g;for(;y-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<h&&this.lines.push(new p.BufferLine(a,x))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-g,0)}_reflowSmaller(a,h){const g=this.getNullCell(p.DEFAULT_ATTR_DATA),x=[];let y=0;for(let b=this.lines.length-1;b>=0;b--){let S=this.lines.get(b);if(!S||!S.isWrapped&&S.getTrimmedLength()<=a)continue;const E=[S];for(;S.isWrapped&&b>0;)S=this.lines.get(--b),E.unshift(S);const L=this.ybase+this.y;if(L>=b&&L<b+E.length)continue;const A=E[E.length-1].getTrimmedLength(),R=(0,C.reflowSmallerGetNewLineLengths)(E,this._cols,a),D=R.length-E.length;let P;P=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const H=[];for(let B=0;B<D;B++){const I=this.getBlankLine(p.DEFAULT_ATTR_DATA,!0);H.push(I)}H.length>0&&(x.push({start:b+E.length+y,newLines:H}),y+=H.length),E.push(...H);let $=R.length-1,j=R[$];j===0&&($--,j=R[$]);let O=E.length-D-1,k=A;for(;O>=0;){const B=Math.min(k,j);if(E[$]===void 0)break;if(E[$].copyCellsFrom(E[O],k-B,j-B,B,!0),j-=B,j===0&&($--,j=R[$]),k-=B,k===0){O--;const I=Math.max(O,0);k=(0,C.getWrappedLineTrimmedLength)(E,I,this._cols)}}for(let B=0;B<E.length;B++)R[B]<a&&E[B].setCell(R[B],g);let M=D-P;for(;M-- >0;)this.ybase===0?this.y<h-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+y)-h&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+h-1)}if(x.length>0){const b=[],S=[];for(let $=0;$<this.lines.length;$++)S.push(this.lines.get($));const E=this.lines.length;let L=E-1,A=0,R=x[A];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+y);let D=0;for(let $=Math.min(this.lines.maxLength-1,E+y-1);$>=0;$--)if(R&&R.start>L+D){for(let j=R.newLines.length-1;j>=0;j--)this.lines.set($--,R.newLines[j]);$++,b.push({index:L+1,amount:R.newLines.length}),D+=R.newLines.length,R=x[++A]}else this.lines.set($,S[L--]);let P=0;for(let $=b.length-1;$>=0;$--)b[$].index+=P,this.lines.onInsertEmitter.fire(b[$]),P+=b[$].amount;const H=Math.max(0,E+y-this.lines.maxLength);H>0&&this.lines.onTrimEmitter.fire(H)}}translateBufferLineToString(a,h,g=0,x){const y=this.lines.get(a);return y?y.translateToString(h,g,x):""}getWrappedRangeForLine(a){let h=a,g=a;for(;h>0&&this.lines.get(h).isWrapped;)h--;for(;g+1<this.lines.length&&this.lines.get(g+1).isWrapped;)g++;return{first:h,last:g}}setupTabStops(a){for(a!=null?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0}prevStop(a){for(a==null&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a}nextStop(a){for(a==null&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a}clearMarkers(a){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].line===a&&(this.markers[h].dispose(),this.markers.splice(h--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].dispose(),this.markers.splice(a--,1);this._isClearing=!1}addMarker(a){const h=new l.Marker(a);return this.markers.push(h),h.register(this.lines.onTrim(g=>{h.line-=g,h.line<0&&h.dispose()})),h.register(this.lines.onInsert(g=>{h.line>=g.index&&(h.line+=g.amount)})),h.register(this.lines.onDelete(g=>{h.line>=g.index&&h.line<g.index+g.amount&&h.dispose(),h.line>g.index&&(h.line-=g.amount)})),h.register(h.onDispose(()=>this._removeMarker(h))),h}_removeMarker(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)}}},8437:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const _=n(3734),v=n(511),u=n(643),p=n(482);s.DEFAULT_ATTR_DATA=Object.freeze(new _.AttributeData);let C=0;class w{constructor(l,o,a=!1){this.isWrapped=a,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*l);const h=o||v.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let g=0;g<l;++g)this.setCell(g,h);this.length=l}get(l){const o=this._data[3*l+0],a=2097151&o;return[this._data[3*l+1],2097152&o?this._combined[l]:a?(0,p.stringFromCodePoint)(a):"",o>>22,2097152&o?this._combined[l].charCodeAt(this._combined[l].length-1):a]}set(l,o){this._data[3*l+1]=o[u.CHAR_DATA_ATTR_INDEX],o[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[l]=o[1],this._data[3*l+0]=2097152|l|o[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*l+0]=o[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|o[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(l){return this._data[3*l+0]>>22}hasWidth(l){return 12582912&this._data[3*l+0]}getFg(l){return this._data[3*l+1]}getBg(l){return this._data[3*l+2]}hasContent(l){return 4194303&this._data[3*l+0]}getCodePoint(l){const o=this._data[3*l+0];return 2097152&o?this._combined[l].charCodeAt(this._combined[l].length-1):2097151&o}isCombined(l){return 2097152&this._data[3*l+0]}getString(l){const o=this._data[3*l+0];return 2097152&o?this._combined[l]:2097151&o?(0,p.stringFromCodePoint)(2097151&o):""}isProtected(l){return 536870912&this._data[3*l+2]}loadCell(l,o){return C=3*l,o.content=this._data[C+0],o.fg=this._data[C+1],o.bg=this._data[C+2],2097152&o.content&&(o.combinedData=this._combined[l]),268435456&o.bg&&(o.extended=this._extendedAttrs[l]),o}setCell(l,o){2097152&o.content&&(this._combined[l]=o.combinedData),268435456&o.bg&&(this._extendedAttrs[l]=o.extended),this._data[3*l+0]=o.content,this._data[3*l+1]=o.fg,this._data[3*l+2]=o.bg}setCellFromCodepoint(l,o,a,h){268435456&h.bg&&(this._extendedAttrs[l]=h.extended),this._data[3*l+0]=o|a<<22,this._data[3*l+1]=h.fg,this._data[3*l+2]=h.bg}addCodepointToCell(l,o,a){let h=this._data[3*l+0];2097152&h?this._combined[l]+=(0,p.stringFromCodePoint)(o):2097151&h?(this._combined[l]=(0,p.stringFromCodePoint)(2097151&h)+(0,p.stringFromCodePoint)(o),h&=-2097152,h|=2097152):h=o|4194304,a&&(h&=-12582913,h|=a<<22),this._data[3*l+0]=h}insertCells(l,o,a){if((l%=this.length)&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,a),o<this.length-l){const h=new v.CellData;for(let g=this.length-l-o-1;g>=0;--g)this.setCell(l+o+g,this.loadCell(l+g,h));for(let g=0;g<o;++g)this.setCell(l+g,a)}else for(let h=l;h<this.length;++h)this.setCell(h,a);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,a)}deleteCells(l,o,a){if(l%=this.length,o<this.length-l){const h=new v.CellData;for(let g=0;g<this.length-l-o;++g)this.setCell(l+g,this.loadCell(l+o+g,h));for(let g=this.length-o;g<this.length;++g)this.setCell(g,a)}else for(let h=l;h<this.length;++h)this.setCell(h,a);l&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,a),this.getWidth(l)!==0||this.hasContent(l)||this.setCellFromCodepoint(l,0,1,a)}replaceCells(l,o,a,h=!1){if(h)for(l&&this.getWidth(l-1)===2&&!this.isProtected(l-1)&&this.setCellFromCodepoint(l-1,0,1,a),o<this.length&&this.getWidth(o-1)===2&&!this.isProtected(o)&&this.setCellFromCodepoint(o,0,1,a);l<o&&l<this.length;)this.isProtected(l)||this.setCell(l,a),l++;else for(l&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,a),o<this.length&&this.getWidth(o-1)===2&&this.setCellFromCodepoint(o,0,1,a);l<o&&l<this.length;)this.setCell(l++,a)}resize(l,o){if(l===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const a=3*l;if(l>this.length){if(this._data.buffer.byteLength>=4*a)this._data=new Uint32Array(this._data.buffer,0,a);else{const h=new Uint32Array(a);h.set(this._data),this._data=h}for(let h=this.length;h<l;++h)this.setCell(h,o)}else{this._data=this._data.subarray(0,a);const h=Object.keys(this._combined);for(let x=0;x<h.length;x++){const y=parseInt(h[x],10);y>=l&&delete this._combined[y]}const g=Object.keys(this._extendedAttrs);for(let x=0;x<g.length;x++){const y=parseInt(g[x],10);y>=l&&delete this._extendedAttrs[y]}}return this.length=l,4*a*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const l=new Uint32Array(this._data.length);return l.set(this._data),this._data=l,1}return 0}fill(l,o=!1){if(o)for(let a=0;a<this.length;++a)this.isProtected(a)||this.setCell(a,l);else{this._combined={},this._extendedAttrs={};for(let a=0;a<this.length;++a)this.setCell(a,l)}}copyFrom(l){this.length!==l.length?this._data=new Uint32Array(l._data):this._data.set(l._data),this.length=l.length,this._combined={};for(const o in l._combined)this._combined[o]=l._combined[o];this._extendedAttrs={};for(const o in l._extendedAttrs)this._extendedAttrs[o]=l._extendedAttrs[o];this.isWrapped=l.isWrapped}clone(){const l=new w(0);l._data=new Uint32Array(this._data),l.length=this.length;for(const o in this._combined)l._combined[o]=this._combined[o];for(const o in this._extendedAttrs)l._extendedAttrs[o]=this._extendedAttrs[o];return l.isWrapped=this.isWrapped,l}getTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0])return l+(this._data[3*l+0]>>22);return 0}getNoBgTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0]||50331648&this._data[3*l+2])return l+(this._data[3*l+0]>>22);return 0}copyCellsFrom(l,o,a,h,g){const x=l._data;if(g)for(let b=h-1;b>=0;b--){for(let S=0;S<3;S++)this._data[3*(a+b)+S]=x[3*(o+b)+S];268435456&x[3*(o+b)+2]&&(this._extendedAttrs[a+b]=l._extendedAttrs[o+b])}else for(let b=0;b<h;b++){for(let S=0;S<3;S++)this._data[3*(a+b)+S]=x[3*(o+b)+S];268435456&x[3*(o+b)+2]&&(this._extendedAttrs[a+b]=l._extendedAttrs[o+b])}const y=Object.keys(l._combined);for(let b=0;b<y.length;b++){const S=parseInt(y[b],10);S>=o&&(this._combined[S-o+a]=l._combined[S])}}translateToString(l,o,a,h){o=o??0,a=a??this.length,l&&(a=Math.min(a,this.getTrimmedLength())),h&&(h.length=0);let g="";for(;o<a;){const x=this._data[3*o+0],y=2097151&x,b=2097152&x?this._combined[o]:y?(0,p.stringFromCodePoint)(y):u.WHITESPACE_CELL_CHAR;if(g+=b,h)for(let S=0;S<b.length;++S)h.push(o);o+=x>>22||1}return h&&h.push(o),g}}s.BufferLine=w},4841:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(n,_){if(n.start.y>n.end.y)throw new Error(`Buffer range end (${n.end.x}, ${n.end.y}) cannot be before start (${n.start.x}, ${n.start.y})`);return _*(n.end.y-n.start.y)+(n.end.x-n.start.x+1)}},4634:(m,s)=>{function n(_,v,u){if(v===_.length-1)return _[v].getTrimmedLength();const p=!_[v].hasContent(u-1)&&_[v].getWidth(u-1)===1,C=_[v+1].getWidth(0)===2;return p&&C?u-1:u}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(_,v,u,p,C){const w=[];for(let f=0;f<_.length-1;f++){let l=f,o=_.get(++l);if(!o.isWrapped)continue;const a=[_.get(f)];for(;l<_.length&&o.isWrapped;)a.push(o),o=_.get(++l);if(p>=f&&p<l){f+=a.length-1;continue}let h=0,g=n(a,h,v),x=1,y=0;for(;x<a.length;){const S=n(a,x,v),E=S-y,L=u-g,A=Math.min(E,L);a[h].copyCellsFrom(a[x],y,g,A,!1),g+=A,g===u&&(h++,g=0),y+=A,y===S&&(x++,y=0),g===0&&h!==0&&a[h-1].getWidth(u-1)===2&&(a[h].copyCellsFrom(a[h-1],u-1,g++,1,!1),a[h-1].setCell(u-1,C))}a[h].replaceCells(g,u,C);let b=0;for(let S=a.length-1;S>0&&(S>h||a[S].getTrimmedLength()===0);S--)b++;b>0&&(w.push(f+a.length-b),w.push(b)),f+=a.length-1}return w},s.reflowLargerCreateNewLayout=function(_,v){const u=[];let p=0,C=v[p],w=0;for(let f=0;f<_.length;f++)if(C===f){const l=v[++p];_.onDeleteEmitter.fire({index:f-w,amount:l}),f+=l-1,w+=l,C=v[++p]}else u.push(f);return{layout:u,countRemoved:w}},s.reflowLargerApplyNewLayout=function(_,v){const u=[];for(let p=0;p<v.length;p++)u.push(_.get(v[p]));for(let p=0;p<u.length;p++)_.set(p,u[p]);_.length=v.length},s.reflowSmallerGetNewLineLengths=function(_,v,u){const p=[],C=_.map((o,a)=>n(_,a,v)).reduce((o,a)=>o+a);let w=0,f=0,l=0;for(;l<C;){if(C-l<u){p.push(C-l);break}w+=u;const o=n(_,f,v);w>o&&(w-=o,f++);const a=_[f].getWidth(w-1)===2;a&&w--;const h=a?u-1:u;p.push(h),l+=h}return p},s.getWrappedLineTrimmedLength=n},5295:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const _=n(8460),v=n(844),u=n(9092);class p extends v.Disposable{constructor(w,f){super(),this._optionsService=w,this._bufferService=f,this._onBufferActivate=this.register(new _.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,f){this._normal.resize(w,f),this._alt.resize(w,f),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}s.BufferSet=p},511:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const _=n(482),v=n(643),u=n(3734);class p extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const f=new p;return f.setFromCharData(w),f}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,_.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let f=!1;if(w[v.CHAR_DATA_CHAR_INDEX].length>2)f=!0;else if(w[v.CHAR_DATA_CHAR_INDEX].length===2){const l=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){const o=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&o<=57343?this.content=1024*(l-55296)+o-56320+65536|w[v.CHAR_DATA_WIDTH_INDEX]<<22:f=!0}else f=!0}else this.content=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[v.CHAR_DATA_WIDTH_INDEX]<<22;f&&(this.combinedData=w[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=p},643:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const _=n(8460),v=n(844);class u{get id(){return this._id}constructor(C){this.line=C,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new _.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(C){return this._disposables.push(C),C}}s.Marker=u,u._nextId=1},7116:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},s.CHARSETS.A={"#":""},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},s.CHARSETS.C=s.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},s.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},s.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.E=s.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},s.CHARSETS.H=s.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(m,s)=>{var n,_,v;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(n||(s.C0=n={})),function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""}(_||(s.C1=_={})),function(u){u.ST=`${n.ESC}\\`}(v||(s.C1_ESCAPED=v={}))},7399:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const _=n(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(u,p,C,w){const f={type:0,cancel:!1,key:void 0},l=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?f.key=p?_.C0.ESC+"OA":_.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?f.key=p?_.C0.ESC+"OD":_.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?f.key=p?_.C0.ESC+"OC":_.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(f.key=p?_.C0.ESC+"OB":_.C0.ESC+"[B");break;case 8:f.key=u.ctrlKey?"\b":_.C0.DEL,u.altKey&&(f.key=_.C0.ESC+f.key);break;case 9:if(u.shiftKey){f.key=_.C0.ESC+"[Z";break}f.key=_.C0.HT,f.cancel=!0;break;case 13:f.key=u.altKey?_.C0.ESC+_.C0.CR:_.C0.CR,f.cancel=!0;break;case 27:f.key=_.C0.ESC,u.altKey&&(f.key=_.C0.ESC+_.C0.ESC),f.cancel=!0;break;case 37:if(u.metaKey)break;l?(f.key=_.C0.ESC+"[1;"+(l+1)+"D",f.key===_.C0.ESC+"[1;3D"&&(f.key=_.C0.ESC+(C?"b":"[1;5D"))):f.key=p?_.C0.ESC+"OD":_.C0.ESC+"[D";break;case 39:if(u.metaKey)break;l?(f.key=_.C0.ESC+"[1;"+(l+1)+"C",f.key===_.C0.ESC+"[1;3C"&&(f.key=_.C0.ESC+(C?"f":"[1;5C"))):f.key=p?_.C0.ESC+"OC":_.C0.ESC+"[C";break;case 38:if(u.metaKey)break;l?(f.key=_.C0.ESC+"[1;"+(l+1)+"A",C||f.key!==_.C0.ESC+"[1;3A"||(f.key=_.C0.ESC+"[1;5A")):f.key=p?_.C0.ESC+"OA":_.C0.ESC+"[A";break;case 40:if(u.metaKey)break;l?(f.key=_.C0.ESC+"[1;"+(l+1)+"B",C||f.key!==_.C0.ESC+"[1;3B"||(f.key=_.C0.ESC+"[1;5B")):f.key=p?_.C0.ESC+"OB":_.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(f.key=_.C0.ESC+"[2~");break;case 46:f.key=l?_.C0.ESC+"[3;"+(l+1)+"~":_.C0.ESC+"[3~";break;case 36:f.key=l?_.C0.ESC+"[1;"+(l+1)+"H":p?_.C0.ESC+"OH":_.C0.ESC+"[H";break;case 35:f.key=l?_.C0.ESC+"[1;"+(l+1)+"F":p?_.C0.ESC+"OF":_.C0.ESC+"[F";break;case 33:u.shiftKey?f.type=2:u.ctrlKey?f.key=_.C0.ESC+"[5;"+(l+1)+"~":f.key=_.C0.ESC+"[5~";break;case 34:u.shiftKey?f.type=3:u.ctrlKey?f.key=_.C0.ESC+"[6;"+(l+1)+"~":f.key=_.C0.ESC+"[6~";break;case 112:f.key=l?_.C0.ESC+"[1;"+(l+1)+"P":_.C0.ESC+"OP";break;case 113:f.key=l?_.C0.ESC+"[1;"+(l+1)+"Q":_.C0.ESC+"OQ";break;case 114:f.key=l?_.C0.ESC+"[1;"+(l+1)+"R":_.C0.ESC+"OR";break;case 115:f.key=l?_.C0.ESC+"[1;"+(l+1)+"S":_.C0.ESC+"OS";break;case 116:f.key=l?_.C0.ESC+"[15;"+(l+1)+"~":_.C0.ESC+"[15~";break;case 117:f.key=l?_.C0.ESC+"[17;"+(l+1)+"~":_.C0.ESC+"[17~";break;case 118:f.key=l?_.C0.ESC+"[18;"+(l+1)+"~":_.C0.ESC+"[18~";break;case 119:f.key=l?_.C0.ESC+"[19;"+(l+1)+"~":_.C0.ESC+"[19~";break;case 120:f.key=l?_.C0.ESC+"[20;"+(l+1)+"~":_.C0.ESC+"[20~";break;case 121:f.key=l?_.C0.ESC+"[21;"+(l+1)+"~":_.C0.ESC+"[21~";break;case 122:f.key=l?_.C0.ESC+"[23;"+(l+1)+"~":_.C0.ESC+"[23~";break;case 123:f.key=l?_.C0.ESC+"[24;"+(l+1)+"~":_.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(C&&!w||!u.altKey||u.metaKey)!C||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?f.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(f.key=_.C0.US),u.key==="@"&&(f.key=_.C0.NUL)):u.keyCode===65&&(f.type=1);else{const o=v[u.keyCode],a=o?.[u.shiftKey?1:0];if(a)f.key=_.C0.ESC+a;else if(u.keyCode>=65&&u.keyCode<=90){const h=u.ctrlKey?u.keyCode-64:u.keyCode+32;let g=String.fromCharCode(h);u.shiftKey&&(g=g.toUpperCase()),f.key=_.C0.ESC+g}else if(u.keyCode===32)f.key=_.C0.ESC+(u.ctrlKey?_.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let h=u.code.slice(3,4);u.shiftKey||(h=h.toLowerCase()),f.key=_.C0.ESC+h,f.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?f.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?f.key=_.C0.NUL:u.keyCode>=51&&u.keyCode<=55?f.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?f.key=_.C0.DEL:u.keyCode===219?f.key=_.C0.ESC:u.keyCode===220?f.key=_.C0.FS:u.keyCode===221&&(f.key=_.C0.GS)}return f}},482:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},s.utf32ToString=function(n,_=0,v=n.length){let u="";for(let p=_;p<v;++p){let C=n[p];C>65535?(C-=65536,u+=String.fromCharCode(55296+(C>>10))+String.fromCharCode(C%1024+56320)):u+=String.fromCharCode(C)}return u},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,_){const v=n.length;if(!v)return 0;let u=0,p=0;if(this._interim){const C=n.charCodeAt(p++);56320<=C&&C<=57343?_[u++]=1024*(this._interim-55296)+C-56320+65536:(_[u++]=this._interim,_[u++]=C),this._interim=0}for(let C=p;C<v;++C){const w=n.charCodeAt(C);if(55296<=w&&w<=56319){if(++C>=v)return this._interim=w,u;const f=n.charCodeAt(C);56320<=f&&f<=57343?_[u++]=1024*(w-55296)+f-56320+65536:(_[u++]=w,_[u++]=f)}else w!==65279&&(_[u++]=w)}return u}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,_){const v=n.length;if(!v)return 0;let u,p,C,w,f=0,l=0,o=0;if(this.interim[0]){let g=!1,x=this.interim[0];x&=(224&x)==192?31:(240&x)==224?15:7;let y,b=0;for(;(y=63&this.interim[++b])&&b<4;)x<<=6,x|=y;const S=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=S-b;for(;o<E;){if(o>=v)return 0;if(y=n[o++],(192&y)!=128){o--,g=!0;break}this.interim[b++]=y,x<<=6,x|=63&y}g||(S===2?x<128?o--:_[f++]=x:S===3?x<2048||x>=55296&&x<=57343||x===65279||(_[f++]=x):x<65536||x>1114111||(_[f++]=x)),this.interim.fill(0)}const a=v-4;let h=o;for(;h<v;){for(;!(!(h<a)||128&(u=n[h])||128&(p=n[h+1])||128&(C=n[h+2])||128&(w=n[h+3]));)_[f++]=u,_[f++]=p,_[f++]=C,_[f++]=w,h+=4;if(u=n[h++],u<128)_[f++]=u;else if((224&u)==192){if(h>=v)return this.interim[0]=u,f;if(p=n[h++],(192&p)!=128){h--;continue}if(l=(31&u)<<6|63&p,l<128){h--;continue}_[f++]=l}else if((240&u)==224){if(h>=v)return this.interim[0]=u,f;if(p=n[h++],(192&p)!=128){h--;continue}if(h>=v)return this.interim[0]=u,this.interim[1]=p,f;if(C=n[h++],(192&C)!=128){h--;continue}if(l=(15&u)<<12|(63&p)<<6|63&C,l<2048||l>=55296&&l<=57343||l===65279)continue;_[f++]=l}else if((248&u)==240){if(h>=v)return this.interim[0]=u,f;if(p=n[h++],(192&p)!=128){h--;continue}if(h>=v)return this.interim[0]=u,this.interim[1]=p,f;if(C=n[h++],(192&C)!=128){h--;continue}if(h>=v)return this.interim[0]=u,this.interim[1]=p,this.interim[2]=C,f;if(w=n[h++],(192&w)!=128){h--;continue}if(l=(7&u)<<18|(63&p)<<12|(63&C)<<6|63&w,l<65536||l>1114111)continue;_[f++]=l}}return f}}},225:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const _=n(1480),v=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let p;s.UnicodeV6=class{constructor(){if(this.version="6",!p){p=new Uint8Array(65536),p.fill(1),p[0]=0,p.fill(0,1,32),p.fill(0,127,160),p.fill(2,4352,4448),p[9001]=2,p[9002]=2,p.fill(2,11904,42192),p[12351]=1,p.fill(2,44032,55204),p.fill(2,63744,64256),p.fill(2,65040,65050),p.fill(2,65072,65136),p.fill(2,65280,65377),p.fill(2,65504,65511);for(let C=0;C<v.length;++C)p.fill(0,v[C][0],v[C][1]+1)}}wcwidth(C){return C<32?0:C<127?1:C<65536?p[C]:function(w,f){let l,o=0,a=f.length-1;if(w<f[0][0]||w>f[a][1])return!1;for(;a>=o;)if(l=o+a>>1,w>f[l][1])o=l+1;else{if(!(w<f[l][0]))return!0;a=l-1}return!1}(C,u)?0:C>=131072&&C<=196605||C>=196608&&C<=262141?2:1}charProperties(C,w){let f=this.wcwidth(C),l=f===0&&w!==0;if(l){const o=_.UnicodeService.extractWidth(w);o===0?l=!1:o>f&&(f=o)}return _.UnicodeService.createPropertyValue(0,f,l)}}},5981:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const _=n(8460),v=n(844);class u extends v.Disposable{constructor(C){super(),this._action=C,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new _.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(C,w){if(w!==void 0&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=C.length,this._writeBuffer.push(C),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let f;for(this._isSyncWriting=!0;f=this._writeBuffer.shift();){this._action(f);const l=this._callbacks.shift();l&&l()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(C,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=C.length,this._writeBuffer.push(C),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=C.length,this._writeBuffer.push(C),this._callbacks.push(w)}_innerWrite(C=0,w=!0){const f=C||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const l=this._writeBuffer[this._bufferOffset],o=this._action(l,w);if(o){const h=g=>Date.now()-f>=12?setTimeout(()=>this._innerWrite(0,g)):this._innerWrite(f,g);return void o.catch(g=>(queueMicrotask(()=>{throw g}),Promise.resolve(!1))).then(h)}const a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=l.length,Date.now()-f>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=u},5941:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const n=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,_=/^[\da-f]+$/;function v(u,p){const C=u.toString(16),w=C.length<2?"0"+C:C;switch(p){case 4:return C[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}s.parseColor=function(u){if(!u)return;let p=u.toLowerCase();if(p.indexOf("rgb:")===0){p=p.slice(4);const C=n.exec(p);if(C){const w=C[1]?15:C[4]?255:C[7]?4095:65535;return[Math.round(parseInt(C[1]||C[4]||C[7]||C[10],16)/w*255),Math.round(parseInt(C[2]||C[5]||C[8]||C[11],16)/w*255),Math.round(parseInt(C[3]||C[6]||C[9]||C[12],16)/w*255)]}}else if(p.indexOf("#")===0&&(p=p.slice(1),_.exec(p)&&[3,6,9,12].includes(p.length))){const C=p.length/3,w=[0,0,0];for(let f=0;f<3;++f){const l=parseInt(p.slice(C*f,C*f+C),16);w[f]=C===1?l<<4:C===2?l:C===3?l>>4:l>>8}return w}},s.toRgbString=function(u,p=16){const[C,w,f]=u;return`rgb:${v(C,p)}/${v(w,p)}/${v(f,p)}`}},5770:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const _=n(482),v=n(8742),u=n(5770),p=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=p,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}registerHandler(w,f){this._handlers[w]===void 0&&(this._handlers[w]=[]);const l=this._handlers[w];return l.push(f),{dispose:()=>{const o=l.indexOf(f);o!==-1&&l.splice(o,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=p,this._ident=0}hook(w,f){if(this.reset(),this._ident=w,this._active=this._handlers[w]||p,this._active.length)for(let l=this._active.length-1;l>=0;l--)this._active[l].hook(f);else this._handlerFb(this._ident,"HOOK",f)}put(w,f,l){if(this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].put(w,f,l);else this._handlerFb(this._ident,"PUT",(0,_.utf32ToString)(w,f,l))}unhook(w,f=!0){if(this._active.length){let l=!1,o=this._active.length-1,a=!1;if(this._stack.paused&&(o=this._stack.loopPosition-1,l=f,a=this._stack.fallThrough,this._stack.paused=!1),!a&&l===!1){for(;o>=0&&(l=this._active[o].unhook(w),l!==!0);o--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!1,l;o--}for(;o>=0;o--)if(l=this._active[o].unhook(!1),l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!0,l}else this._handlerFb(this._ident,"UNHOOK",w);this._active=p,this._ident=0}};const C=new v.Params;C.addParam(0),s.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=C,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():C,this._data="",this._hitLimit=!1}put(w,f,l){this._hitLimit||(this._data+=(0,_.utf32ToString)(w,f,l),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let f=!1;if(this._hitLimit)f=!1;else if(w&&(f=this._handler(this._data,this._params),f instanceof Promise))return f.then(l=>(this._params=C,this._data="",this._hitLimit=!1,l));return this._params=C,this._data="",this._hitLimit=!1,f}}},2015:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const _=n(844),v=n(8742),u=n(6242),p=n(6351);class C{constructor(o){this.table=new Uint8Array(o)}setDefault(o,a){this.table.fill(o<<4|a)}add(o,a,h,g){this.table[a<<8|o]=h<<4|g}addMany(o,a,h,g){for(let x=0;x<o.length;x++)this.table[a<<8|o[x]]=h<<4|g}}s.TransitionTable=C;const w=160;s.VT500_TRANSITION_TABLE=function(){const l=new C(4095),o=Array.apply(null,Array(256)).map((b,S)=>S),a=(b,S)=>o.slice(b,S),h=a(32,127),g=a(0,24);g.push(25),g.push.apply(g,a(28,32));const x=a(0,14);let y;for(y in l.setDefault(1,0),l.addMany(h,0,2,0),x)l.addMany([24,26,153,154],y,3,0),l.addMany(a(128,144),y,3,0),l.addMany(a(144,152),y,3,0),l.add(156,y,0,0),l.add(27,y,11,1),l.add(157,y,4,8),l.addMany([152,158,159],y,0,7),l.add(155,y,11,3),l.add(144,y,11,9);return l.addMany(g,0,3,0),l.addMany(g,1,3,1),l.add(127,1,0,1),l.addMany(g,8,0,8),l.addMany(g,3,3,3),l.add(127,3,0,3),l.addMany(g,4,3,4),l.add(127,4,0,4),l.addMany(g,6,3,6),l.addMany(g,5,3,5),l.add(127,5,0,5),l.addMany(g,2,3,2),l.add(127,2,0,2),l.add(93,1,4,8),l.addMany(h,8,5,8),l.add(127,8,5,8),l.addMany([156,27,24,26,7],8,6,0),l.addMany(a(28,32),8,0,8),l.addMany([88,94,95],1,0,7),l.addMany(h,7,0,7),l.addMany(g,7,0,7),l.add(156,7,0,0),l.add(127,7,0,7),l.add(91,1,11,3),l.addMany(a(64,127),3,7,0),l.addMany(a(48,60),3,8,4),l.addMany([60,61,62,63],3,9,4),l.addMany(a(48,60),4,8,4),l.addMany(a(64,127),4,7,0),l.addMany([60,61,62,63],4,0,6),l.addMany(a(32,64),6,0,6),l.add(127,6,0,6),l.addMany(a(64,127),6,0,0),l.addMany(a(32,48),3,9,5),l.addMany(a(32,48),5,9,5),l.addMany(a(48,64),5,0,6),l.addMany(a(64,127),5,7,0),l.addMany(a(32,48),4,9,5),l.addMany(a(32,48),1,9,2),l.addMany(a(32,48),2,9,2),l.addMany(a(48,127),2,10,0),l.addMany(a(48,80),1,10,0),l.addMany(a(81,88),1,10,0),l.addMany([89,90,92],1,10,0),l.addMany(a(96,127),1,10,0),l.add(80,1,11,9),l.addMany(g,9,0,9),l.add(127,9,0,9),l.addMany(a(28,32),9,0,9),l.addMany(a(32,48),9,9,12),l.addMany(a(48,60),9,8,10),l.addMany([60,61,62,63],9,9,10),l.addMany(g,11,0,11),l.addMany(a(32,128),11,0,11),l.addMany(a(28,32),11,0,11),l.addMany(g,10,0,10),l.add(127,10,0,10),l.addMany(a(28,32),10,0,10),l.addMany(a(48,60),10,8,10),l.addMany([60,61,62,63],10,0,11),l.addMany(a(32,48),10,9,12),l.addMany(g,12,0,12),l.add(127,12,0,12),l.addMany(a(28,32),12,0,12),l.addMany(a(32,48),12,9,12),l.addMany(a(48,64),12,0,11),l.addMany(a(64,127),12,12,13),l.addMany(a(64,127),10,12,13),l.addMany(a(64,127),9,12,13),l.addMany(g,13,13,13),l.addMany(h,13,13,13),l.add(127,13,0,13),l.addMany([27,156,24,26],13,14,0),l.add(w,0,2,0),l.add(w,8,5,8),l.add(w,6,0,6),l.add(w,11,0,11),l.add(w,13,13,13),l}();class f extends _.Disposable{constructor(o=s.VT500_TRANSITION_TABLE){super(),this._transitions=o,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(a,h,g)=>{},this._executeHandlerFb=a=>{},this._csiHandlerFb=(a,h)=>{},this._escHandlerFb=a=>{},this._errorHandlerFb=a=>a,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,_.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new p.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(o,a=[64,126]){let h=0;if(o.prefix){if(o.prefix.length>1)throw new Error("only one byte as prefix supported");if(h=o.prefix.charCodeAt(0),h&&60>h||h>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(o.intermediates){if(o.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let x=0;x<o.intermediates.length;++x){const y=o.intermediates.charCodeAt(x);if(32>y||y>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");h<<=8,h|=y}}if(o.final.length!==1)throw new Error("final must be a single byte");const g=o.final.charCodeAt(0);if(a[0]>g||g>a[1])throw new Error(`final must be in range ${a[0]} .. ${a[1]}`);return h<<=8,h|=g,h}identToString(o){const a=[];for(;o;)a.push(String.fromCharCode(255&o)),o>>=8;return a.reverse().join("")}setPrintHandler(o){this._printHandler=o}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(o,a){const h=this._identifier(o,[48,126]);this._escHandlers[h]===void 0&&(this._escHandlers[h]=[]);const g=this._escHandlers[h];return g.push(a),{dispose:()=>{const x=g.indexOf(a);x!==-1&&g.splice(x,1)}}}clearEscHandler(o){this._escHandlers[this._identifier(o,[48,126])]&&delete this._escHandlers[this._identifier(o,[48,126])]}setEscHandlerFallback(o){this._escHandlerFb=o}setExecuteHandler(o,a){this._executeHandlers[o.charCodeAt(0)]=a}clearExecuteHandler(o){this._executeHandlers[o.charCodeAt(0)]&&delete this._executeHandlers[o.charCodeAt(0)]}setExecuteHandlerFallback(o){this._executeHandlerFb=o}registerCsiHandler(o,a){const h=this._identifier(o);this._csiHandlers[h]===void 0&&(this._csiHandlers[h]=[]);const g=this._csiHandlers[h];return g.push(a),{dispose:()=>{const x=g.indexOf(a);x!==-1&&g.splice(x,1)}}}clearCsiHandler(o){this._csiHandlers[this._identifier(o)]&&delete this._csiHandlers[this._identifier(o)]}setCsiHandlerFallback(o){this._csiHandlerFb=o}registerDcsHandler(o,a){return this._dcsParser.registerHandler(this._identifier(o),a)}clearDcsHandler(o){this._dcsParser.clearHandler(this._identifier(o))}setDcsHandlerFallback(o){this._dcsParser.setHandlerFallback(o)}registerOscHandler(o,a){return this._oscParser.registerHandler(o,a)}clearOscHandler(o){this._oscParser.clearHandler(o)}setOscHandlerFallback(o){this._oscParser.setHandlerFallback(o)}setErrorHandler(o){this._errorHandler=o}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(o,a,h,g,x){this._parseStack.state=o,this._parseStack.handlers=a,this._parseStack.handlerPos=h,this._parseStack.transition=g,this._parseStack.chunkPos=x}parse(o,a,h){let g,x=0,y=0,b=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,b=this._parseStack.chunkPos+1;else{if(h===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const S=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(h===!1&&E>-1){for(;E>=0&&(g=S[E](this._params),g!==!0);E--)if(g instanceof Promise)return this._parseStack.handlerPos=E,g}this._parseStack.handlers=[];break;case 4:if(h===!1&&E>-1){for(;E>=0&&(g=S[E](),g!==!0);E--)if(g instanceof Promise)return this._parseStack.handlerPos=E,g}this._parseStack.handlers=[];break;case 6:if(x=o[this._parseStack.chunkPos],g=this._dcsParser.unhook(x!==24&&x!==26,h),g)return g;x===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(x=o[this._parseStack.chunkPos],g=this._oscParser.end(x!==24&&x!==26,h),g)return g;x===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,b=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let S=b;S<a;++S){switch(x=o[S],y=this._transitions.table[this.currentState<<8|(x<160?x:w)],y>>4){case 2:for(let D=S+1;;++D){if(D>=a||(x=o[D])<32||x>126&&x<w){this._printHandler(o,S,D),S=D-1;break}if(++D>=a||(x=o[D])<32||x>126&&x<w){this._printHandler(o,S,D),S=D-1;break}if(++D>=a||(x=o[D])<32||x>126&&x<w){this._printHandler(o,S,D),S=D-1;break}if(++D>=a||(x=o[D])<32||x>126&&x<w){this._printHandler(o,S,D),S=D-1;break}}break;case 3:this._executeHandlers[x]?this._executeHandlers[x]():this._executeHandlerFb(x),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:S,code:x,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|x];let L=E?E.length-1:-1;for(;L>=0&&(g=E[L](this._params),g!==!0);L--)if(g instanceof Promise)return this._preserveStack(3,E,L,y,S),g;L<0&&this._csiHandlerFb(this._collect<<8|x,this._params),this.precedingJoinState=0;break;case 8:do switch(x){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(x-48)}while(++S<a&&(x=o[S])>47&&x<60);S--;break;case 9:this._collect<<=8,this._collect|=x;break;case 10:const A=this._escHandlers[this._collect<<8|x];let R=A?A.length-1:-1;for(;R>=0&&(g=A[R](),g!==!0);R--)if(g instanceof Promise)return this._preserveStack(4,A,R,y,S),g;R<0&&this._escHandlerFb(this._collect<<8|x),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|x,this._params);break;case 13:for(let D=S+1;;++D)if(D>=a||(x=o[D])===24||x===26||x===27||x>127&&x<w){this._dcsParser.put(o,S,D),S=D-1;break}break;case 14:if(g=this._dcsParser.unhook(x!==24&&x!==26),g)return this._preserveStack(6,[],0,y,S),g;x===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let D=S+1;;D++)if(D>=a||(x=o[D])<32||x>127&&x<w){this._oscParser.put(o,S,D),S=D-1;break}break;case 6:if(g=this._oscParser.end(x!==24&&x!==26),g)return this._preserveStack(5,[],0,y,S),g;x===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&y}}}s.EscapeSequenceParser=f},6242:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const _=n(5770),v=n(482),u=[];s.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(p,C){this._handlers[p]===void 0&&(this._handlers[p]=[]);const w=this._handlers[p];return w.push(C),{dispose:()=>{const f=w.indexOf(C);f!==-1&&w.splice(f,1)}}}clearHandler(p){this._handlers[p]&&delete this._handlers[p]}setHandlerFallback(p){this._handlerFb=p}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let p=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;p>=0;--p)this._active[p].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].start();else this._handlerFb(this._id,"START")}_put(p,C,w){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(p,C,w);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(p,C,w))}start(){this.reset(),this._state=1}put(p,C,w){if(this._state!==3){if(this._state===1)for(;C<w;){const f=p[C++];if(f===59){this._state=2,this._start();break}if(f<48||57<f)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+f-48}this._state===2&&w-C>0&&this._put(p,C,w)}}end(p,C=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let w=!1,f=this._active.length-1,l=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,w=C,l=this._stack.fallThrough,this._stack.paused=!1),!l&&w===!1){for(;f>=0&&(w=this._active[f].end(p),w!==!0);f--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,w;f--}for(;f>=0;f--)if(w=this._active[f].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",p);this._active=u,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(p){this._handler=p,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(p,C,w){this._hitLimit||(this._data+=(0,v.utf32ToString)(p,C,w),this._data.length>_.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(p){let C=!1;if(this._hitLimit)C=!1;else if(p&&(C=this._handler(this._data),C instanceof Promise))return C.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,C}}},8742:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const n=2147483647;class _{static fromArray(u){const p=new _;if(!u.length)return p;for(let C=Array.isArray(u[0])?1:0;C<u.length;++C){const w=u[C];if(Array.isArray(w))for(let f=0;f<w.length;++f)p.addSubParam(w[f]);else p.addParam(w)}return p}constructor(u=32,p=32){if(this.maxLength=u,this.maxSubParamsLength=p,p>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(p),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new _(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let p=0;p<this.length;++p){u.push(this.params[p]);const C=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];w-C>0&&u.push(Array.prototype.slice.call(this._subParams,C,w))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>n?n:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>n?n:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const p=this._subParamsIdx[u]>>8,C=255&this._subParamsIdx[u];return C-p>0?this._subParams.subarray(p,C):null}getSubParamsAll(){const u={};for(let p=0;p<this.length;++p){const C=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];w-C>0&&(u[p]=this._subParams.slice(C,w))}return u}addDigit(u){let p;if(this._rejectDigits||!(p=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const C=this._digitIsSub?this._subParams:this.params,w=C[p-1];C[p-1]=~w?Math.min(10*w+u,n):u}}s.Params=_},5741:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let n=this._addons.length-1;n>=0;n--)this._addons[n].instance.dispose()}loadAddon(n,_){const v={instance:_,dispose:_.dispose,isDisposed:!1};this._addons.push(v),_.dispose=()=>this._wrappedAddonDispose(v),_.activate(n)}_wrappedAddonDispose(n){if(n.isDisposed)return;let _=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===n){_=v;break}if(_===-1)throw new Error("Could not dispose an addon that has not been loaded");n.isDisposed=!0,n.dispose.apply(n.instance),this._addons.splice(_,1)}}},8771:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const _=n(3785),v=n(511);s.BufferApiView=class{constructor(u,p){this._buffer=u,this.type=p}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const p=this._buffer.lines.get(u);if(p)return new _.BufferLineApiView(p)}getNullCell(){return new v.CellData}}},3785:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const _=n(511);s.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,u){if(!(v<0||v>=this._line.length))return u?(this._line.loadCell(v,u),u):this._line.loadCell(v,new _.CellData)}translateToString(v,u,p){return this._line.translateToString(v,u,p)}}},8285:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const _=n(8771),v=n(8460),u=n(844);class p extends u.Disposable{constructor(w){super(),this._core=w,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new _.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new _.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}s.BufferNamespaceApi=p},7975:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(n){this._core=n}registerCsiHandler(n,_){return this._core.registerCsiHandler(n,v=>_(v.toArray()))}addCsiHandler(n,_){return this.registerCsiHandler(n,_)}registerDcsHandler(n,_){return this._core.registerDcsHandler(n,(v,u)=>_(v,u.toArray()))}addDcsHandler(n,_){return this.registerDcsHandler(n,_)}registerEscHandler(n,_){return this._core.registerEscHandler(n,_)}addEscHandler(n,_){return this.registerEscHandler(n,_)}registerOscHandler(n,_){return this._core.registerOscHandler(n,_)}addOscHandler(n,_){return this.registerOscHandler(n,_)}}},7090:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(n){this._core=n}register(n){this._core.unicodeService.register(n)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(n){this._core.unicodeService.activeVersion=n}}},744:function(m,s,n){var _=this&&this.__decorate||function(l,o,a,h){var g,x=arguments.length,y=x<3?o:h===null?h=Object.getOwnPropertyDescriptor(o,a):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(l,o,a,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(y=(x<3?g(y):x>3?g(o,a,y):g(o,a))||y);return x>3&&y&&Object.defineProperty(o,a,y),y},v=this&&this.__param||function(l,o){return function(a,h){o(a,h,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const u=n(8460),p=n(844),C=n(5295),w=n(2585);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let f=s.BufferService=class extends p.Disposable{get buffer(){return this.buffers.active}constructor(l){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(l.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(l.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new C.BufferSet(l,this))}resize(l,o){this.cols=l,this.rows=o,this.buffers.resize(l,o),this._onResize.fire({cols:l,rows:o})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(l,o=!1){const a=this.buffer;let h;h=this._cachedBlankLine,h&&h.length===this.cols&&h.getFg(0)===l.fg&&h.getBg(0)===l.bg||(h=a.getBlankLine(l,o),this._cachedBlankLine=h),h.isWrapped=o;const g=a.ybase+a.scrollTop,x=a.ybase+a.scrollBottom;if(a.scrollTop===0){const y=a.lines.isFull;x===a.lines.length-1?y?a.lines.recycle().copyFrom(h):a.lines.push(h.clone()):a.lines.splice(x+1,0,h.clone()),y?this.isUserScrolling&&(a.ydisp=Math.max(a.ydisp-1,0)):(a.ybase++,this.isUserScrolling||a.ydisp++)}else{const y=x-g+1;a.lines.shiftElements(g+1,y-1,-1),a.lines.set(x,h.clone())}this.isUserScrolling||(a.ydisp=a.ybase),this._onScroll.fire(a.ydisp)}scrollLines(l,o,a){const h=this.buffer;if(l<0){if(h.ydisp===0)return;this.isUserScrolling=!0}else l+h.ydisp>=h.ybase&&(this.isUserScrolling=!1);const g=h.ydisp;h.ydisp=Math.max(Math.min(h.ydisp+l,h.ybase),0),g!==h.ydisp&&(o||this._onScroll.fire(h.ydisp))}};s.BufferService=f=_([v(0,w.IOptionsService)],f)},7994:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(n){this.glevel=n,this.charset=this._charsets[n]}setgCharset(n,_){this._charsets[n]=_,this.glevel===n&&(this.charset=_)}}},1753:function(m,s,n){var _=this&&this.__decorate||function(h,g,x,y){var b,S=arguments.length,E=S<3?g:y===null?y=Object.getOwnPropertyDescriptor(g,x):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,g,x,y);else for(var L=h.length-1;L>=0;L--)(b=h[L])&&(E=(S<3?b(E):S>3?b(g,x,E):b(g,x))||E);return S>3&&E&&Object.defineProperty(g,x,E),E},v=this&&this.__param||function(h,g){return function(x,y){g(x,y,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const u=n(2585),p=n(8460),C=n(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:h=>h.button!==4&&h.action===1&&(h.ctrl=!1,h.alt=!1,h.shift=!1,!0)},VT200:{events:19,restrict:h=>h.action!==32},DRAG:{events:23,restrict:h=>h.action!==32||h.button!==3},ANY:{events:31,restrict:h=>!0}};function f(h,g){let x=(h.ctrl?16:0)|(h.shift?4:0)|(h.alt?8:0);return h.button===4?(x|=64,x|=h.action):(x|=3&h.button,4&h.button&&(x|=64),8&h.button&&(x|=128),h.action===32?x|=32:h.action!==0||g||(x|=3)),x}const l=String.fromCharCode,o={DEFAULT:h=>{const g=[f(h,!1)+32,h.col+32,h.row+32];return g[0]>255||g[1]>255||g[2]>255?"":`\x1B[M${l(g[0])}${l(g[1])}${l(g[2])}`},SGR:h=>{const g=h.action===0&&h.button!==4?"m":"M";return`\x1B[<${f(h,!0)};${h.col};${h.row}${g}`},SGR_PIXELS:h=>{const g=h.action===0&&h.button!==4?"m":"M";return`\x1B[<${f(h,!0)};${h.x};${h.y}${g}`}};let a=s.CoreMouseService=class extends C.Disposable{constructor(h,g){super(),this._bufferService=h,this._coreService=g,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new p.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const x of Object.keys(w))this.addProtocol(x,w[x]);for(const x of Object.keys(o))this.addEncoding(x,o[x]);this.reset()}addProtocol(h,g){this._protocols[h]=g}addEncoding(h,g){this._encodings[h]=g}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(h){if(!this._protocols[h])throw new Error(`unknown protocol "${h}"`);this._activeProtocol=h,this._onProtocolChange.fire(this._protocols[h].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(h){if(!this._encodings[h])throw new Error(`unknown encoding "${h}"`);this._activeEncoding=h}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(h){if(h.col<0||h.col>=this._bufferService.cols||h.row<0||h.row>=this._bufferService.rows||h.button===4&&h.action===32||h.button===3&&h.action!==32||h.button!==4&&(h.action===2||h.action===3)||(h.col++,h.row++,h.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,h,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(h))return!1;const g=this._encodings[this._activeEncoding](h);return g&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(g):this._coreService.triggerDataEvent(g,!0)),this._lastEvent=h,!0}explainEvents(h){return{down:!!(1&h),up:!!(2&h),drag:!!(4&h),move:!!(8&h),wheel:!!(16&h)}}_equalEvents(h,g,x){if(x){if(h.x!==g.x||h.y!==g.y)return!1}else if(h.col!==g.col||h.row!==g.row)return!1;return h.button===g.button&&h.action===g.action&&h.ctrl===g.ctrl&&h.alt===g.alt&&h.shift===g.shift}};s.CoreMouseService=a=_([v(0,u.IBufferService),v(1,u.ICoreService)],a)},6975:function(m,s,n){var _=this&&this.__decorate||function(a,h,g,x){var y,b=arguments.length,S=b<3?h:x===null?x=Object.getOwnPropertyDescriptor(h,g):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(a,h,g,x);else for(var E=a.length-1;E>=0;E--)(y=a[E])&&(S=(b<3?y(S):b>3?y(h,g,S):y(h,g))||S);return b>3&&S&&Object.defineProperty(h,g,S),S},v=this&&this.__param||function(a,h){return function(g,x){h(g,x,a)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const u=n(1439),p=n(8460),C=n(844),w=n(2585),f=Object.freeze({insertMode:!1}),l=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let o=s.CoreService=class extends C.Disposable{constructor(a,h,g){super(),this._bufferService=a,this._logService=h,this._optionsService=g,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new p.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new p.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new p.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new p.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(f),this.decPrivateModes=(0,u.clone)(l)}reset(){this.modes=(0,u.clone)(f),this.decPrivateModes=(0,u.clone)(l)}triggerDataEvent(a,h=!1){if(this._optionsService.rawOptions.disableStdin)return;const g=this._bufferService.buffer;h&&this._optionsService.rawOptions.scrollOnUserInput&&g.ybase!==g.ydisp&&this._onRequestScrollToBottom.fire(),h&&this._onUserInput.fire(),this._logService.debug(`sending data "${a}"`,()=>a.split("").map(x=>x.charCodeAt(0))),this._onData.fire(a)}triggerBinaryEvent(a){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${a}"`,()=>a.split("").map(h=>h.charCodeAt(0))),this._onBinary.fire(a))}};s.CoreService=o=_([v(0,w.IBufferService),v(1,w.ILogService),v(2,w.IOptionsService)],o)},9074:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const _=n(8055),v=n(8460),u=n(844),p=n(6106);let C=0,w=0;class f extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new p.SortedList(a=>a?.marker.line),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)(()=>this.reset()))}registerDecoration(a){if(a.marker.isDisposed)return;const h=new l(a);if(h){const g=h.marker.onDispose(()=>h.dispose());h.onDispose(()=>{h&&(this._decorations.delete(h)&&this._onDecorationRemoved.fire(h),g.dispose())}),this._decorations.insert(h),this._onDecorationRegistered.fire(h)}return h}reset(){for(const a of this._decorations.values())a.dispose();this._decorations.clear()}*getDecorationsAtCell(a,h,g){let x=0,y=0;for(const b of this._decorations.getKeyIterator(h))x=b.options.x??0,y=x+(b.options.width??1),a>=x&&a<y&&(!g||(b.options.layer??"bottom")===g)&&(yield b)}forEachDecorationAtCell(a,h,g,x){this._decorations.forEachByKey(h,y=>{C=y.options.x??0,w=C+(y.options.width??1),a>=C&&a<w&&(!g||(y.options.layer??"bottom")===g)&&x(y)})}}s.DecorationService=f;class l extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=_.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=_.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(a){super(),this.options=a,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=a.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const _=n(2585),v=n(8343);class u{constructor(...C){this._entries=new Map;for(const[w,f]of C)this.set(w,f)}set(C,w){const f=this._entries.get(C);return this._entries.set(C,w),f}forEach(C){for(const[w,f]of this._entries.entries())C(w,f)}has(C){return this._entries.has(C)}get(C){return this._entries.get(C)}}s.ServiceCollection=u,s.InstantiationService=class{constructor(){this._services=new u,this._services.set(_.IInstantiationService,this)}setService(p,C){this._services.set(p,C)}getService(p){return this._services.get(p)}createInstance(p,...C){const w=(0,v.getServiceDependencies)(p).sort((o,a)=>o.index-a.index),f=[];for(const o of w){const a=this._services.get(o.id);if(!a)throw new Error(`[createInstance] ${p.name} depends on UNKNOWN service ${o.id}.`);f.push(a)}const l=w.length>0?w[0].index:C.length;if(C.length!==l)throw new Error(`[createInstance] First service dependency of ${p.name} at position ${l+1} conflicts with ${C.length} static arguments`);return new p(...C,...f)}}},7866:function(m,s,n){var _=this&&this.__decorate||function(l,o,a,h){var g,x=arguments.length,y=x<3?o:h===null?h=Object.getOwnPropertyDescriptor(o,a):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(l,o,a,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(y=(x<3?g(y):x>3?g(o,a,y):g(o,a))||y);return x>3&&y&&Object.defineProperty(o,a,y),y},v=this&&this.__param||function(l,o){return function(a,h){o(a,h,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const u=n(844),p=n(2585),C={trace:p.LogLevelEnum.TRACE,debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF};let w,f=s.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(l){super(),this._optionsService=l,this._logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),w=this}_updateLogLevel(){this._logLevel=C[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(l){for(let o=0;o<l.length;o++)typeof l[o]=="function"&&(l[o]=l[o]())}_log(l,o,a){this._evalLazyOptionalParams(a),l.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+o,...a)}trace(l,...o){this._logLevel<=p.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,l,o)}debug(l,...o){this._logLevel<=p.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,l,o)}info(l,...o){this._logLevel<=p.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,l,o)}warn(l,...o){this._logLevel<=p.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,l,o)}error(l,...o){this._logLevel<=p.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,l,o)}};s.LogService=f=_([v(0,p.IOptionsService)],f),s.setTraceLogger=function(l){w=l},s.traceCall=function(l,o,a){if(typeof a.value!="function")throw new Error("not supported");const h=a.value;a.value=function(...g){if(w.logLevel!==p.LogLevelEnum.TRACE)return h.apply(this,g);w.trace(`GlyphRenderer#${h.name}(${g.map(y=>JSON.stringify(y)).join(", ")})`);const x=h.apply(this,g);return w.trace(`GlyphRenderer#${h.name} return`,x),x}}},7302:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const _=n(8460),v=n(844),u=n(6114);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const p=["normal","bold","100","200","300","400","500","600","700","800","900"];class C extends v.Disposable{constructor(f){super(),this._onOptionChange=this.register(new _.EventEmitter),this.onOptionChange=this._onOptionChange.event;const l={...s.DEFAULT_OPTIONS};for(const o in f)if(o in l)try{const a=f[o];l[o]=this._sanitizeAndValidateOption(o,a)}catch(a){console.error(a)}this.rawOptions=l,this.options={...l},this._setupOptions(),this.register((0,v.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(f,l){return this.onOptionChange(o=>{o===f&&l(this.rawOptions[f])})}onMultipleOptionChange(f,l){return this.onOptionChange(o=>{f.indexOf(o)!==-1&&l()})}_setupOptions(){const f=o=>{if(!(o in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);return this.rawOptions[o]},l=(o,a)=>{if(!(o in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);a=this._sanitizeAndValidateOption(o,a),this.rawOptions[o]!==a&&(this.rawOptions[o]=a,this._onOptionChange.fire(o))};for(const o in this.rawOptions){const a={get:f.bind(this,o),set:l.bind(this,o)};Object.defineProperty(this.options,o,a)}}_sanitizeAndValidateOption(f,l){switch(f){case"cursorStyle":if(l||(l=s.DEFAULT_OPTIONS[f]),!function(o){return o==="block"||o==="underline"||o==="bar"}(l))throw new Error(`"${l}" is not a valid value for ${f}`);break;case"wordSeparator":l||(l=s.DEFAULT_OPTIONS[f]);break;case"fontWeight":case"fontWeightBold":if(typeof l=="number"&&1<=l&&l<=1e3)break;l=p.includes(l)?l:s.DEFAULT_OPTIONS[f];break;case"cursorWidth":l=Math.floor(l);case"lineHeight":case"tabStopWidth":if(l<1)throw new Error(`${f} cannot be less than 1, value: ${l}`);break;case"minimumContrastRatio":l=Math.max(1,Math.min(21,Math.round(10*l)/10));break;case"scrollback":if((l=Math.min(l,4294967295))<0)throw new Error(`${f} cannot be less than 0, value: ${l}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(l<=0)throw new Error(`${f} cannot be less than or equal to 0, value: ${l}`);break;case"rows":case"cols":if(!l&&l!==0)throw new Error(`${f} must be numeric, value: ${l}`);break;case"windowsPty":l=l??{}}return l}}s.OptionsService=C},2660:function(m,s,n){var _=this&&this.__decorate||function(C,w,f,l){var o,a=arguments.length,h=a<3?w:l===null?l=Object.getOwnPropertyDescriptor(w,f):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(C,w,f,l);else for(var g=C.length-1;g>=0;g--)(o=C[g])&&(h=(a<3?o(h):a>3?o(w,f,h):o(w,f))||h);return a>3&&h&&Object.defineProperty(w,f,h),h},v=this&&this.__param||function(C,w){return function(f,l){w(f,l,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const u=n(2585);let p=s.OscLinkService=class{constructor(C){this._bufferService=C,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(C){const w=this._bufferService.buffer;if(C.id===void 0){const g=w.addMarker(w.ybase+w.y),x={data:C,id:this._nextId++,lines:[g]};return g.onDispose(()=>this._removeMarkerFromLink(x,g)),this._dataByLinkId.set(x.id,x),x.id}const f=C,l=this._getEntryIdKey(f),o=this._entriesWithId.get(l);if(o)return this.addLineToLink(o.id,w.ybase+w.y),o.id;const a=w.addMarker(w.ybase+w.y),h={id:this._nextId++,key:this._getEntryIdKey(f),data:f,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(h,a)),this._entriesWithId.set(h.key,h),this._dataByLinkId.set(h.id,h),h.id}addLineToLink(C,w){const f=this._dataByLinkId.get(C);if(f&&f.lines.every(l=>l.line!==w)){const l=this._bufferService.buffer.addMarker(w);f.lines.push(l),l.onDispose(()=>this._removeMarkerFromLink(f,l))}}getLinkData(C){return this._dataByLinkId.get(C)?.data}_getEntryIdKey(C){return`${C.id};;${C.uri}`}_removeMarkerFromLink(C,w){const f=C.lines.indexOf(w);f!==-1&&(C.lines.splice(f,1),C.lines.length===0&&(C.data.id!==void 0&&this._entriesWithId.delete(C.key),this._dataByLinkId.delete(C.id)))}};s.OscLinkService=p=_([v(0,u.IBufferService)],p)},8343:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const n="di$target",_="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(v){return v[_]||[]},s.createDecorator=function(v){if(s.serviceRegistry.has(v))return s.serviceRegistry.get(v);const u=function(p,C,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(f,l,o){l[n]===l?l[_].push({id:f,index:o}):(l[_]=[{id:f,index:o}],l[n]=l)})(u,p,w)};return u.toString=()=>v,s.serviceRegistry.set(v,u),u}},2585:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const _=n(8343);var v;s.IBufferService=(0,_.createDecorator)("BufferService"),s.ICoreMouseService=(0,_.createDecorator)("CoreMouseService"),s.ICoreService=(0,_.createDecorator)("CoreService"),s.ICharsetService=(0,_.createDecorator)("CharsetService"),s.IInstantiationService=(0,_.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(v||(s.LogLevelEnum=v={})),s.ILogService=(0,_.createDecorator)("LogService"),s.IOptionsService=(0,_.createDecorator)("OptionsService"),s.IOscLinkService=(0,_.createDecorator)("OscLinkService"),s.IUnicodeService=(0,_.createDecorator)("UnicodeService"),s.IDecorationService=(0,_.createDecorator)("DecorationService")},1480:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const _=n(8460),v=n(225);class u{static extractShouldJoin(C){return(1&C)!=0}static extractWidth(C){return C>>1&3}static extractCharKind(C){return C>>3}static createPropertyValue(C,w,f=!1){return(16777215&C)<<3|(3&w)<<1|(f?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new _.EventEmitter,this.onChange=this._onChange.event;const C=new v.UnicodeV6;this.register(C),this._active=C.version,this._activeProvider=C}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(C){if(!this._providers[C])throw new Error(`unknown Unicode version "${C}"`);this._active=C,this._activeProvider=this._providers[C],this._onChange.fire(C)}register(C){this._providers[C.version]=C}wcwidth(C){return this._activeProvider.wcwidth(C)}getStringCellWidth(C){let w=0,f=0;const l=C.length;for(let o=0;o<l;++o){let a=C.charCodeAt(o);if(55296<=a&&a<=56319){if(++o>=l)return w+this.wcwidth(a);const x=C.charCodeAt(o);56320<=x&&x<=57343?a=1024*(a-55296)+x-56320+65536:w+=this.wcwidth(x)}const h=this.charProperties(a,f);let g=u.extractWidth(h);u.extractShouldJoin(h)&&(g-=u.extractWidth(f)),w+=g,f=h}return w}charProperties(C,w){return this._activeProvider.charProperties(C,w)}}s.UnicodeService=u}},i={};function c(m){var s=i[m];if(s!==void 0)return s.exports;var n=i[m]={exports:{}};return r[m].call(n.exports,n,n.exports,c),n.exports}var d={};return(()=>{var m=d;Object.defineProperty(m,"__esModule",{value:!0}),m.Terminal=void 0;const s=c(9042),n=c(3236),_=c(844),v=c(5741),u=c(8285),p=c(7975),C=c(7090),w=["cols","rows"];class f extends _.Disposable{constructor(o){super(),this._core=this.register(new n.Terminal(o)),this._addonManager=this.register(new v.AddonManager),this._publicOptions={...this._core.options};const a=g=>this._core.options[g],h=(g,x)=>{this._checkReadonlyOptions(g),this._core.options[g]=x};for(const g in this._core.options){const x={get:a.bind(this,g),set:h.bind(this,g)};Object.defineProperty(this._publicOptions,g,x)}}_checkReadonlyOptions(o){if(w.includes(o))throw new Error(`Option "${o}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new p.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new C.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const o=this._core.coreService.decPrivateModes;let a="none";switch(this._core.coreMouseService.activeProtocol){case"X10":a="x10";break;case"VT200":a="vt200";break;case"DRAG":a="drag";break;case"ANY":a="any"}return{applicationCursorKeysMode:o.applicationCursorKeys,applicationKeypadMode:o.applicationKeypad,bracketedPasteMode:o.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:a,originMode:o.origin,reverseWraparoundMode:o.reverseWraparound,sendFocusMode:o.sendFocus,wraparoundMode:o.wraparound}}get options(){return this._publicOptions}set options(o){for(const a in o)this._publicOptions[a]=o[a]}blur(){this._core.blur()}focus(){this._core.focus()}input(o,a=!0){this._core.input(o,a)}resize(o,a){this._verifyIntegers(o,a),this._core.resize(o,a)}open(o){this._core.open(o)}attachCustomKeyEventHandler(o){this._core.attachCustomKeyEventHandler(o)}attachCustomWheelEventHandler(o){this._core.attachCustomWheelEventHandler(o)}registerLinkProvider(o){return this._core.registerLinkProvider(o)}registerCharacterJoiner(o){return this._checkProposedApi(),this._core.registerCharacterJoiner(o)}deregisterCharacterJoiner(o){this._checkProposedApi(),this._core.deregisterCharacterJoiner(o)}registerMarker(o=0){return this._verifyIntegers(o),this._core.registerMarker(o)}registerDecoration(o){return this._checkProposedApi(),this._verifyPositiveIntegers(o.x??0,o.width??0,o.height??0),this._core.registerDecoration(o)}hasSelection(){return this._core.hasSelection()}select(o,a,h){this._verifyIntegers(o,a,h),this._core.select(o,a,h)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(o,a){this._verifyIntegers(o,a),this._core.selectLines(o,a)}dispose(){super.dispose()}scrollLines(o){this._verifyIntegers(o),this._core.scrollLines(o)}scrollPages(o){this._verifyIntegers(o),this._core.scrollPages(o)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(o){this._verifyIntegers(o),this._core.scrollToLine(o)}clear(){this._core.clear()}write(o,a){this._core.write(o,a)}writeln(o,a){this._core.write(o),this._core.write(`\r
`,a)}paste(o){this._core.paste(o)}refresh(o,a){this._verifyIntegers(o,a),this._core.refresh(o,a)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(o){this._addonManager.loadAddon(this,o)}static get strings(){return s}_verifyIntegers(...o){for(const a of o)if(a===1/0||isNaN(a)||a%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...o){for(const a of o)if(a&&(a===1/0||isNaN(a)||a%1!=0||a<0))throw new Error("This API only accepts positive integers")}}m.Terminal=f})(),d})())})(of);var ym=of.exports,lf={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={};return(()=>{var i=r;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(c){this._terminal=c}dispose(){}fit(){const c=this.proposeDimensions();if(!c||!this._terminal||isNaN(c.cols)||isNaN(c.rows))return;const d=this._terminal._core;this._terminal.rows===c.rows&&this._terminal.cols===c.cols||(d._renderService.clear(),this._terminal.resize(c.cols,c.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const c=this._terminal._core,d=c._renderService.dimensions;if(d.css.cell.width===0||d.css.cell.height===0)return;const m=this._terminal.options.scrollback===0?0:c.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(s.getPropertyValue("height")),_=Math.max(0,parseInt(s.getPropertyValue("width"))),v=window.getComputedStyle(this._terminal.element),u=n-(parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))),p=_-(parseInt(v.getPropertyValue("padding-right"))+parseInt(v.getPropertyValue("padding-left")))-m;return{cols:Math.max(2,Math.floor(p/d.css.cell.width)),rows:Math.max(1,Math.floor(u/d.css.cell.height))}}}})(),r})())})(lf);var Sm=lf.exports,cf={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={965:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlyphRenderer=void 0;const _=n(374),v=n(509),u=n(855),p=n(859),C=n(381),w=11,f=w*Float32Array.BYTES_PER_ELEMENT;let l,o=0,a=0,h=0;class g extends p.Disposable{constructor(y,b,S,E){super(),this._terminal=y,this._gl=b,this._dimensions=S,this._optionsService=E,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};const L=this._gl;v.TextureAtlas.maxAtlasPages===void 0&&(v.TextureAtlas.maxAtlasPages=Math.min(32,(0,_.throwIfFalsy)(L.getParameter(L.MAX_TEXTURE_IMAGE_UNITS))),v.TextureAtlas.maxTextureSize=(0,_.throwIfFalsy)(L.getParameter(L.MAX_TEXTURE_SIZE))),this._program=(0,_.throwIfFalsy)((0,C.createProgram)(L,`#version 300 es
layout (location = 0) in vec2 a_unitquad;
layout (location = 1) in vec2 a_cellpos;
layout (location = 2) in vec2 a_offset;
layout (location = 3) in vec2 a_size;
layout (location = 4) in float a_texpage;
layout (location = 5) in vec2 a_texcoord;
layout (location = 6) in vec2 a_texsize;

uniform mat4 u_projection;
uniform vec2 u_resolution;

out vec2 v_texcoord;
flat out int v_texpage;

void main() {
  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_texpage = int(a_texpage);
  v_texcoord = a_texcoord + a_unitquad * a_texsize;
}`,function($){let j="";for(let O=1;O<$;O++)j+=` else if (v_texpage == ${O}) { outColor = texture(u_texture[${O}], v_texcoord); }`;return`#version 300 es
precision lowp float;

in vec2 v_texcoord;
flat in int v_texpage;

uniform sampler2D u_texture[${$}];

out vec4 outColor;

void main() {
  if (v_texpage == 0) {
    outColor = texture(u_texture[0], v_texcoord);
  } ${j}
}`}(v.TextureAtlas.maxAtlasPages))),this.register((0,p.toDisposable)(()=>L.deleteProgram(this._program))),this._projectionLocation=(0,_.throwIfFalsy)(L.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=(0,_.throwIfFalsy)(L.getUniformLocation(this._program,"u_resolution")),this._textureLocation=(0,_.throwIfFalsy)(L.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=L.createVertexArray(),L.bindVertexArray(this._vertexArrayObject);const A=new Float32Array([0,0,1,0,0,1,1,1]),R=L.createBuffer();this.register((0,p.toDisposable)(()=>L.deleteBuffer(R))),L.bindBuffer(L.ARRAY_BUFFER,R),L.bufferData(L.ARRAY_BUFFER,A,L.STATIC_DRAW),L.enableVertexAttribArray(0),L.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);const D=new Uint8Array([0,1,2,3]),P=L.createBuffer();this.register((0,p.toDisposable)(()=>L.deleteBuffer(P))),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,P),L.bufferData(L.ELEMENT_ARRAY_BUFFER,D,L.STATIC_DRAW),this._attributesBuffer=(0,_.throwIfFalsy)(L.createBuffer()),this.register((0,p.toDisposable)(()=>L.deleteBuffer(this._attributesBuffer))),L.bindBuffer(L.ARRAY_BUFFER,this._attributesBuffer),L.enableVertexAttribArray(2),L.vertexAttribPointer(2,2,L.FLOAT,!1,f,0),L.vertexAttribDivisor(2,1),L.enableVertexAttribArray(3),L.vertexAttribPointer(3,2,L.FLOAT,!1,f,2*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(3,1),L.enableVertexAttribArray(4),L.vertexAttribPointer(4,1,L.FLOAT,!1,f,4*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(4,1),L.enableVertexAttribArray(5),L.vertexAttribPointer(5,2,L.FLOAT,!1,f,5*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(5,1),L.enableVertexAttribArray(6),L.vertexAttribPointer(6,2,L.FLOAT,!1,f,7*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(6,1),L.enableVertexAttribArray(1),L.vertexAttribPointer(1,2,L.FLOAT,!1,f,9*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(1,1),L.useProgram(this._program);const H=new Int32Array(v.TextureAtlas.maxAtlasPages);for(let $=0;$<v.TextureAtlas.maxAtlasPages;$++)H[$]=$;L.uniform1iv(this._textureLocation,H),L.uniformMatrix4fv(this._projectionLocation,!1,C.PROJECTION_MATRIX),this._atlasTextures=[];for(let $=0;$<v.TextureAtlas.maxAtlasPages;$++){const j=new C.GLTexture((0,_.throwIfFalsy)(L.createTexture()));this.register((0,p.toDisposable)(()=>L.deleteTexture(j.texture))),L.activeTexture(L.TEXTURE0+$),L.bindTexture(L.TEXTURE_2D,j.texture),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[$]=j}L.enable(L.BLEND),L.blendFunc(L.SRC_ALPHA,L.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(y,b,S,E,L,A,R,D,P){this._updateCell(this._vertices.attributes,y,b,S,E,L,A,R,D,P)}_updateCell(y,b,S,E,L,A,R,D,P,H){o=(S*this._terminal.cols+b)*w,E!==u.NULL_CELL_CODE&&E!==void 0?this._atlas&&(l=D&&D.length>1?this._atlas.getRasterizedGlyphCombinedChar(D,L,A,R,!1):this._atlas.getRasterizedGlyph(E,L,A,R,!1),a=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),L!==H&&l.offset.x>a?(h=l.offset.x-a,y[o]=-(l.offset.x-h)+this._dimensions.device.char.left,y[o+1]=-l.offset.y+this._dimensions.device.char.top,y[o+2]=(l.size.x-h)/this._dimensions.device.canvas.width,y[o+3]=l.size.y/this._dimensions.device.canvas.height,y[o+4]=l.texturePage,y[o+5]=l.texturePositionClipSpace.x+h/this._atlas.pages[l.texturePage].canvas.width,y[o+6]=l.texturePositionClipSpace.y,y[o+7]=l.sizeClipSpace.x-h/this._atlas.pages[l.texturePage].canvas.width,y[o+8]=l.sizeClipSpace.y):(y[o]=-l.offset.x+this._dimensions.device.char.left,y[o+1]=-l.offset.y+this._dimensions.device.char.top,y[o+2]=l.size.x/this._dimensions.device.canvas.width,y[o+3]=l.size.y/this._dimensions.device.canvas.height,y[o+4]=l.texturePage,y[o+5]=l.texturePositionClipSpace.x,y[o+6]=l.texturePositionClipSpace.y,y[o+7]=l.sizeClipSpace.x,y[o+8]=l.sizeClipSpace.y),this._optionsService.rawOptions.rescaleOverlappingGlyphs&&(0,_.allowRescaling)(E,P,l.size.x,this._dimensions.device.cell.width)&&(y[o+2]=(this._dimensions.device.cell.width-1)/this._dimensions.device.canvas.width)):y.fill(0,o,o+w-1-2)}clear(){const y=this._terminal,b=y.cols*y.rows*w;this._vertices.count!==b?this._vertices.attributes=new Float32Array(b):this._vertices.attributes.fill(0);let S=0;for(;S<this._vertices.attributesBuffers.length;S++)this._vertices.count!==b?this._vertices.attributesBuffers[S]=new Float32Array(b):this._vertices.attributesBuffers[S].fill(0);this._vertices.count=b,S=0;for(let E=0;E<y.rows;E++)for(let L=0;L<y.cols;L++)this._vertices.attributes[S+9]=L/y.cols,this._vertices.attributes[S+10]=E/y.rows,S+=w}handleResize(){const y=this._gl;y.useProgram(this._program),y.viewport(0,0,y.canvas.width,y.canvas.height),y.uniform2f(this._resolutionLocation,y.canvas.width,y.canvas.height),this.clear()}render(y){if(!this._atlas)return;const b=this._gl;b.useProgram(this._program),b.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;const S=this._vertices.attributesBuffers[this._activeBuffer];let E=0;for(let L=0;L<y.lineLengths.length;L++){const A=L*this._terminal.cols*w,R=this._vertices.attributes.subarray(A,A+y.lineLengths[L]*w);S.set(R,E),E+=R.length}b.bindBuffer(b.ARRAY_BUFFER,this._attributesBuffer),b.bufferData(b.ARRAY_BUFFER,S.subarray(0,E),b.STREAM_DRAW);for(let L=0;L<this._atlas.pages.length;L++)this._atlas.pages[L].version!==this._atlasTextures[L].version&&this._bindAtlasPageTexture(b,this._atlas,L);b.drawElementsInstanced(b.TRIANGLE_STRIP,4,b.UNSIGNED_BYTE,0,E/w)}setAtlas(y){this._atlas=y;for(const b of this._atlasTextures)b.version=-1}_bindAtlasPageTexture(y,b,S){y.activeTexture(y.TEXTURE0+S),y.bindTexture(y.TEXTURE_2D,this._atlasTextures[S].texture),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,b.pages[S].canvas),y.generateMipmap(y.TEXTURE_2D),this._atlasTextures[S].version=b.pages[S].version}setDimensions(y){this._dimensions=y}}s.GlyphRenderer=g},742:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RectangleRenderer=void 0;const _=n(374),v=n(859),u=n(310),p=n(381),C=8*Float32Array.BYTES_PER_ELEMENT;class w{constructor(){this.attributes=new Float32Array(160),this.count=0}}let f=0,l=0,o=0,a=0,h=0,g=0,x=0;class y extends v.Disposable{constructor(S,E,L,A){super(),this._terminal=S,this._gl=E,this._dimensions=L,this._themeService=A,this._vertices=new w,this._verticesCursor=new w;const R=this._gl;this._program=(0,_.throwIfFalsy)((0,p.createProgram)(R,`#version 300 es
layout (location = 0) in vec2 a_position;
layout (location = 1) in vec2 a_size;
layout (location = 2) in vec4 a_color;
layout (location = 3) in vec2 a_unitquad;

uniform mat4 u_projection;

out vec4 v_color;

void main() {
  vec2 zeroToOne = a_position + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_color = a_color;
}`,`#version 300 es
precision lowp float;

in vec4 v_color;

out vec4 outColor;

void main() {
  outColor = v_color;
}`)),this.register((0,v.toDisposable)(()=>R.deleteProgram(this._program))),this._projectionLocation=(0,_.throwIfFalsy)(R.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=R.createVertexArray(),R.bindVertexArray(this._vertexArrayObject);const D=new Float32Array([0,0,1,0,0,1,1,1]),P=R.createBuffer();this.register((0,v.toDisposable)(()=>R.deleteBuffer(P))),R.bindBuffer(R.ARRAY_BUFFER,P),R.bufferData(R.ARRAY_BUFFER,D,R.STATIC_DRAW),R.enableVertexAttribArray(3),R.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);const H=new Uint8Array([0,1,2,3]),$=R.createBuffer();this.register((0,v.toDisposable)(()=>R.deleteBuffer($))),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,$),R.bufferData(R.ELEMENT_ARRAY_BUFFER,H,R.STATIC_DRAW),this._attributesBuffer=(0,_.throwIfFalsy)(R.createBuffer()),this.register((0,v.toDisposable)(()=>R.deleteBuffer(this._attributesBuffer))),R.bindBuffer(R.ARRAY_BUFFER,this._attributesBuffer),R.enableVertexAttribArray(0),R.vertexAttribPointer(0,2,R.FLOAT,!1,C,0),R.vertexAttribDivisor(0,1),R.enableVertexAttribArray(1),R.vertexAttribPointer(1,2,R.FLOAT,!1,C,2*Float32Array.BYTES_PER_ELEMENT),R.vertexAttribDivisor(1,1),R.enableVertexAttribArray(2),R.vertexAttribPointer(2,4,R.FLOAT,!1,C,4*Float32Array.BYTES_PER_ELEMENT),R.vertexAttribDivisor(2,1),this._updateCachedColors(A.colors),this.register(this._themeService.onChangeColors(j=>{this._updateCachedColors(j),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(S){const E=this._gl;E.useProgram(this._program),E.bindVertexArray(this._vertexArrayObject),E.uniformMatrix4fv(this._projectionLocation,!1,p.PROJECTION_MATRIX),E.bindBuffer(E.ARRAY_BUFFER,this._attributesBuffer),E.bufferData(E.ARRAY_BUFFER,S.attributes,E.DYNAMIC_DRAW),E.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,E.UNSIGNED_BYTE,0,S.count)}handleResize(){this._updateViewportRectangle()}setDimensions(S){this._dimensions=S}_updateCachedColors(S){this._bgFloat=this._colorToFloat32Array(S.background),this._cursorFloat=this._colorToFloat32Array(S.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(S){const E=this._terminal,L=this._vertices;let A,R,D,P,H,$,j,O,k,M,B,I=1;for(A=0;A<E.rows;A++){for(D=-1,P=0,H=0,$=!1,R=0;R<E.cols;R++)j=(A*E.cols+R)*u.RENDER_MODEL_INDICIES_PER_CELL,O=S.cells[j+u.RENDER_MODEL_BG_OFFSET],k=S.cells[j+u.RENDER_MODEL_FG_OFFSET],M=!!(67108864&k),(O!==P||k!==H&&($||M))&&((P!==0||$&&H!==0)&&(B=8*I++,this._updateRectangle(L,B,H,P,D,R,A)),D=R,P=O,H=k,$=M);(P!==0||$&&H!==0)&&(B=8*I++,this._updateRectangle(L,B,H,P,D,E.cols,A))}L.count=I}updateCursor(S){const E=this._verticesCursor,L=S.cursor;if(!L||L.style==="block")return void(E.count=0);let A,R=0;L.style!=="bar"&&L.style!=="outline"||(A=8*R++,this._addRectangleFloat(E.attributes,A,L.x*this._dimensions.device.cell.width,L.y*this._dimensions.device.cell.height,L.style==="bar"?L.dpr*L.cursorWidth:L.dpr,this._dimensions.device.cell.height,this._cursorFloat)),L.style!=="underline"&&L.style!=="outline"||(A=8*R++,this._addRectangleFloat(E.attributes,A,L.x*this._dimensions.device.cell.width,(L.y+1)*this._dimensions.device.cell.height-L.dpr,L.width*this._dimensions.device.cell.width,L.dpr,this._cursorFloat)),L.style==="outline"&&(A=8*R++,this._addRectangleFloat(E.attributes,A,L.x*this._dimensions.device.cell.width,L.y*this._dimensions.device.cell.height,L.width*this._dimensions.device.cell.width,L.dpr,this._cursorFloat),A=8*R++,this._addRectangleFloat(E.attributes,A,(L.x+L.width)*this._dimensions.device.cell.width-L.dpr,L.y*this._dimensions.device.cell.height,L.dpr,this._dimensions.device.cell.height,this._cursorFloat)),E.count=R}_updateRectangle(S,E,L,A,R,D,P){if(67108864&L)switch(50331648&L){case 16777216:case 33554432:f=this._themeService.colors.ansi[255&L].rgba;break;case 50331648:f=(16777215&L)<<8;break;default:f=this._themeService.colors.foreground.rgba}else switch(50331648&A){case 16777216:case 33554432:f=this._themeService.colors.ansi[255&A].rgba;break;case 50331648:f=(16777215&A)<<8;break;default:f=this._themeService.colors.background.rgba}S.attributes.length<E+4&&(S.attributes=(0,p.expandFloat32Array)(S.attributes,this._terminal.rows*this._terminal.cols*8)),l=R*this._dimensions.device.cell.width,o=P*this._dimensions.device.cell.height,a=(f>>24&255)/255,h=(f>>16&255)/255,g=(f>>8&255)/255,x=1,this._addRectangle(S.attributes,E,l,o,(D-R)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,a,h,g,x)}_addRectangle(S,E,L,A,R,D,P,H,$,j){S[E]=L/this._dimensions.device.canvas.width,S[E+1]=A/this._dimensions.device.canvas.height,S[E+2]=R/this._dimensions.device.canvas.width,S[E+3]=D/this._dimensions.device.canvas.height,S[E+4]=P,S[E+5]=H,S[E+6]=$,S[E+7]=j}_addRectangleFloat(S,E,L,A,R,D,P){S[E]=L/this._dimensions.device.canvas.width,S[E+1]=A/this._dimensions.device.canvas.height,S[E+2]=R/this._dimensions.device.canvas.width,S[E+3]=D/this._dimensions.device.canvas.height,S[E+4]=P[0],S[E+5]=P[1],S[E+6]=P[2],S[E+7]=P[3]}_colorToFloat32Array(S){return new Float32Array([(S.rgba>>24&255)/255,(S.rgba>>16&255)/255,(S.rgba>>8&255)/255,(255&S.rgba)/255])}}s.RectangleRenderer=y},310:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderModel=s.COMBINED_CHAR_BIT_MASK=s.RENDER_MODEL_EXT_OFFSET=s.RENDER_MODEL_FG_OFFSET=s.RENDER_MODEL_BG_OFFSET=s.RENDER_MODEL_INDICIES_PER_CELL=void 0;const _=n(296);s.RENDER_MODEL_INDICIES_PER_CELL=4,s.RENDER_MODEL_BG_OFFSET=1,s.RENDER_MODEL_FG_OFFSET=2,s.RENDER_MODEL_EXT_OFFSET=3,s.COMBINED_CHAR_BIT_MASK=2147483648,s.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=(0,_.createSelectionRenderModel)()}resize(v,u){const p=v*u*s.RENDER_MODEL_INDICIES_PER_CELL;p!==this.cells.length&&(this.cells=new Uint32Array(p),this.lineLengths=new Uint32Array(u))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.JoinedCellData=s.WebglRenderer=void 0;const _=n(820),v=n(274),u=n(627),p=n(457),C=n(56),w=n(374),f=n(345),l=n(859),o=n(147),a=n(782),h=n(855),g=n(965),x=n(742),y=n(310),b=n(733);class S extends l.Disposable{constructor(R,D,P,H,$,j,O,k,M){super(),this._terminal=R,this._characterJoinerService=D,this._charSizeService=P,this._coreBrowserService=H,this._coreService=$,this._decorationService=j,this._optionsService=O,this._themeService=k,this._cursorBlinkStateManager=new l.MutableDisposable,this._charAtlasDisposable=this.register(new l.MutableDisposable),this._observerDisposable=this.register(new l.MutableDisposable),this._model=new y.RenderModel,this._workCell=new a.CellData,this._workCell2=new a.CellData,this._rectangleRenderer=this.register(new l.MutableDisposable),this._glyphRenderer=this.register(new l.MutableDisposable),this._onChangeTextureAtlas=this.register(new f.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new f.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new f.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new f.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new f.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new v.CellColorResolver(this._terminal,this._optionsService,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new b.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier,this._coreBrowserService,O,this._themeService)],this.dimensions=(0,w.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(O.onOptionChange(()=>this._handleOptionsChanged())),this._canvas=this._coreBrowserService.mainDocument.createElement("canvas");const B={antialias:!1,depth:!1,preserveDrawingBuffer:M};if(this._gl=this._canvas.getContext("webgl2",B),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register((0,_.addDisposableDomListener)(this._canvas,"webglcontextlost",I=>{console.log("webglcontextlost event received"),I.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(I)},3e3)})),this.register((0,_.addDisposableDomListener)(this._canvas,"webglcontextrestored",I=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,(0,u.removeTerminalFromCache)(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this._observerDisposable.value=(0,C.observeDevicePixelDimensions)(this._canvas,this._coreBrowserService.window,(I,z)=>this._setCanvasDevicePixelDimensions(I,z)),this.register(this._coreBrowserService.onWindowChange(I=>{this._observerDisposable.value=(0,C.observeDevicePixelDimensions)(this._canvas,I,(z,U)=>this._setCanvasDevicePixelDimensions(z,U))})),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register((0,l.toDisposable)(()=>{for(const I of this._renderLayers)I.dispose();this._canvas.parentElement?.removeChild(this._canvas),(0,u.removeTerminalFromCache)(this._terminal)}))}get textureAtlas(){return this._charAtlas?.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(R,D){this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(const P of this._renderLayers)P.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,this._rectangleRenderer.value?.setDimensions(this.dimensions),this._rectangleRenderer.value?.handleResize(),this._glyphRenderer.value?.setDimensions(this.dimensions),this._glyphRenderer.value?.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){for(const R of this._renderLayers)R.handleBlur(this._terminal);this._cursorBlinkStateManager.value?.pause(),this._requestRedrawViewport()}handleFocus(){for(const R of this._renderLayers)R.handleFocus(this._terminal);this._cursorBlinkStateManager.value?.resume(),this._requestRedrawViewport()}handleSelectionChanged(R,D,P){for(const H of this._renderLayers)H.handleSelectionChanged(this._terminal,R,D,P);this._model.selection.update(this._core,R,D,P),this._requestRedrawViewport()}handleCursorMove(){for(const R of this._renderLayers)R.handleCursorMove(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new x.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new g.GlyphRenderer(this._terminal,this._gl,this.dimensions,this._optionsService),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);const R=(0,u.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==R&&(this._onChangeTextureAtlas.fire(R.pages[0].canvas),this._charAtlasDisposable.value=(0,l.getDisposeArrayDisposable)([(0,f.forwardEvent)(R.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),(0,f.forwardEvent)(R.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=R,this._charAtlas.warmUp(),this._glyphRenderer.value?.setAtlas(this._charAtlas)}_clearModel(R){this._model.clear(),R&&this._glyphRenderer.value?.clear()}clearTextureAtlas(){this._charAtlas?.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){this._clearModel(!0);for(const R of this._renderLayers)R.reset(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(R){return-1}deregisterCharacterJoiner(R){return!1}renderRows(R,D){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(const P of this._renderLayers)P.handleGridChanged(this._terminal,R,D);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(R,D),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new p.CursorBlinkStateManager(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(R,D){const P=this._core;let H,$,j,O,k,M,B,I,z,U,J,q,F,T,W=this._workCell;R=L(R,P.rows-1,0),D=L(D,P.rows-1,0);const V=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,X=V-P.buffer.ydisp,K=Math.min(this._terminal.buffer.active.cursorX,P.cols-1);let re=-1;const ee=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let de=!1;for($=R;$<=D;$++)for(j=$+P.buffer.ydisp,O=P.buffer.lines.get(j),this._model.lineLengths[$]=0,k=this._characterJoinerService.getJoinedCharacters(j),F=0;F<P.cols;F++)if(H=this._cellColorResolver.result.bg,O.loadCell(F,W),F===0&&(H=this._cellColorResolver.result.bg),M=!1,B=F,k.length>0&&F===k[0][0]&&(M=!0,I=k.shift(),W=new E(W,O.translateToString(!0,I[0],I[1]),I[1]-I[0]),B=I[1]-1),z=W.getChars(),U=W.getCode(),q=($*P.cols+F)*y.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(W,F,j,this.dimensions.device.cell.width),ee&&j===V&&(F===K&&(this._model.cursor={x:K,y:X,width:W.getWidth(),style:this._coreBrowserService.isFocused?P.options.cursorStyle||"block":P.options.cursorInactiveStyle,cursorWidth:P.options.cursorWidth,dpr:this._devicePixelRatio},re=K+W.getWidth()-1),F>=K&&F<=re&&(this._coreBrowserService.isFocused&&(P.options.cursorStyle||"block")==="block"||this._coreBrowserService.isFocused===!1&&P.options.cursorInactiveStyle==="block")&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),U!==h.NULL_CELL_CODE&&(this._model.lineLengths[$]=F+1),(this._model.cells[q]!==U||this._model.cells[q+y.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[q+y.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[q+y.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(de=!0,z.length>1&&(U|=y.COMBINED_CHAR_BIT_MASK),this._model.cells[q]=U,this._model.cells[q+y.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[q+y.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[q+y.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,J=W.getWidth(),this._glyphRenderer.value.updateCell(F,$,U,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,z,J,H),M))for(W=this._workCell,F++;F<B;F++)T=($*P.cols+F)*y.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(F,$,h.NULL_CELL_CODE,0,0,0,h.NULL_CELL_CHAR,0,0),this._model.cells[T]=h.NULL_CELL_CODE,this._model.cells[T+y.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[T+y.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[T+y.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;de&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(R,D){this._canvas.width===R&&this._canvas.height===D||(this._canvas.width=R,this._canvas.height=D,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){const R=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:R,end:R})}}s.WebglRenderer=S;class E extends o.AttributeData{constructor(R,D,P){super(),this.content=0,this.combinedData="",this.fg=R.fg,this.bg=R.bg,this.combinedData=D,this._width=P}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(R){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function L(A,R,D=0){return Math.max(Math.min(A,R),D)}s.JoinedCellData=E},381:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GLTexture=s.expandFloat32Array=s.createShader=s.createProgram=s.PROJECTION_MATRIX=void 0;const _=n(374);function v(u,p,C){const w=(0,_.throwIfFalsy)(u.createShader(p));if(u.shaderSource(w,C),u.compileShader(w),u.getShaderParameter(w,u.COMPILE_STATUS))return w;console.error(u.getShaderInfoLog(w)),u.deleteShader(w)}s.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),s.createProgram=function(u,p,C){const w=(0,_.throwIfFalsy)(u.createProgram());if(u.attachShader(w,(0,_.throwIfFalsy)(v(u,u.VERTEX_SHADER,p))),u.attachShader(w,(0,_.throwIfFalsy)(v(u,u.FRAGMENT_SHADER,C))),u.linkProgram(w),u.getProgramParameter(w,u.LINK_STATUS))return w;console.error(u.getProgramInfoLog(w)),u.deleteProgram(w)},s.createShader=v,s.expandFloat32Array=function(u,p){const C=Math.min(2*u.length,p),w=new Float32Array(C);for(let f=0;f<u.length;f++)w[f]=u[f];return w},s.GLTexture=class{constructor(u){this.texture=u,this.version=-1}}},592:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseRenderLayer=void 0;const _=n(627),v=n(237),u=n(374),p=n(859);class C extends p.Disposable{constructor(f,l,o,a,h,g,x,y){super(),this._container=l,this._alpha=h,this._coreBrowserService=g,this._optionsService=x,this._themeService=y,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add(`xterm-${o}-layer`),this._canvas.style.zIndex=a.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors(b=>{this._refreshCharAtlas(f,b),this.reset(f)})),this.register((0,p.toDisposable)(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=(0,u.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(f){}handleFocus(f){}handleCursorMove(f){}handleGridChanged(f,l,o){}handleSelectionChanged(f,l,o,a=!1){}_setTransparency(f,l){if(l===this._alpha)return;const o=this._canvas;this._alpha=l,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,o),this._refreshCharAtlas(f,this._themeService.colors),this.handleGridChanged(f,0,f.rows-1)}_refreshCharAtlas(f,l){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=(0,_.acquireTextureAtlas)(f,this._optionsService.rawOptions,l,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(f,l){this._deviceCellWidth=l.device.cell.width,this._deviceCellHeight=l.device.cell.height,this._deviceCharWidth=l.device.char.width,this._deviceCharHeight=l.device.char.height,this._deviceCharLeft=l.device.char.left,this._deviceCharTop=l.device.char.top,this._canvas.width=l.device.canvas.width,this._canvas.height=l.device.canvas.height,this._canvas.style.width=`${l.css.canvas.width}px`,this._canvas.style.height=`${l.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(f,this._themeService.colors)}_fillBottomLineAtCells(f,l,o=1){this._ctx.fillRect(f*this._deviceCellWidth,(l+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,o*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(f,l,o,a){this._alpha?this._ctx.clearRect(f*this._deviceCellWidth,l*this._deviceCellHeight,o*this._deviceCellWidth,a*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(f*this._deviceCellWidth,l*this._deviceCellHeight,o*this._deviceCellWidth,a*this._deviceCellHeight))}_fillCharTrueColor(f,l,o,a){this._ctx.font=this._getFont(f,!1,!1),this._ctx.textBaseline=v.TEXT_BASELINE,this._clipCell(o,a,l.getWidth()),this._ctx.fillText(l.getChars(),o*this._deviceCellWidth+this._deviceCharLeft,a*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(f,l,o){this._ctx.beginPath(),this._ctx.rect(f*this._deviceCellWidth,l*this._deviceCellHeight,o*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(f,l,o){return`${o?"italic":""} ${l?f.options.fontWeightBold:f.options.fontWeight} ${f.options.fontSize*this._coreBrowserService.dpr}px ${f.options.fontFamily}`}}s.BaseRenderLayer=C},733:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkRenderLayer=void 0;const _=n(197),v=n(237),u=n(592);class p extends u.BaseRenderLayer{constructor(w,f,l,o,a,h,g){super(l,w,"link",f,!0,a,h,g),this.register(o.onShowLinkUnderline(x=>this._handleShowLinkUnderline(x))),this.register(o.onHideLinkUnderline(x=>this._handleHideLinkUnderline(x)))}resize(w,f){super.resize(w,f),this._state=void 0}reset(w){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const w=this._state.y2-this._state.y1-1;w>0&&this._clearCells(0,this._state.y1+1,this._state.cols,w),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(w){if(w.fg===v.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:w.fg!==void 0&&(0,_.is256Color)(w.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[w.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,w.y1===w.y2)this._fillBottomLineAtCells(w.x1,w.y1,w.x2-w.x1);else{this._fillBottomLineAtCells(w.x1,w.y1,w.cols-w.x1);for(let f=w.y1+1;f<w.y2;f++)this._fillBottomLineAtCells(0,f,w.cols);this._fillBottomLineAtCells(0,w.y2,w.x2)}this._state=w}_handleHideLinkUnderline(w){this._clearCurrentLink()}}s.LinkRenderLayer=p},820:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(n,_,v,u){n.addEventListener(_,v,u);let p=!1;return{dispose:()=>{p||(p=!0,n.removeEventListener(_,v,u))}}}},274:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellColorResolver=void 0;const _=n(855),v=n(160),u=n(374);let p,C=0,w=0,f=!1,l=!1,o=!1,a=0;s.CellColorResolver=class{constructor(h,g,x,y,b,S){this._terminal=h,this._optionService=g,this._selectionRenderModel=x,this._decorationService=y,this._coreBrowserService=b,this._themeService=S,this.result={fg:0,bg:0,ext:0}}resolve(h,g,x,y){if(this.result.bg=h.bg,this.result.fg=h.fg,this.result.ext=268435456&h.bg?h.extended.ext:0,w=0,C=0,l=!1,f=!1,o=!1,p=this._themeService.colors,a=0,h.getCode()!==_.NULL_CELL_CODE&&h.extended.underlineStyle===4){const b=Math.max(1,Math.floor(this._optionService.rawOptions.fontSize*this._coreBrowserService.dpr/15));a=g*y%(2*Math.round(b))}if(this._decorationService.forEachDecorationAtCell(g,x,"bottom",b=>{b.backgroundColorRGB&&(w=b.backgroundColorRGB.rgba>>8&16777215,l=!0),b.foregroundColorRGB&&(C=b.foregroundColorRGB.rgba>>8&16777215,f=!0)}),o=this._selectionRenderModel.isCellSelected(this._terminal,g,x),o){if(67108864&this.result.fg||50331648&this.result.bg){if(67108864&this.result.fg)switch(50331648&this.result.fg){case 16777216:case 33554432:w=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:w=(16777215&this.result.fg)<<8|255;break;default:w=this._themeService.colors.foreground.rgba}else switch(50331648&this.result.bg){case 16777216:case 33554432:w=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:w=(16777215&this.result.bg)<<8|255}w=v.rgba.blend(w,4294967040&(this._coreBrowserService.isFocused?p.selectionBackgroundOpaque:p.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}else w=(this._coreBrowserService.isFocused?p.selectionBackgroundOpaque:p.selectionInactiveBackgroundOpaque).rgba>>8&16777215;if(l=!0,p.selectionForeground&&(C=p.selectionForeground.rgba>>8&16777215,f=!0),(0,u.treatGlyphAsBackgroundColor)(h.getCode())){if(67108864&this.result.fg&&!(50331648&this.result.bg))C=(this._coreBrowserService.isFocused?p.selectionBackgroundOpaque:p.selectionInactiveBackgroundOpaque).rgba>>8&16777215;else{if(67108864&this.result.fg)switch(50331648&this.result.bg){case 16777216:case 33554432:C=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:C=(16777215&this.result.bg)<<8|255}else switch(50331648&this.result.fg){case 16777216:case 33554432:C=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:C=(16777215&this.result.fg)<<8|255;break;default:C=this._themeService.colors.foreground.rgba}C=v.rgba.blend(C,4294967040&(this._coreBrowserService.isFocused?p.selectionBackgroundOpaque:p.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}f=!0}}this._decorationService.forEachDecorationAtCell(g,x,"top",b=>{b.backgroundColorRGB&&(w=b.backgroundColorRGB.rgba>>8&16777215,l=!0),b.foregroundColorRGB&&(C=b.foregroundColorRGB.rgba>>8&16777215,f=!0)}),l&&(w=o?-16777216&h.bg&-134217729|w|50331648:-16777216&h.bg|w|50331648),f&&(C=-16777216&h.fg&-67108865|C|50331648),67108864&this.result.fg&&(l&&!f&&(C=50331648&this.result.bg?-134217728&this.result.fg|67108863&this.result.bg:-134217728&this.result.fg|16777215&p.background.rgba>>8|50331648,f=!0),!l&&f&&(w=50331648&this.result.fg?-67108864&this.result.bg|67108863&this.result.fg:-67108864&this.result.bg|16777215&p.foreground.rgba>>8|50331648,l=!0)),p=void 0,this.result.bg=l?w:this.result.bg,this.result.fg=f?C:this.result.fg,this.result.ext&=536870911,this.result.ext|=a<<29&3758096384}}},627:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeTerminalFromCache=s.acquireTextureAtlas=void 0;const _=n(509),v=n(197),u=[];s.acquireTextureAtlas=function(p,C,w,f,l,o,a,h){const g=(0,v.generateConfig)(f,l,o,a,C,w,h);for(let b=0;b<u.length;b++){const S=u[b],E=S.ownedBy.indexOf(p);if(E>=0){if((0,v.configEquals)(S.config,g))return S.atlas;S.ownedBy.length===1?(S.atlas.dispose(),u.splice(b,1)):S.ownedBy.splice(E,1);break}}for(let b=0;b<u.length;b++){const S=u[b];if((0,v.configEquals)(S.config,g))return S.ownedBy.push(p),S.atlas}const x=p._core,y={atlas:new _.TextureAtlas(document,g,x.unicodeService),config:g,ownedBy:[p]};return u.push(y),y.atlas},s.removeTerminalFromCache=function(p){for(let C=0;C<u.length;C++){const w=u[C].ownedBy.indexOf(p);if(w!==-1){u[C].ownedBy.length===1?(u[C].atlas.dispose(),u.splice(C,1)):u[C].ownedBy.splice(w,1);break}}}},197:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.is256Color=s.configEquals=s.generateConfig=void 0;const _=n(160);s.generateConfig=function(v,u,p,C,w,f,l){const o={foreground:f.foreground,background:f.background,cursor:_.NULL_COLOR,cursorAccent:_.NULL_COLOR,selectionForeground:_.NULL_COLOR,selectionBackgroundTransparent:_.NULL_COLOR,selectionBackgroundOpaque:_.NULL_COLOR,selectionInactiveBackgroundTransparent:_.NULL_COLOR,selectionInactiveBackgroundOpaque:_.NULL_COLOR,ansi:f.ansi.slice(),contrastCache:f.contrastCache,halfContrastCache:f.halfContrastCache};return{customGlyphs:w.customGlyphs,devicePixelRatio:l,letterSpacing:w.letterSpacing,lineHeight:w.lineHeight,deviceCellWidth:v,deviceCellHeight:u,deviceCharWidth:p,deviceCharHeight:C,fontFamily:w.fontFamily,fontSize:w.fontSize,fontWeight:w.fontWeight,fontWeightBold:w.fontWeightBold,allowTransparency:w.allowTransparency,drawBoldTextInBrightColors:w.drawBoldTextInBrightColors,minimumContrastRatio:w.minimumContrastRatio,colors:o}},s.configEquals=function(v,u){for(let p=0;p<v.colors.ansi.length;p++)if(v.colors.ansi[p].rgba!==u.colors.ansi[p].rgba)return!1;return v.devicePixelRatio===u.devicePixelRatio&&v.customGlyphs===u.customGlyphs&&v.lineHeight===u.lineHeight&&v.letterSpacing===u.letterSpacing&&v.fontFamily===u.fontFamily&&v.fontSize===u.fontSize&&v.fontWeight===u.fontWeight&&v.fontWeightBold===u.fontWeightBold&&v.allowTransparency===u.allowTransparency&&v.deviceCharWidth===u.deviceCharWidth&&v.deviceCharHeight===u.deviceCharHeight&&v.drawBoldTextInBrightColors===u.drawBoldTextInBrightColors&&v.minimumContrastRatio===u.minimumContrastRatio&&v.colors.foreground.rgba===u.colors.foreground.rgba&&v.colors.background.rgba===u.colors.background.rgba},s.is256Color=function(v){return(50331648&v)==16777216||(50331648&v)==33554432}},237:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const _=n(399);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=_.isFirefox||_.isLegacyEdge?"bottom":"ideographic"},457:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CursorBlinkStateManager=void 0,s.CursorBlinkStateManager=class{constructor(n,_){this._renderCallback=n,this._coreBrowserService=_,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(n=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){const _=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,_>0)return void this._restartInterval(_)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){const _=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(_)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},n)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tryDrawCustomChar=s.powerlineDefinitions=s.boxDrawingDefinitions=s.blockElementDefinitions=void 0;const _=n(374);s.blockElementDefinitions={"":[{x:0,y:0,w:8,h:4}],"":[{x:0,y:7,w:8,h:1}],"":[{x:0,y:6,w:8,h:2}],"":[{x:0,y:5,w:8,h:3}],"":[{x:0,y:4,w:8,h:4}],"":[{x:0,y:3,w:8,h:5}],"":[{x:0,y:2,w:8,h:6}],"":[{x:0,y:1,w:8,h:7}],"":[{x:0,y:0,w:8,h:8}],"":[{x:0,y:0,w:7,h:8}],"":[{x:0,y:0,w:6,h:8}],"":[{x:0,y:0,w:5,h:8}],"":[{x:0,y:0,w:4,h:8}],"":[{x:0,y:0,w:3,h:8}],"":[{x:0,y:0,w:2,h:8}],"":[{x:0,y:0,w:1,h:8}],"":[{x:4,y:0,w:4,h:8}],"":[{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8}],"":[{x:0,y:4,w:4,h:4}],"":[{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"":[{x:4,y:0,w:4,h:4}],"":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:1,y:0,w:1,h:8}],"":[{x:2,y:0,w:1,h:8}],"":[{x:3,y:0,w:1,h:8}],"":[{x:4,y:0,w:1,h:8}],"":[{x:5,y:0,w:1,h:8}],"":[{x:6,y:0,w:1,h:8}],"":[{x:0,y:1,w:8,h:1}],"":[{x:0,y:2,w:8,h:1}],"":[{x:0,y:3,w:8,h:1}],"":[{x:0,y:4,w:8,h:1}],"":[{x:0,y:5,w:8,h:1}],"":[{x:0,y:6,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:2}],"":[{x:0,y:0,w:8,h:3}],"":[{x:0,y:0,w:8,h:5}],"":[{x:0,y:0,w:8,h:6}],"":[{x:0,y:0,w:8,h:7}],"":[{x:6,y:0,w:2,h:8}],"":[{x:5,y:0,w:3,h:8}],"":[{x:3,y:0,w:5,h:8}],"":[{x:2,y:0,w:6,h:8}],"":[{x:1,y:0,w:7,h:8}],"":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const v={"":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"":[[1,0],[0,0],[0,1],[0,0]],"":[[0,1],[1,1],[1,0],[1,1]]};s.boxDrawingDefinitions={"":{1:"M0,.5 L1,.5"},"":{3:"M0,.5 L1,.5"},"":{1:"M.5,0 L.5,1"},"":{3:"M.5,0 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5"},"":{3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M0,.5 L.5,.5 L.5,1"},"":{3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,0 L.5,.5 L1,.5"},"":{3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L0,.5"},"":{3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"":{1:"M.5,.5 L0,.5"},"":{3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,0"},"":{3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L1,.5"},"":{3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1"},"":{3:"M.5,.5 L.5,1"},"":{1:(f,l)=>`M0,${.5-l} L1,${.5-l} M0,${.5+l} L1,${.5+l}`},"":{1:(f,l)=>`M${.5-f},0 L${.5-f},1 M${.5+f},0 L${.5+f},1`},"":{1:(f,l)=>`M.5,1 L.5,${.5-l} L1,${.5-l} M.5,${.5+l} L1,${.5+l}`},"":{1:(f,l)=>`M${.5-f},1 L${.5-f},.5 L1,.5 M${.5+f},.5 L${.5+f},1`},"":{1:(f,l)=>`M1,${.5-l} L${.5-f},${.5-l} L${.5-f},1 M1,${.5+l} L${.5+f},${.5+l} L${.5+f},1`},"":{1:(f,l)=>`M0,${.5-l} L.5,${.5-l} L.5,1 M0,${.5+l} L.5,${.5+l}`},"":{1:(f,l)=>`M${.5+f},1 L${.5+f},.5 L0,.5 M${.5-f},.5 L${.5-f},1`},"":{1:(f,l)=>`M0,${.5+l} L${.5-f},${.5+l} L${.5-f},1 M0,${.5-l} L${.5+f},${.5-l} L${.5+f},1`},"":{1:(f,l)=>`M.5,0 L.5,${.5+l} L1,${.5+l} M.5,${.5-l} L1,${.5-l}`},"":{1:(f,l)=>`M1,.5 L${.5-f},.5 L${.5-f},0 M${.5+f},.5 L${.5+f},0`},"":{1:(f,l)=>`M1,${.5-l} L${.5+f},${.5-l} L${.5+f},0 M1,${.5+l} L${.5-f},${.5+l} L${.5-f},0`},"":{1:(f,l)=>`M0,${.5+l} L.5,${.5+l} L.5,0 M0,${.5-l} L.5,${.5-l}`},"":{1:(f,l)=>`M0,.5 L${.5+f},.5 L${.5+f},0 M${.5-f},.5 L${.5-f},0`},"":{1:(f,l)=>`M0,${.5-l} L${.5-f},${.5-l} L${.5-f},0 M0,${.5+l} L${.5+f},${.5+l} L${.5+f},0`},"":{1:(f,l)=>`M.5,0 L.5,1 M.5,${.5-l} L1,${.5-l} M.5,${.5+l} L1,${.5+l}`},"":{1:(f,l)=>`M${.5-f},0 L${.5-f},1 M${.5+f},0 L${.5+f},1 M${.5+f},.5 L1,.5`},"":{1:(f,l)=>`M${.5-f},0 L${.5-f},1 M1,${.5+l} L${.5+f},${.5+l} L${.5+f},1 M1,${.5-l} L${.5+f},${.5-l} L${.5+f},0`},"":{1:(f,l)=>`M.5,0 L.5,1 M0,${.5-l} L.5,${.5-l} M0,${.5+l} L.5,${.5+l}`},"":{1:(f,l)=>`M0,.5 L${.5-f},.5 M${.5-f},0 L${.5-f},1 M${.5+f},0 L${.5+f},1`},"":{1:(f,l)=>`M${.5+f},0 L${.5+f},1 M0,${.5+l} L${.5-f},${.5+l} L${.5-f},1 M0,${.5-l} L${.5-f},${.5-l} L${.5-f},0`},"":{1:(f,l)=>`M0,${.5-l} L1,${.5-l} M0,${.5+l} L1,${.5+l} M.5,${.5+l} L.5,1`},"":{1:(f,l)=>`M0,.5 L1,.5 M${.5-f},.5 L${.5-f},1 M${.5+f},.5 L${.5+f},1`},"":{1:(f,l)=>`M0,${.5-l} L1,${.5-l} M0,${.5+l} L${.5-f},${.5+l} L${.5-f},1 M1,${.5+l} L${.5+f},${.5+l} L${.5+f},1`},"":{1:(f,l)=>`M.5,0 L.5,${.5-l} M0,${.5-l} L1,${.5-l} M0,${.5+l} L1,${.5+l}`},"":{1:(f,l)=>`M0,.5 L1,.5 M${.5-f},.5 L${.5-f},0 M${.5+f},.5 L${.5+f},0`},"":{1:(f,l)=>`M0,${.5+l} L1,${.5+l} M0,${.5-l} L${.5-f},${.5-l} L${.5-f},0 M1,${.5-l} L${.5+f},${.5-l} L${.5+f},0`},"":{1:(f,l)=>`M.5,0 L.5,1 M0,${.5-l} L1,${.5-l} M0,${.5+l} L1,${.5+l}`},"":{1:(f,l)=>`M0,.5 L1,.5 M${.5-f},0 L${.5-f},1 M${.5+f},0 L${.5+f},1`},"":{1:(f,l)=>`M0,${.5+l} L${.5-f},${.5+l} L${.5-f},1 M1,${.5+l} L${.5+f},${.5+l} L${.5+f},1 M0,${.5-l} L${.5-f},${.5-l} L${.5-f},0 M1,${.5-l} L${.5+f},${.5-l} L${.5+f},0`},"":{1:"M1,0 L0,1"},"":{1:"M0,0 L1,1"},"":{1:"M1,0 L0,1 M0,0 L1,1"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"":{1:(f,l)=>`M.5,1 L.5,${.5+l/.15*.5} C.5,${.5+l/.15*.5},.5,.5,1,.5`},"":{1:(f,l)=>`M.5,1 L.5,${.5+l/.15*.5} C.5,${.5+l/.15*.5},.5,.5,0,.5`},"":{1:(f,l)=>`M.5,0 L.5,${.5-l/.15*.5} C.5,${.5-l/.15*.5},.5,.5,0,.5`},"":{1:(f,l)=>`M.5,0 L.5,${.5-l/.15*.5} C.5,${.5-l/.15*.5},.5,.5,1,.5`}},s.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},s.powerlineDefinitions[""]=s.powerlineDefinitions[""],s.powerlineDefinitions[""]=s.powerlineDefinitions[""],s.tryDrawCustomChar=function(f,l,o,a,h,g,x,y){const b=s.blockElementDefinitions[l];if(b)return function(A,R,D,P,H,$){for(let j=0;j<R.length;j++){const O=R[j],k=H/8,M=$/8;A.fillRect(D+O.x*k,P+O.y*M,O.w*k,O.h*M)}}(f,b,o,a,h,g),!0;const S=v[l];if(S)return function(A,R,D,P,H,$){let j=u.get(R);j||(j=new Map,u.set(R,j));const O=A.fillStyle;if(typeof O!="string")throw new Error(`Unexpected fillStyle type "${O}"`);let k=j.get(O);if(!k){const M=R[0].length,B=R.length,I=A.canvas.ownerDocument.createElement("canvas");I.width=M,I.height=B;const z=(0,_.throwIfFalsy)(I.getContext("2d")),U=new ImageData(M,B);let J,q,F,T;if(O.startsWith("#"))J=parseInt(O.slice(1,3),16),q=parseInt(O.slice(3,5),16),F=parseInt(O.slice(5,7),16),T=O.length>7&&parseInt(O.slice(7,9),16)||1;else{if(!O.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${O}" when drawing pattern glyph`);[J,q,F,T]=O.substring(5,O.length-1).split(",").map(W=>parseFloat(W))}for(let W=0;W<B;W++)for(let V=0;V<M;V++)U.data[4*(W*M+V)]=J,U.data[4*(W*M+V)+1]=q,U.data[4*(W*M+V)+2]=F,U.data[4*(W*M+V)+3]=R[W][V]*(255*T);z.putImageData(U,0,0),k=(0,_.throwIfFalsy)(A.createPattern(I,null)),j.set(O,k)}A.fillStyle=k,A.fillRect(D,P,H,$)}(f,S,o,a,h,g),!0;const E=s.boxDrawingDefinitions[l];if(E)return function(A,R,D,P,H,$,j){A.strokeStyle=A.fillStyle;for(const[O,k]of Object.entries(R)){let M;A.beginPath(),A.lineWidth=j*Number.parseInt(O),M=typeof k=="function"?k(.15,.15/$*H):k;for(const B of M.split(" ")){const I=B[0],z=C[I];if(!z){console.error(`Could not find drawing instructions for "${I}"`);continue}const U=B.substring(1).split(",");U[0]&&U[1]&&z(A,w(U,H,$,D,P,!0,j))}A.stroke(),A.closePath()}}(f,E,o,a,h,g,y),!0;const L=s.powerlineDefinitions[l];return!!L&&(function(A,R,D,P,H,$,j,O){const k=new Path2D;k.rect(D,P,H,$),A.clip(k),A.beginPath();const M=j/12;A.lineWidth=O*M;for(const B of R.d.split(" ")){const I=B[0],z=C[I];if(!z){console.error(`Could not find drawing instructions for "${I}"`);continue}const U=B.substring(1).split(",");U[0]&&U[1]&&z(A,w(U,H,$,D,P,!1,O,(R.leftPadding??0)*(M/2),(R.rightPadding??0)*(M/2)))}R.type===1?(A.strokeStyle=A.fillStyle,A.stroke()):A.fill(),A.closePath()}(f,L,o,a,h,g,x,y),!0)};const u=new Map;function p(f,l,o=0){return Math.max(Math.min(f,l),o)}const C={C:(f,l)=>f.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]),L:(f,l)=>f.lineTo(l[0],l[1]),M:(f,l)=>f.moveTo(l[0],l[1])};function w(f,l,o,a,h,g,x,y=0,b=0){const S=f.map(E=>parseFloat(E)||parseInt(E));if(S.length<2)throw new Error("Too few arguments for instruction");for(let E=0;E<S.length;E+=2)S[E]*=l-y*x-b*x,g&&S[E]!==0&&(S[E]=p(Math.round(S[E]+.5)-.5,l,0)),S[E]+=a+y*x;for(let E=1;E<S.length;E+=2)S[E]*=o,g&&S[E]!==0&&(S[E]=p(Math.round(S[E]+.5)-.5,o,0)),S[E]+=h;return S}},56:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.observeDevicePixelDimensions=void 0;const _=n(859);s.observeDevicePixelDimensions=function(v,u,p){let C=new u.ResizeObserver(w=>{const f=w.find(a=>a.target===v);if(!f)return;if(!("devicePixelContentBoxSize"in f))return C?.disconnect(),void(C=void 0);const l=f.devicePixelContentBoxSize[0].inlineSize,o=f.devicePixelContentBoxSize[0].blockSize;l>0&&o>0&&p(l,o)});try{C.observe(v,{box:["device-pixel-content-box"]})}catch{C.disconnect(),C=void 0}return(0,_.toDisposable)(()=>C?.disconnect())}},374:(m,s)=>{function n(v){return 57508<=v&&v<=57558}function _(v){return v>=128512&&v<=128591||v>=127744&&v<=128511||v>=128640&&v<=128767||v>=9728&&v<=9983||v>=9984&&v<=10175||v>=65024&&v<=65039||v>=129280&&v<=129535||v>=127462&&v<=127487}Object.defineProperty(s,"__esModule",{value:!0}),s.computeNextVariantOffset=s.createRenderDimensions=s.treatGlyphAsBackgroundColor=s.allowRescaling=s.isEmoji=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},s.isPowerlineGlyph=n,s.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},s.isEmoji=_,s.allowRescaling=function(v,u,p,C){return u===1&&p>Math.ceil(1.5*C)&&v!==void 0&&v>255&&!_(v)&&!n(v)&&!function(w){return 57344<=w&&w<=63743}(v)},s.treatGlyphAsBackgroundColor=function(v){return n(v)||function(u){return 9472<=u&&u<=9631}(v)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},s.computeNextVariantOffset=function(v,u,p=0){return(v-(2*Math.round(u)-p))%(2*Math.round(u))}},296:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createSelectionRenderModel=void 0;class n{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(v,u,p,C=!1){if(this.selectionStart=u,this.selectionEnd=p,!u||!p||u[0]===p[0]&&u[1]===p[1])return void this.clear();const w=v.buffers.active.ydisp,f=u[1]-w,l=p[1]-w,o=Math.max(f,0),a=Math.min(l,v.rows-1);o>=v.rows||a<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=C,this.viewportStartRow=f,this.viewportEndRow=l,this.viewportCappedStartRow=o,this.viewportCappedEndRow=a,this.startCol=u[0],this.endCol=p[0])}isCellSelected(v,u,p){return!!this.hasSelection&&(p-=v.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?u>=this.startCol&&p>=this.viewportCappedStartRow&&u<this.endCol&&p<=this.viewportCappedEndRow:u<this.startCol&&p>=this.viewportCappedStartRow&&u>=this.endCol&&p<=this.viewportCappedEndRow:p>this.viewportStartRow&&p<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&p===this.viewportStartRow&&u>=this.startCol&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&p===this.viewportEndRow&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&p===this.viewportStartRow&&u>=this.startCol)}}s.createSelectionRenderModel=function(){return new n}},509:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextureAtlas=void 0;const _=n(237),v=n(860),u=n(374),p=n(160),C=n(345),w=n(485),f=n(385),l=n(147),o=n(855),a={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let h;class g{get pages(){return this._pages}constructor(E,L,A){this._document=E,this._config=L,this._unicodeService=A,this._didWarmUp=!1,this._cacheMap=new w.FourKeyMap,this._cacheMapCombined=new w.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new l.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new C.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new C.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=b(E,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,u.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(const E of this.pages)E.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const E=new f.IdleTaskQueue;for(let L=33;L<126;L++)E.enqueue(()=>{if(!this._cacheMap.get(L,o.DEFAULT_COLOR,o.DEFAULT_COLOR,o.DEFAULT_EXT)){const A=this._drawToCache(L,o.DEFAULT_COLOR,o.DEFAULT_COLOR,o.DEFAULT_EXT);this._cacheMap.set(L,o.DEFAULT_COLOR,o.DEFAULT_COLOR,o.DEFAULT_EXT,A)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(const E of this._pages)E.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(g.maxAtlasPages&&this._pages.length>=Math.max(4,g.maxAtlasPages)){const L=this._pages.filter(j=>2*j.canvas.width<=(g.maxTextureSize||4096)).sort((j,O)=>O.canvas.width!==j.canvas.width?O.canvas.width-j.canvas.width:O.percentageUsed-j.percentageUsed);let A=-1,R=0;for(let j=0;j<L.length;j++)if(L[j].canvas.width!==R)A=j,R=L[j].canvas.width;else if(j-A==3)break;const D=L.slice(A,A+4),P=D.map(j=>j.glyphs[0].texturePage).sort((j,O)=>j>O?1:-1),H=this.pages.length-D.length,$=this._mergePages(D,H);$.version++;for(let j=P.length-1;j>=0;j--)this._deletePage(P[j]);this.pages.push($),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire($.canvas)}const E=new x(this._document,this._textureSize);return this._pages.push(E),this._activePages.push(E),this._onAddTextureAtlasCanvas.fire(E.canvas),E}_mergePages(E,L){const A=2*E[0].canvas.width,R=new x(this._document,A,E);for(const[D,P]of E.entries()){const H=D*P.canvas.width%A,$=Math.floor(D/2)*P.canvas.height;R.ctx.drawImage(P.canvas,H,$);for(const O of P.glyphs)O.texturePage=L,O.sizeClipSpace.x=O.size.x/A,O.sizeClipSpace.y=O.size.y/A,O.texturePosition.x+=H,O.texturePosition.y+=$,O.texturePositionClipSpace.x=O.texturePosition.x/A,O.texturePositionClipSpace.y=O.texturePosition.y/A;this._onRemoveTextureAtlasCanvas.fire(P.canvas);const j=this._activePages.indexOf(P);j!==-1&&this._activePages.splice(j,1)}return R}_deletePage(E){this._pages.splice(E,1);for(let L=E;L<this._pages.length;L++){const A=this._pages[L];for(const R of A.glyphs)R.texturePage--;A.version++}}getRasterizedGlyphCombinedChar(E,L,A,R,D){return this._getFromCacheMap(this._cacheMapCombined,E,L,A,R,D)}getRasterizedGlyph(E,L,A,R,D){return this._getFromCacheMap(this._cacheMap,E,L,A,R,D)}_getFromCacheMap(E,L,A,R,D,P=!1){return h=E.get(L,A,R,D),h||(h=this._drawToCache(L,A,R,D,P),E.set(L,A,R,D,h)),h}_getColorFromAnsiIndex(E){if(E>=this._config.colors.ansi.length)throw new Error("No color found for idx "+E);return this._config.colors.ansi[E]}_getBackgroundColor(E,L,A,R){if(this._config.allowTransparency)return p.NULL_COLOR;let D;switch(E){case 16777216:case 33554432:D=this._getColorFromAnsiIndex(L);break;case 50331648:const P=l.AttributeData.toColorRGB(L);D=p.channels.toColor(P[0],P[1],P[2]);break;default:D=A?p.color.opaque(this._config.colors.foreground):this._config.colors.background}return D}_getForegroundColor(E,L,A,R,D,P,H,$,j,O){const k=this._getMinimumContrastColor(E,L,A,R,D,P,H,j,$,O);if(k)return k;let M;switch(D){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&j&&P<8&&(P+=8),M=this._getColorFromAnsiIndex(P);break;case 50331648:const B=l.AttributeData.toColorRGB(P);M=p.channels.toColor(B[0],B[1],B[2]);break;default:M=H?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(M=p.color.opaque(M)),$&&(M=p.color.multiplyOpacity(M,_.DIM_OPACITY)),M}_resolveBackgroundRgba(E,L,A){switch(E){case 16777216:case 33554432:return this._getColorFromAnsiIndex(L).rgba;case 50331648:return L<<8;default:return A?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(E,L,A,R){switch(E){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&R&&L<8&&(L+=8),this._getColorFromAnsiIndex(L).rgba;case 50331648:return L<<8;default:return A?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(E,L,A,R,D,P,H,$,j,O){if(this._config.minimumContrastRatio===1||O)return;const k=this._getContrastCache(j),M=k.getColor(E,R);if(M!==void 0)return M||void 0;const B=this._resolveBackgroundRgba(L,A,H),I=this._resolveForegroundRgba(D,P,H,$),z=p.rgba.ensureContrastRatio(B,I,this._config.minimumContrastRatio/(j?2:1));if(!z)return void k.setColor(E,R,null);const U=p.channels.toColor(z>>24&255,z>>16&255,z>>8&255);return k.setColor(E,R,U),U}_getContrastCache(E){return E?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(E,L,A,R,D=!1){const P=typeof E=="number"?String.fromCharCode(E):E,H=Math.min(this._config.deviceCellWidth*Math.max(P.length,2)+4,this._textureSize);this._tmpCanvas.width<H&&(this._tmpCanvas.width=H);const $=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<$&&(this._tmpCanvas.height=$),this._tmpCtx.save(),this._workAttributeData.fg=A,this._workAttributeData.bg=L,this._workAttributeData.extended.ext=R,this._workAttributeData.isInvisible())return a;const j=!!this._workAttributeData.isBold(),O=!!this._workAttributeData.isInverse(),k=!!this._workAttributeData.isDim(),M=!!this._workAttributeData.isItalic(),B=!!this._workAttributeData.isUnderline(),I=!!this._workAttributeData.isStrikethrough(),z=!!this._workAttributeData.isOverline();let U=this._workAttributeData.getFgColor(),J=this._workAttributeData.getFgColorMode(),q=this._workAttributeData.getBgColor(),F=this._workAttributeData.getBgColorMode();if(O){const Z=U;U=q,q=Z;const ae=J;J=F,F=ae}const T=this._getBackgroundColor(F,q,O,k);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=T.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";const W=j?this._config.fontWeightBold:this._config.fontWeight,V=M?"italic":"";this._tmpCtx.font=`${V} ${W} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=_.TEXT_BASELINE;const X=P.length===1&&(0,u.isPowerlineGlyph)(P.charCodeAt(0)),K=P.length===1&&(0,u.isRestrictedPowerlineGlyph)(P.charCodeAt(0)),re=this._getForegroundColor(L,F,q,A,J,U,O,k,j,(0,u.treatGlyphAsBackgroundColor)(P.charCodeAt(0)));this._tmpCtx.fillStyle=re.css;const ee=K?0:4;let de=!1;this._config.customGlyphs!==!1&&(de=(0,v.tryDrawCustomChar)(this._tmpCtx,P,ee,ee,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let Le,te=!X;if(Le=typeof E=="number"?this._unicodeService.wcwidth(E):this._unicodeService.getStringCellWidth(E),B){this._tmpCtx.save();const Z=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ae=Z%2==1?.5:0;if(this._tmpCtx.lineWidth=Z,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())te=!1,this._tmpCtx.strokeStyle=`rgb(${l.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{te=!1;let ke=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&ke<8&&(ke+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(ke).css}this._tmpCtx.beginPath();const xe=ee,ve=Math.ceil(ee+this._config.deviceCharHeight)-ae-(D?2*Z:0),Mt=ve+Z,qe=ve+2*Z;let lt=this._workAttributeData.getUnderlineVariantOffset();for(let ke=0;ke<Le;ke++){this._tmpCtx.save();const _e=xe+ke*this._config.deviceCellWidth,ie=xe+(ke+1)*this._config.deviceCellWidth,fi=_e+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(_e,ve),this._tmpCtx.lineTo(ie,ve),this._tmpCtx.moveTo(_e,qe),this._tmpCtx.lineTo(ie,qe);break;case 3:const ps=Z<=1?qe:Math.ceil(ee+this._config.deviceCharHeight-Z/2)-ae,vs=Z<=1?ve:Math.ceil(ee+this._config.deviceCharHeight+Z/2)-ae,Il=new Path2D;Il.rect(_e,ve,this._config.deviceCellWidth,qe-ve),this._tmpCtx.clip(Il),this._tmpCtx.moveTo(_e-this._config.deviceCellWidth/2,Mt),this._tmpCtx.bezierCurveTo(_e-this._config.deviceCellWidth/2,vs,_e,vs,_e,Mt),this._tmpCtx.bezierCurveTo(_e,ps,fi,ps,fi,Mt),this._tmpCtx.bezierCurveTo(fi,vs,ie,vs,ie,Mt),this._tmpCtx.bezierCurveTo(ie,ps,ie+this._config.deviceCellWidth/2,ps,ie+this._config.deviceCellWidth/2,Mt);break;case 4:const gs=lt===0?0:lt>=Z?2*Z-lt:Z-lt;lt>=Z||gs===0?(this._tmpCtx.setLineDash([Math.round(Z),Math.round(Z)]),this._tmpCtx.moveTo(_e+gs,ve),this._tmpCtx.lineTo(ie,ve)):(this._tmpCtx.setLineDash([Math.round(Z),Math.round(Z)]),this._tmpCtx.moveTo(_e,ve),this._tmpCtx.lineTo(_e+gs,ve),this._tmpCtx.moveTo(_e+gs+Z,ve),this._tmpCtx.lineTo(ie,ve)),lt=(0,u.computeNextVariantOffset)(ie-_e,Z,lt);break;case 5:const hf=.6,uf=.3,eo=ie-_e,Nl=Math.floor(hf*eo),Fl=Math.floor(uf*eo),df=eo-Nl-Fl;this._tmpCtx.setLineDash([Nl,Fl,df]),this._tmpCtx.moveTo(_e,ve),this._tmpCtx.lineTo(ie,ve);break;default:this._tmpCtx.moveTo(_e,ve),this._tmpCtx.lineTo(ie,ve)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!de&&this._config.fontSize>=12&&!this._config.allowTransparency&&P!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const ke=this._tmpCtx.measureText(P);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in ke&&ke.actualBoundingBoxDescent>0){this._tmpCtx.save();const _e=new Path2D;_e.rect(xe,ve-Math.ceil(Z/2),this._config.deviceCellWidth*Le,qe-ve+Math.ceil(Z/2)),this._tmpCtx.clip(_e),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=T.css,this._tmpCtx.strokeText(P,ee,ee+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(z){const Z=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ae=Z%2==1?.5:0;this._tmpCtx.lineWidth=Z,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(ee,ee+ae),this._tmpCtx.lineTo(ee+this._config.deviceCharWidth*Le,ee+ae),this._tmpCtx.stroke()}if(de||this._tmpCtx.fillText(P,ee,ee+this._config.deviceCharHeight),P==="_"&&!this._config.allowTransparency){let Z=y(this._tmpCtx.getImageData(ee,ee,this._config.deviceCellWidth,this._config.deviceCellHeight),T,re,te);if(Z)for(let ae=1;ae<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=T.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(P,ee,ee+this._config.deviceCharHeight-ae),Z=y(this._tmpCtx.getImageData(ee,ee,this._config.deviceCellWidth,this._config.deviceCellHeight),T,re,te),Z);ae++);}if(I){const Z=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),ae=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=Z,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(ee,ee+Math.floor(this._config.deviceCharHeight/2)-ae),this._tmpCtx.lineTo(ee+this._config.deviceCharWidth*Le,ee+Math.floor(this._config.deviceCharHeight/2)-ae),this._tmpCtx.stroke()}this._tmpCtx.restore();const xt=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let Mr;if(Mr=this._config.allowTransparency?function(Z){for(let ae=0;ae<Z.data.length;ae+=4)if(Z.data[ae+3]>0)return!1;return!0}(xt):y(xt,T,re,te),Mr)return a;const ce=this._findGlyphBoundingBox(xt,this._workBoundingBox,H,K,de,ee);let ne,oe;for(;;){if(this._activePages.length===0){const Z=this._createNewPage();ne=Z,oe=Z.currentRow,oe.height=ce.size.y;break}ne=this._activePages[this._activePages.length-1],oe=ne.currentRow;for(const Z of this._activePages)ce.size.y<=Z.currentRow.height&&(ne=Z,oe=Z.currentRow);for(let Z=this._activePages.length-1;Z>=0;Z--)for(const ae of this._activePages[Z].fixedRows)ae.height<=oe.height&&ce.size.y<=ae.height&&(ne=this._activePages[Z],oe=ae);if(oe.y+ce.size.y>=ne.canvas.height||oe.height>ce.size.y+2){let Z=!1;if(ne.currentRow.y+ne.currentRow.height+ce.size.y>=ne.canvas.height){let ae;for(const xe of this._activePages)if(xe.currentRow.y+xe.currentRow.height+ce.size.y<xe.canvas.height){ae=xe;break}if(ae)ne=ae;else if(g.maxAtlasPages&&this._pages.length>=g.maxAtlasPages&&oe.y+ce.size.y<=ne.canvas.height&&oe.height>=ce.size.y&&oe.x+ce.size.x<=ne.canvas.width)Z=!0;else{const xe=this._createNewPage();ne=xe,oe=xe.currentRow,oe.height=ce.size.y,Z=!0}}Z||(ne.currentRow.height>0&&ne.fixedRows.push(ne.currentRow),oe={x:0,y:ne.currentRow.y+ne.currentRow.height,height:ce.size.y},ne.fixedRows.push(oe),ne.currentRow={x:0,y:oe.y+oe.height,height:0})}if(oe.x+ce.size.x<=ne.canvas.width)break;oe===ne.currentRow?(oe.x=0,oe.y+=oe.height,oe.height=0):ne.fixedRows.splice(ne.fixedRows.indexOf(oe),1)}return ce.texturePage=this._pages.indexOf(ne),ce.texturePosition.x=oe.x,ce.texturePosition.y=oe.y,ce.texturePositionClipSpace.x=oe.x/ne.canvas.width,ce.texturePositionClipSpace.y=oe.y/ne.canvas.height,ce.sizeClipSpace.x/=ne.canvas.width,ce.sizeClipSpace.y/=ne.canvas.height,oe.height=Math.max(oe.height,ce.size.y),oe.x+=ce.size.x,ne.ctx.putImageData(xt,ce.texturePosition.x-this._workBoundingBox.left,ce.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,ce.size.x,ce.size.y),ne.addGlyph(ce),ne.version++,ce}_findGlyphBoundingBox(E,L,A,R,D,P){L.top=0;const H=R?this._config.deviceCellHeight:this._tmpCanvas.height,$=R?this._config.deviceCellWidth:A;let j=!1;for(let O=0;O<H;O++){for(let k=0;k<$;k++){const M=O*this._tmpCanvas.width*4+4*k+3;if(E.data[M]!==0){L.top=O,j=!0;break}}if(j)break}L.left=0,j=!1;for(let O=0;O<P+$;O++){for(let k=0;k<H;k++){const M=k*this._tmpCanvas.width*4+4*O+3;if(E.data[M]!==0){L.left=O,j=!0;break}}if(j)break}L.right=$,j=!1;for(let O=P+$-1;O>=P;O--){for(let k=0;k<H;k++){const M=k*this._tmpCanvas.width*4+4*O+3;if(E.data[M]!==0){L.right=O,j=!0;break}}if(j)break}L.bottom=H,j=!1;for(let O=H-1;O>=0;O--){for(let k=0;k<$;k++){const M=O*this._tmpCanvas.width*4+4*k+3;if(E.data[M]!==0){L.bottom=O,j=!0;break}}if(j)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:L.right-L.left+1,y:L.bottom-L.top+1},sizeClipSpace:{x:L.right-L.left+1,y:L.bottom-L.top+1},offset:{x:-L.left+P+(R||D?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-L.top+P+(R||D?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}s.TextureAtlas=g;class x{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(E){this._glyphs.push(E),this._usedPixels+=E.size.x*E.size.y}constructor(E,L,A){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],A)for(const R of A)this._glyphs.push(...R.glyphs),this._usedPixels+=R._usedPixels;this.canvas=b(E,L,L),this.ctx=(0,u.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function y(S,E,L,A){const R=E.rgba>>>24,D=E.rgba>>>16&255,P=E.rgba>>>8&255,H=L.rgba>>>24,$=L.rgba>>>16&255,j=L.rgba>>>8&255,O=Math.floor((Math.abs(R-H)+Math.abs(D-$)+Math.abs(P-j))/12);let k=!0;for(let M=0;M<S.data.length;M+=4)S.data[M]===R&&S.data[M+1]===D&&S.data[M+2]===P||A&&Math.abs(S.data[M]-R)+Math.abs(S.data[M+1]-D)+Math.abs(S.data[M+2]-P)<O?S.data[M+3]=0:k=!1;return k}function b(S,E,L){const A=S.createElement("canvas");return A.width=E,A.height=L,A}},160:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;let n=0,_=0,v=0,u=0;var p,C,w,f,l;function o(h){const g=h.toString(16);return g.length<2?"0"+g:g}function a(h,g){return h<g?(g+.05)/(h+.05):(h+.05)/(g+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(h){h.toCss=function(g,x,y,b){return b!==void 0?`#${o(g)}${o(x)}${o(y)}${o(b)}`:`#${o(g)}${o(x)}${o(y)}`},h.toRgba=function(g,x,y,b=255){return(g<<24|x<<16|y<<8|b)>>>0},h.toColor=function(g,x,y,b){return{css:h.toCss(g,x,y,b),rgba:h.toRgba(g,x,y,b)}}}(p||(s.channels=p={})),function(h){function g(x,y){return u=Math.round(255*y),[n,_,v]=l.toChannels(x.rgba),{css:p.toCss(n,_,v,u),rgba:p.toRgba(n,_,v,u)}}h.blend=function(x,y){if(u=(255&y.rgba)/255,u===1)return{css:y.css,rgba:y.rgba};const b=y.rgba>>24&255,S=y.rgba>>16&255,E=y.rgba>>8&255,L=x.rgba>>24&255,A=x.rgba>>16&255,R=x.rgba>>8&255;return n=L+Math.round((b-L)*u),_=A+Math.round((S-A)*u),v=R+Math.round((E-R)*u),{css:p.toCss(n,_,v),rgba:p.toRgba(n,_,v)}},h.isOpaque=function(x){return(255&x.rgba)==255},h.ensureContrastRatio=function(x,y,b){const S=l.ensureContrastRatio(x.rgba,y.rgba,b);if(S)return p.toColor(S>>24&255,S>>16&255,S>>8&255)},h.opaque=function(x){const y=(255|x.rgba)>>>0;return[n,_,v]=l.toChannels(y),{css:p.toCss(n,_,v),rgba:y}},h.opacity=g,h.multiplyOpacity=function(x,y){return u=255&x.rgba,g(x,u*y/255)},h.toColorRGB=function(x){return[x.rgba>>24&255,x.rgba>>16&255,x.rgba>>8&255]}}(C||(s.color=C={})),function(h){let g,x;try{const y=document.createElement("canvas");y.width=1,y.height=1;const b=y.getContext("2d",{willReadFrequently:!0});b&&(g=b,g.globalCompositeOperation="copy",x=g.createLinearGradient(0,0,1,1))}catch{}h.toColor=function(y){if(y.match(/#[\da-f]{3,8}/i))switch(y.length){case 4:return n=parseInt(y.slice(1,2).repeat(2),16),_=parseInt(y.slice(2,3).repeat(2),16),v=parseInt(y.slice(3,4).repeat(2),16),p.toColor(n,_,v);case 5:return n=parseInt(y.slice(1,2).repeat(2),16),_=parseInt(y.slice(2,3).repeat(2),16),v=parseInt(y.slice(3,4).repeat(2),16),u=parseInt(y.slice(4,5).repeat(2),16),p.toColor(n,_,v,u);case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}const b=y.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(b)return n=parseInt(b[1]),_=parseInt(b[2]),v=parseInt(b[3]),u=Math.round(255*(b[5]===void 0?1:parseFloat(b[5]))),p.toColor(n,_,v,u);if(!g||!x)throw new Error("css.toColor: Unsupported css format");if(g.fillStyle=x,g.fillStyle=y,typeof g.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(g.fillRect(0,0,1,1),[n,_,v,u]=g.getImageData(0,0,1,1).data,u!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:p.toRgba(n,_,v,u),css:y}}}(w||(s.css=w={})),function(h){function g(x,y,b){const S=x/255,E=y/255,L=b/255;return .2126*(S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4))+.7152*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))+.0722*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))}h.relativeLuminance=function(x){return g(x>>16&255,x>>8&255,255&x)},h.relativeLuminance2=g}(f||(s.rgb=f={})),function(h){function g(y,b,S){const E=y>>24&255,L=y>>16&255,A=y>>8&255;let R=b>>24&255,D=b>>16&255,P=b>>8&255,H=a(f.relativeLuminance2(R,D,P),f.relativeLuminance2(E,L,A));for(;H<S&&(R>0||D>0||P>0);)R-=Math.max(0,Math.ceil(.1*R)),D-=Math.max(0,Math.ceil(.1*D)),P-=Math.max(0,Math.ceil(.1*P)),H=a(f.relativeLuminance2(R,D,P),f.relativeLuminance2(E,L,A));return(R<<24|D<<16|P<<8|255)>>>0}function x(y,b,S){const E=y>>24&255,L=y>>16&255,A=y>>8&255;let R=b>>24&255,D=b>>16&255,P=b>>8&255,H=a(f.relativeLuminance2(R,D,P),f.relativeLuminance2(E,L,A));for(;H<S&&(R<255||D<255||P<255);)R=Math.min(255,R+Math.ceil(.1*(255-R))),D=Math.min(255,D+Math.ceil(.1*(255-D))),P=Math.min(255,P+Math.ceil(.1*(255-P))),H=a(f.relativeLuminance2(R,D,P),f.relativeLuminance2(E,L,A));return(R<<24|D<<16|P<<8|255)>>>0}h.blend=function(y,b){if(u=(255&b)/255,u===1)return b;const S=b>>24&255,E=b>>16&255,L=b>>8&255,A=y>>24&255,R=y>>16&255,D=y>>8&255;return n=A+Math.round((S-A)*u),_=R+Math.round((E-R)*u),v=D+Math.round((L-D)*u),p.toRgba(n,_,v)},h.ensureContrastRatio=function(y,b,S){const E=f.relativeLuminance(y>>8),L=f.relativeLuminance(b>>8);if(a(E,L)<S){if(L<E){const D=g(y,b,S),P=a(E,f.relativeLuminance(D>>8));if(P<S){const H=x(y,b,S);return P>a(E,f.relativeLuminance(H>>8))?D:H}return D}const A=x(y,b,S),R=a(E,f.relativeLuminance(A>>8));if(R<S){const D=g(y,b,S);return R>a(E,f.relativeLuminance(D>>8))?A:D}return A}},h.reduceLuminance=g,h.increaseLuminance=x,h.toChannels=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]}}(l||(s.rgba=l={})),s.toPaddedHex=o,s.contrastRatio=a},345:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runAndSubscribe=s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let _=0;_<this._listeners.length;_++)if(this._listeners[_]===n)return void this._listeners.splice(_,1)}}})),this._event}fire(n,_){const v=[];for(let u=0;u<this._listeners.length;u++)v.push(this._listeners[u]);for(let u=0;u<v.length;u++)v[u].call(void 0,n,_)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(n,_){return n(v=>_.fire(v))},s.runAndSubscribe=function(n,_){return _(void 0),n(v=>_(v))}},859:(m,s)=>{function n(_){for(const v of _)v.dispose();_.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const _ of this._disposables)_.dispose();this._disposables.length=0}register(_){return this._disposables.push(_),_}unregister(_){const v=this._disposables.indexOf(_);v!==-1&&this._disposables.splice(v,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(_){this._isDisposed||_===this._value||(this._value?.dispose(),this._value=_)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},s.toDisposable=function(_){return{dispose:_}},s.disposeArray=n,s.getDisposeArrayDisposable=function(_){return{dispose:()=>n(_)}}},485:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(v,u,p){this._data[v]||(this._data[v]={}),this._data[v][u]=p}get(v,u){return this._data[v]?this._data[v][u]:void 0}clear(){this._data={}}}s.TwoKeyMap=n,s.FourKeyMap=class{constructor(){this._data=new n}set(_,v,u,p,C){this._data.get(_,v)||this._data.set(_,v,new n),this._data.get(_,v).set(u,p,C)}get(_,v,u,p){return this._data.get(_,v)?.get(u,p)}clear(){this._data.clear()}}},399:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof process<"u"&&"title"in process;const n=s.isNode?"node":navigator.userAgent,_=s.isNode?"node":navigator.platform;s.isFirefox=n.includes("Firefox"),s.isLegacyEdge=n.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(n),s.getSafariVersion=function(){if(!s.isSafari)return 0;const v=n.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(_),s.isIpad=_==="iPad",s.isIphone=_==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(_),s.isLinux=_.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(n)},385:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const _=n(399);class v{constructor(){this._tasks=[],this._i=0}enqueue(C){this._tasks.push(C),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(C){this._idleCallback=void 0;let w=0,f=0,l=C.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),f=Math.max(w,f),o=C.timeRemaining(),1.5*f>o)return l-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(l-w))}ms`),void this._start();l=o}this.clear()}}class u extends v{_requestCallback(C){return setTimeout(()=>C(this._createDeadline(16)))}_cancelCallback(C){clearTimeout(C)}_createDeadline(C){const w=Date.now()+C;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}s.PriorityTaskQueue=u,s.IdleTaskQueue=!_.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(p){return requestIdleCallback(p)}_cancelCallback(p){cancelIdleCallback(p)}}:u,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(p){this._queue.clear(),this._queue.enqueue(p)}flush(){this._queue.flush()}}},147:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new _}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new n;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}s.AttributeData=n;class _{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}get underlineVariantOffset(){const u=(3758096384&this._ext)>>29;return u<0?4294967288^u:u}set underlineVariantOffset(u){this._ext&=536870911,this._ext|=u<<29&3758096384}constructor(u=0,p=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=p}clone(){return new _(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=_},782:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const _=n(133),v=n(855),u=n(147);class p extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const f=new p;return f.setFromCharData(w),f}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,_.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let f=!1;if(w[v.CHAR_DATA_CHAR_INDEX].length>2)f=!0;else if(w[v.CHAR_DATA_CHAR_INDEX].length===2){const l=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){const o=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&o<=57343?this.content=1024*(l-55296)+o-56320+65536|w[v.CHAR_DATA_WIDTH_INDEX]<<22:f=!0}else f=!0}else this.content=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[v.CHAR_DATA_WIDTH_INDEX]<<22;f&&(this.combinedData=w[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=p},855:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},133:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},s.utf32ToString=function(n,_=0,v=n.length){let u="";for(let p=_;p<v;++p){let C=n[p];C>65535?(C-=65536,u+=String.fromCharCode(55296+(C>>10))+String.fromCharCode(C%1024+56320)):u+=String.fromCharCode(C)}return u},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,_){const v=n.length;if(!v)return 0;let u=0,p=0;if(this._interim){const C=n.charCodeAt(p++);56320<=C&&C<=57343?_[u++]=1024*(this._interim-55296)+C-56320+65536:(_[u++]=this._interim,_[u++]=C),this._interim=0}for(let C=p;C<v;++C){const w=n.charCodeAt(C);if(55296<=w&&w<=56319){if(++C>=v)return this._interim=w,u;const f=n.charCodeAt(C);56320<=f&&f<=57343?_[u++]=1024*(w-55296)+f-56320+65536:(_[u++]=w,_[u++]=f)}else w!==65279&&(_[u++]=w)}return u}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,_){const v=n.length;if(!v)return 0;let u,p,C,w,f=0,l=0,o=0;if(this.interim[0]){let g=!1,x=this.interim[0];x&=(224&x)==192?31:(240&x)==224?15:7;let y,b=0;for(;(y=63&this.interim[++b])&&b<4;)x<<=6,x|=y;const S=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=S-b;for(;o<E;){if(o>=v)return 0;if(y=n[o++],(192&y)!=128){o--,g=!0;break}this.interim[b++]=y,x<<=6,x|=63&y}g||(S===2?x<128?o--:_[f++]=x:S===3?x<2048||x>=55296&&x<=57343||x===65279||(_[f++]=x):x<65536||x>1114111||(_[f++]=x)),this.interim.fill(0)}const a=v-4;let h=o;for(;h<v;){for(;!(!(h<a)||128&(u=n[h])||128&(p=n[h+1])||128&(C=n[h+2])||128&(w=n[h+3]));)_[f++]=u,_[f++]=p,_[f++]=C,_[f++]=w,h+=4;if(u=n[h++],u<128)_[f++]=u;else if((224&u)==192){if(h>=v)return this.interim[0]=u,f;if(p=n[h++],(192&p)!=128){h--;continue}if(l=(31&u)<<6|63&p,l<128){h--;continue}_[f++]=l}else if((240&u)==224){if(h>=v)return this.interim[0]=u,f;if(p=n[h++],(192&p)!=128){h--;continue}if(h>=v)return this.interim[0]=u,this.interim[1]=p,f;if(C=n[h++],(192&C)!=128){h--;continue}if(l=(15&u)<<12|(63&p)<<6|63&C,l<2048||l>=55296&&l<=57343||l===65279)continue;_[f++]=l}else if((248&u)==240){if(h>=v)return this.interim[0]=u,f;if(p=n[h++],(192&p)!=128){h--;continue}if(h>=v)return this.interim[0]=u,this.interim[1]=p,f;if(C=n[h++],(192&C)!=128){h--;continue}if(h>=v)return this.interim[0]=u,this.interim[1]=p,this.interim[2]=C,f;if(w=n[h++],(192&w)!=128){h--;continue}if(l=(7&u)<<18|(63&p)<<12|(63&C)<<6|63&w,l<65536||l>1114111)continue;_[f++]=l}}return f}}},776:function(m,s,n){var _=this&&this.__decorate||function(l,o,a,h){var g,x=arguments.length,y=x<3?o:h===null?h=Object.getOwnPropertyDescriptor(o,a):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(l,o,a,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(y=(x<3?g(y):x>3?g(o,a,y):g(o,a))||y);return x>3&&y&&Object.defineProperty(o,a,y),y},v=this&&this.__param||function(l,o){return function(a,h){o(a,h,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const u=n(859),p=n(97),C={trace:p.LogLevelEnum.TRACE,debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF};let w,f=s.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(l){super(),this._optionsService=l,this._logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),w=this}_updateLogLevel(){this._logLevel=C[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(l){for(let o=0;o<l.length;o++)typeof l[o]=="function"&&(l[o]=l[o]())}_log(l,o,a){this._evalLazyOptionalParams(a),l.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+o,...a)}trace(l,...o){this._logLevel<=p.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,l,o)}debug(l,...o){this._logLevel<=p.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,l,o)}info(l,...o){this._logLevel<=p.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,l,o)}warn(l,...o){this._logLevel<=p.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,l,o)}error(l,...o){this._logLevel<=p.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,l,o)}};s.LogService=f=_([v(0,p.IOptionsService)],f),s.setTraceLogger=function(l){w=l},s.traceCall=function(l,o,a){if(typeof a.value!="function")throw new Error("not supported");const h=a.value;a.value=function(...g){if(w.logLevel!==p.LogLevelEnum.TRACE)return h.apply(this,g);w.trace(`GlyphRenderer#${h.name}(${g.map(y=>JSON.stringify(y)).join(", ")})`);const x=h.apply(this,g);return w.trace(`GlyphRenderer#${h.name} return`,x),x}}},726:(m,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const n="di$target",_="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(v){return v[_]||[]},s.createDecorator=function(v){if(s.serviceRegistry.has(v))return s.serviceRegistry.get(v);const u=function(p,C,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(f,l,o){l[n]===l?l[_].push({id:f,index:o}):(l[_]=[{id:f,index:o}],l[n]=l)})(u,p,w)};return u.toString=()=>v,s.serviceRegistry.set(v,u),u}},97:(m,s,n)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const _=n(726);var v;s.IBufferService=(0,_.createDecorator)("BufferService"),s.ICoreMouseService=(0,_.createDecorator)("CoreMouseService"),s.ICoreService=(0,_.createDecorator)("CoreService"),s.ICharsetService=(0,_.createDecorator)("CharsetService"),s.IInstantiationService=(0,_.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(v||(s.LogLevelEnum=v={})),s.ILogService=(0,_.createDecorator)("LogService"),s.IOptionsService=(0,_.createDecorator)("OptionsService"),s.IOscLinkService=(0,_.createDecorator)("OscLinkService"),s.IUnicodeService=(0,_.createDecorator)("UnicodeService"),s.IDecorationService=(0,_.createDecorator)("DecorationService")}},i={};function c(m){var s=i[m];if(s!==void 0)return s.exports;var n=i[m]={exports:{}};return r[m].call(n.exports,n,n.exports,c),n.exports}var d={};return(()=>{var m=d;Object.defineProperty(m,"__esModule",{value:!0}),m.WebglAddon=void 0;const s=c(345),n=c(859),_=c(399),v=c(666),u=c(776);class p extends n.Disposable{constructor(w){if(_.isSafari&&(0,_.getSafariVersion)()<16){const f={antialias:!1,depth:!1,preserveDrawingBuffer:!0};if(!document.createElement("canvas").getContext("webgl2",f))throw new Error("Webgl2 is only supported on Safari 16 and above")}super(),this._preserveDrawingBuffer=w,this._onChangeTextureAtlas=this.register(new s.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new s.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new s.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new s.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(w){const f=w._core;if(!w.element)return void this.register(f.onWillOpen(()=>this.activate(w)));this._terminal=w;const l=f.coreService,o=f.optionsService,a=f,h=a._renderService,g=a._characterJoinerService,x=a._charSizeService,y=a._coreBrowserService,b=a._decorationService,S=a._logService,E=a._themeService;(0,u.setTraceLogger)(S),this._renderer=this.register(new v.WebglRenderer(w,g,x,y,l,b,o,E,this._preserveDrawingBuffer)),this.register((0,s.forwardEvent)(this._renderer.onContextLoss,this._onContextLoss)),this.register((0,s.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,s.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register((0,s.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),h.setRenderer(this._renderer),this.register((0,n.toDisposable)(()=>{const L=this._terminal._core._renderService;L.setRenderer(this._terminal._core._createRenderer()),L.handleResize(w.cols,w.rows)}))}get textureAtlas(){return this._renderer?.textureAtlas}clearTextureAtlas(){this._renderer?.clearTextureAtlas()}}m.WebglAddon=p})(),d})())})(cf);var Cm=cf.exports;const wm=()=>{const e=Y.useRef(null),t=Y.useRef(null),r=Y.useRef(null),{subscribeOutput:i,sendInput:c,resize:d}=Dr(),m=Y.useCallback(()=>{if(r.current&&t.current){r.current.fit();const{cols:s,rows:n}=t.current;d(s,n)}},[d]);return Y.useEffect(()=>{if(!e.current)return;const s=new ym.Terminal({fontSize:12,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#0d1117",foreground:"#e6edf3",cursor:"#58a6ff",cursorAccent:"#0d1117",selectionBackground:"rgba(163, 113, 247, 0.3)",black:"#484f58",red:"#f85149",green:"#3fb950",yellow:"#d29922",blue:"#58a6ff",magenta:"#a371f7",cyan:"#39c5cf",white:"#b1bac4",brightBlack:"#6e7681",brightRed:"#ffa198",brightGreen:"#56d364",brightYellow:"#e3b341",brightBlue:"#79c0ff",brightMagenta:"#d2a8ff",brightCyan:"#56d4dd",brightWhite:"#f0f6fc"},scrollback:1e3,cursorBlink:!0,allowProposedApi:!0});t.current=s;const n=new Sm.FitAddon;r.current=n,s.loadAddon(n);try{const u=new Cm.WebglAddon;u.onContextLoss(()=>{u.dispose()}),s.loadAddon(u),console.log("[Terminal] Using WebGL renderer")}catch(u){console.warn("[Terminal] WebGL addon failed, using canvas renderer:",u)}s.open(e.current),setTimeout(()=>{n.fit();const{cols:u,rows:p}=s;d(u,p)},0);const _=s.onData(u=>{c(u)}),v=i(u=>{u instanceof Uint8Array,s.write(u)});return window.addEventListener("resize",m),()=>{v(),_.dispose(),window.removeEventListener("resize",m),s.dispose()}},[i,c,d,m]),N.jsx("div",{ref:e,className:"w-full h-full bg-bg-primary overflow-hidden",style:{padding:"4px"}})};function xm(){return Y.useEffect(()=>{const e=()=>{const t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),N.jsx($p,{children:N.jsx(mm,{children:N.jsx(wm,{})})})}To.createRoot(document.getElementById("root")).render(N.jsx(Rf.StrictMode,{children:N.jsx(xm,{})}));</script>
    <style rel="stylesheet" crossorigin>/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */.xterm{cursor:text;position:relative;-moz-user-select:none;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;inset:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility:not(.debug),.xterm .xterm-message{position:absolute;inset:0;z-index:10;color:transparent;pointer-events:none}.xterm .xterm-accessibility-tree:not(.debug) *::-moz-selection{color:transparent}.xterm .xterm-accessibility-tree:not(.debug) *::selection{color:transparent}.xterm .xterm-accessibility-tree{-webkit-user-select:text;-moz-user-select:text;user-select:text;white-space:pre}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{-webkit-text-decoration:overline double underline;text-decoration:overline double underline}.xterm-overline.xterm-underline-3{-webkit-text-decoration:overline wavy underline;text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{-webkit-text-decoration:overline dotted underline;text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{-webkit-text-decoration:overline dashed underline;text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}html,body,#root{height:100dvh;width:100%;overflow:hidden;margin:0;padding:0}body{background-color:var(--bg-primary);color:var(--text-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.top-0{top:0}.z-50{z-index:50}.mx-4{margin-left:1rem;margin-right:1rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mt-1{margin-top:.25rem}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-2{height:.5rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-\[100dvh\]{height:100dvh}.h-\[40px\]{height:40px}.h-\[50vh\]{height:50vh}.h-\[90vh\]{height:90vh}.h-auto{height:auto}.h-full{height:100%}.max-h-\[200px\]{max-height:200px}.max-h-\[400px\]{max-height:400px}.max-h-\[70vh\]{max-height:70vh}.max-h-\[80vh\]{max-height:80vh}.min-h-0{min-height:0px}.min-h-\[44px\]{min-height:44px}.w-11{width:2.75rem}.w-2{width:.5rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-\[32px\]{min-width:32px}.max-w-\[120px\]{max-width:120px}.max-w-\[200px\]{max-width:200px}.max-w-lg{max-width:32rem}.max-w-sm{max-width:24rem}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-border-subtle>:not([hidden])~:not([hidden]){border-color:var(--border-subtle)}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-l-2{border-left-width:2px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-accent-blue{border-color:var(--accent-blue)}.border-accent-purple{border-color:var(--accent-purple)}.border-border-subtle{border-color:var(--border-subtle)}.bg-accent-blue{background-color:var(--accent-blue)}.bg-accent-green{background-color:var(--accent-green)}.bg-accent-purple{background-color:var(--accent-purple)}.bg-accent-red{background-color:var(--accent-red)}.bg-bg-primary{background-color:var(--bg-primary)}.bg-bg-secondary{background-color:var(--bg-secondary)}.bg-bg-tertiary{background-color:var(--bg-tertiary)}.bg-black\/50{background-color:#00000080}.bg-black\/80{background-color:#000c}.bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-\[env\(safe-area-inset-bottom\)\]{padding-bottom:env(safe-area-inset-bottom)}.pr-2{padding-right:.5rem}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-sans{font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.tracking-wider{letter-spacing:.05em}.text-accent-blue{color:var(--accent-blue)}.text-accent-green{color:var(--accent-green)}.text-accent-orange{color:var(--accent-orange)}.text-accent-purple{color:var(--accent-purple)}.text-accent-red{color:var(--accent-red)}.text-border-subtle{color:var(--border-subtle)}.text-text-muted{color:var(--text-muted)}.text-text-primary{color:var(--text-primary)}.text-text-secondary{color:var(--text-secondary)}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.no-scrollbar::-webkit-scrollbar{display:none}.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}.mask-gradient-right{mask-image:linear-gradient(to right,black 90%,transparent 100%);-webkit-mask-image:linear-gradient(to right,black 90%,transparent 100%)}.animate-in.fade-in{animation:fadeIn .2s ease-out forwards}:root{--bg-primary: #0d1117;--bg-secondary: #161b22;--bg-tertiary: #21262d;--accent-blue: #58a6ff;--accent-green: #3fb950;--accent-red: #f85149;--accent-purple: #a371f7;--accent-orange: #d29922;--text-primary: #e6edf3;--text-secondary: #8b949e;--text-muted: #6e7681;--border-subtle: #30363d;--glow-ai: rgba(163, 113, 247, .15)}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:var(--bg-secondary)}::-webkit-scrollbar-thumb{background:var(--bg-tertiary);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:var(--border-subtle)}::-moz-selection{background-color:var(--accent-purple);color:#fff}::selection{background-color:var(--accent-purple);color:#fff}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.placeholder\:text-text-muted::-moz-placeholder{color:var(--text-muted)}.placeholder\:text-text-muted::placeholder{color:var(--text-muted)}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:start-\[2px\]:after{content:var(--tw-content);inset-inline-start:2px}.after\:top-\[2px\]:after{content:var(--tw-content);top:2px}.after\:h-5:after{content:var(--tw-content);height:1.25rem}.after\:w-5:after{content:var(--tw-content);width:1.25rem}.after\:rounded-full:after{content:var(--tw-content);border-radius:9999px}.after\:border:after{content:var(--tw-content);border-width:1px}.after\:border-gray-300:after{content:var(--tw-content);--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.after\:bg-white:after{content:var(--tw-content);--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.after\:transition-all:after{content:var(--tw-content);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.after\:content-\[\'\'\]:after{--tw-content: "";content:var(--tw-content)}.hover\:bg-bg-tertiary:hover{background-color:var(--bg-tertiary)}.hover\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.hover\:text-accent-red:hover{color:var(--accent-red)}.hover\:text-text-primary:hover{color:var(--text-primary)}.focus\:border-accent-blue:focus{border-color:var(--accent-blue)}.focus\:border-accent-purple:focus{border-color:var(--accent-purple)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.active\:scale-95:active{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-30:disabled{opacity:.3}.disabled\:opacity-50:disabled{opacity:.5}.peer:checked~.peer-checked\:bg-accent-green{background-color:var(--accent-green)}.peer:checked~.peer-checked\:after\:translate-x-full:after{content:var(--tw-content);--tw-translate-x: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.peer:checked~.peer-checked\:after\:border-white:after{content:var(--tw-content);--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.peer:focus~.peer-focus\:outline-none{outline:2px solid transparent;outline-offset:2px}.peer:checked~.rtl\:peer-checked\:after\:-translate-x-full:where([dir=rtl],[dir=rtl] *):after{content:var(--tw-content);--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
